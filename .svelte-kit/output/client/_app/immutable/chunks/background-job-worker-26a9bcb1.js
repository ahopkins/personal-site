import{S as $h,i as jh,s as qh,c as cg,e as k,f as S,l as C,m as w,n as T,j as d,y as D,o as I,p,u as ug,g as hg,a as fg,t as Io,b as Mo,E as pg,Z as dg,d as H,k as W,H as D_,v as Ou,w as Iu,A as Mu,C as Du}from"./index-5bfc61a1.js";import{d as N_,g as mg}from"./dayjs.min-5d37bafc.js";import{_ as jt}from"./preload-helper-41c905a7.js";function P_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.from(typeof t=="string"?[t]:t);i[i.length-1]=i[i.length-1].replace(/\r?\n([\t ]*)$/,"");var r=i.reduce(function(s,l){var c=l.match(/\n([\t ]+|(?!\s).)/g);return c?s.concat(c.map(function(u){var h,g;return(g=(h=u.match(/[\t ]/g))===null||h===void 0?void 0:h.length)!==null&&g!==void 0?g:0})):s},[]);if(r.length){var o=new RegExp(`
[	 ]{`+Math.min.apply(Math,r)+"}","g");i=i.map(function(s){return s.replace(o,`
`)})}i[0]=i[0].replace(/^\r?\n/,"");var a=i[0];return e.forEach(function(s,l){var c=a.match(/(?:^|\n)( *)$/),u=c?c[1]:"",h=s;typeof s=="string"&&s.includes(`
`)&&(h=String(s).split(`
`).map(function(g,m){return m===0?g:""+u+g}).join(`
`)),a+=h+i[l+1]}),a}/*! @license DOMPurify 2.4.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.5/LICENSE */function ii(t){"@babel/helpers - typeof";return ii=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ii(t)}function hh(t,e){return hh=Object.setPrototypeOf||function(i,r){return i.__proto__=r,i},hh(t,e)}function z_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ms(t,e,n){return z_()?ms=Reflect.construct:ms=function(r,o,a){var s=[null];s.push.apply(s,o);var l=Function.bind.apply(r,s),c=new l;return a&&hh(c,a.prototype),c},ms.apply(null,arguments)}function Ve(t){return R_(t)||$_(t)||j_(t)||q_()}function R_(t){if(Array.isArray(t))return fh(t)}function $_(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j_(t,e){if(t){if(typeof t=="string")return fh(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fh(t,e)}}function fh(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function q_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H_=Object.hasOwnProperty,gd=Object.setPrototypeOf,W_=Object.isFrozen,U_=Object.getPrototypeOf,V_=Object.getOwnPropertyDescriptor,ae=Object.freeze,Xe=Object.seal,G_=Object.create,gg=typeof Reflect<"u"&&Reflect,Os=gg.apply,ph=gg.construct;Os||(Os=function(e,n,i){return e.apply(n,i)});ae||(ae=function(e){return e});Xe||(Xe=function(e){return e});ph||(ph=function(e,n){return ms(e,Ve(n))});var Y_=Ne(Array.prototype.forEach),yd=Ne(Array.prototype.pop),To=Ne(Array.prototype.push),gs=Ne(String.prototype.toLowerCase),Nu=Ne(String.prototype.toString),X_=Ne(String.prototype.match),Ue=Ne(String.prototype.replace),Q_=Ne(String.prototype.indexOf),K_=Ne(String.prototype.trim),ie=Ne(RegExp.prototype.test),Pu=J_(TypeError);function Ne(t){return function(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return Os(t,e,i)}}function J_(t){return function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return ph(t,n)}}function ct(t,e,n){n=n||gs,gd&&gd(t,null);for(var i=e.length;i--;){var r=e[i];if(typeof r=="string"){var o=n(r);o!==r&&(W_(e)||(e[i]=o),r=o)}t[r]=!0}return t}function Ei(t){var e=G_(null),n;for(n in t)Os(H_,t,[n])===!0&&(e[n]=t[n]);return e}function is(t,e){for(;t!==null;){var n=V_(t,e);if(n){if(n.get)return Ne(n.get);if(typeof n.value=="function")return Ne(n.value)}t=U_(t)}function i(r){return console.warn("fallback value for",r),null}return i}var _d=ae(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),zu=ae(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),Ru=ae(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Z_=ae(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),$u=ae(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),t1=ae(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),bd=ae(["#text"]),xd=ae(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ju=ae(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),kd=ae(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),rs=ae(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),e1=Xe(/\{\{[\w\W]*|[\w\W]*\}\}/gm),n1=Xe(/<%[\w\W]*|[\w\W]*%>/gm),i1=Xe(/\${[\w\W]*}/gm),r1=Xe(/^data-[\-\w.\u00B7-\uFFFF]/),o1=Xe(/^aria-[\-\w]+$/),a1=Xe(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),s1=Xe(/^(?:\w+script|data):/i),l1=Xe(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),c1=Xe(/^html$/i),u1=function(){return typeof window>"u"?null:window},h1=function(e,n){if(ii(e)!=="object"||typeof e.createPolicy!="function")return null;var i=null,r="data-tt-policy-suffix";n.currentScript&&n.currentScript.hasAttribute(r)&&(i=n.currentScript.getAttribute(r));var o="dompurify"+(i?"#"+i:"");try{return e.createPolicy(o,{createHTML:function(s){return s},createScriptURL:function(s){return s}})}catch{return console.warn("TrustedTypes policy "+o+" could not be created."),null}};function yg(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u1(),e=function(x){return yg(x)};if(e.version="2.4.5",e.removed=[],!t||!t.document||t.document.nodeType!==9)return e.isSupported=!1,e;var n=t.document,i=t.document,r=t.DocumentFragment,o=t.HTMLTemplateElement,a=t.Node,s=t.Element,l=t.NodeFilter,c=t.NamedNodeMap,u=c===void 0?t.NamedNodeMap||t.MozNamedAttrMap:c,h=t.HTMLFormElement,g=t.DOMParser,m=t.trustedTypes,b=s.prototype,B=is(b,"cloneNode"),M=is(b,"nextSibling"),v=is(b,"childNodes"),F=is(b,"parentNode");if(typeof o=="function"){var P=i.createElement("template");P.content&&P.content.ownerDocument&&(i=P.content.ownerDocument)}var G=h1(m,n),K=G?G.createHTML(""):"",E=i,$=E.implementation,rt=E.createNodeIterator,at=E.createDocumentFragment,dt=E.getElementsByTagName,j=n.importNode,X={};try{X=Ei(i).documentMode?i.documentMode:{}}catch{}var tt={};e.isSupported=typeof F=="function"&&$&&typeof $.createHTMLDocument<"u"&&X!==9;var ft=e1,Bt=n1,Ct=i1,pt=r1,wt=o1,Ot=s1,gt=l1,_=a1,y=null,be=ct({},[].concat(Ve(_d),Ve(zu),Ve(Ru),Ve($u),Ve(bd))),yt=null,Jt=ct({},[].concat(Ve(xd),Ve(ju),Ve(kd),Ve(rs))),et=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),vt=null,Wt=null,se=!0,It=!0,Ke=!1,le=!0,Zt=!1,ce=!1,ue=!1,je=!1,Ut=!1,qe=!1,He=!1,Te=!0,Ee=!1,pn="user-content-",dn=!0,We=!1,xe={},te=null,L=ct({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),R=null,Y=ct({},["audio","video","img","source","image","track"]),st=null,ht=ct({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),St="http://www.w3.org/1998/Math/MathML",qt="http://www.w3.org/2000/svg",Et="http://www.w3.org/1999/xhtml",Vt=Et,Ht=!1,mt=null,ke=ct({},[St,qt,Et],Nu),Lt,Or=["application/xhtml+xml","text/html"],Ir="text/html",_t,Je=null,mn=i.createElement("form"),$i=function(x){return x instanceof RegExp||x instanceof Function},ui=function(x){Je&&Je===x||((!x||ii(x)!=="object")&&(x={}),x=Ei(x),Lt=Or.indexOf(x.PARSER_MEDIA_TYPE)===-1?Lt=Ir:Lt=x.PARSER_MEDIA_TYPE,_t=Lt==="application/xhtml+xml"?Nu:gs,y="ALLOWED_TAGS"in x?ct({},x.ALLOWED_TAGS,_t):be,yt="ALLOWED_ATTR"in x?ct({},x.ALLOWED_ATTR,_t):Jt,mt="ALLOWED_NAMESPACES"in x?ct({},x.ALLOWED_NAMESPACES,Nu):ke,st="ADD_URI_SAFE_ATTR"in x?ct(Ei(ht),x.ADD_URI_SAFE_ATTR,_t):ht,R="ADD_DATA_URI_TAGS"in x?ct(Ei(Y),x.ADD_DATA_URI_TAGS,_t):Y,te="FORBID_CONTENTS"in x?ct({},x.FORBID_CONTENTS,_t):L,vt="FORBID_TAGS"in x?ct({},x.FORBID_TAGS,_t):{},Wt="FORBID_ATTR"in x?ct({},x.FORBID_ATTR,_t):{},xe="USE_PROFILES"in x?x.USE_PROFILES:!1,se=x.ALLOW_ARIA_ATTR!==!1,It=x.ALLOW_DATA_ATTR!==!1,Ke=x.ALLOW_UNKNOWN_PROTOCOLS||!1,le=x.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Zt=x.SAFE_FOR_TEMPLATES||!1,ce=x.WHOLE_DOCUMENT||!1,Ut=x.RETURN_DOM||!1,qe=x.RETURN_DOM_FRAGMENT||!1,He=x.RETURN_TRUSTED_TYPE||!1,je=x.FORCE_BODY||!1,Te=x.SANITIZE_DOM!==!1,Ee=x.SANITIZE_NAMED_PROPS||!1,dn=x.KEEP_CONTENT!==!1,We=x.IN_PLACE||!1,_=x.ALLOWED_URI_REGEXP||_,Vt=x.NAMESPACE||Et,et=x.CUSTOM_ELEMENT_HANDLING||{},x.CUSTOM_ELEMENT_HANDLING&&$i(x.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(et.tagNameCheck=x.CUSTOM_ELEMENT_HANDLING.tagNameCheck),x.CUSTOM_ELEMENT_HANDLING&&$i(x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(et.attributeNameCheck=x.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),x.CUSTOM_ELEMENT_HANDLING&&typeof x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(et.allowCustomizedBuiltInElements=x.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Zt&&(It=!1),qe&&(Ut=!0),xe&&(y=ct({},Ve(bd)),yt=[],xe.html===!0&&(ct(y,_d),ct(yt,xd)),xe.svg===!0&&(ct(y,zu),ct(yt,ju),ct(yt,rs)),xe.svgFilters===!0&&(ct(y,Ru),ct(yt,ju),ct(yt,rs)),xe.mathMl===!0&&(ct(y,$u),ct(yt,kd),ct(yt,rs))),x.ADD_TAGS&&(y===be&&(y=Ei(y)),ct(y,x.ADD_TAGS,_t)),x.ADD_ATTR&&(yt===Jt&&(yt=Ei(yt)),ct(yt,x.ADD_ATTR,_t)),x.ADD_URI_SAFE_ATTR&&ct(st,x.ADD_URI_SAFE_ATTR,_t),x.FORBID_CONTENTS&&(te===L&&(te=Ei(te)),ct(te,x.FORBID_CONTENTS,_t)),dn&&(y["#text"]=!0),ce&&ct(y,["html","head","body"]),y.table&&(ct(y,["tbody"]),delete vt.tbody),ae&&ae(x),Je=x)},On=ct({},["mi","mo","mn","ms","mtext"]),ji=ct({},["foreignobject","desc","title","annotation-xml"]),Mr=ct({},["title","style","font","a","script"]),gn=ct({},zu);ct(gn,Ru),ct(gn,Z_);var he=ct({},$u);ct(he,t1);var Dr=function(x){var N=F(x);(!N||!N.tagName)&&(N={namespaceURI:Vt,tagName:"template"});var q=gs(x.tagName),lt=gs(N.tagName);return mt[x.namespaceURI]?x.namespaceURI===qt?N.namespaceURI===Et?q==="svg":N.namespaceURI===St?q==="svg"&&(lt==="annotation-xml"||On[lt]):!!gn[q]:x.namespaceURI===St?N.namespaceURI===Et?q==="math":N.namespaceURI===qt?q==="math"&&ji[lt]:!!he[q]:x.namespaceURI===Et?N.namespaceURI===qt&&!ji[lt]||N.namespaceURI===St&&!On[lt]?!1:!he[q]&&(Mr[q]||!gn[q]):!!(Lt==="application/xhtml+xml"&&mt[x.namespaceURI]):!1},ee=function(x){To(e.removed,{element:x});try{x.parentNode.removeChild(x)}catch{try{x.outerHTML=K}catch{x.remove()}}},hi=function(x,N){try{To(e.removed,{attribute:N.getAttributeNode(x),from:N})}catch{To(e.removed,{attribute:null,from:N})}if(N.removeAttribute(x),x==="is"&&!yt[x])if(Ut||qe)try{ee(N)}catch{}else try{N.setAttribute(x,"")}catch{}},qi=function(x){var N,q;if(je)x="<remove></remove>"+x;else{var lt=X_(x,/^[\r\n\t ]+/);q=lt&&lt[0]}Lt==="application/xhtml+xml"&&Vt===Et&&(x='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+x+"</body></html>");var $t=G?G.createHTML(x):x;if(Vt===Et)try{N=new g().parseFromString($t,Lt)}catch{}if(!N||!N.documentElement){N=$.createDocument(Vt,"template",null);try{N.documentElement.innerHTML=Ht?K:$t}catch{}}var Tt=N.body||N.documentElement;return x&&q&&Tt.insertBefore(i.createTextNode(q),Tt.childNodes[0]||null),Vt===Et?dt.call(N,ce?"html":"body")[0]:ce?N.documentElement:Tt},In=function(x){return rt.call(x.ownerDocument||x,x,l.SHOW_ELEMENT|l.SHOW_COMMENT|l.SHOW_TEXT,null,!1)},Nr=function(x){return x instanceof h&&(typeof x.nodeName!="string"||typeof x.textContent!="string"||typeof x.removeChild!="function"||!(x.attributes instanceof u)||typeof x.removeAttribute!="function"||typeof x.setAttribute!="function"||typeof x.namespaceURI!="string"||typeof x.insertBefore!="function"||typeof x.hasChildNodes!="function")},yn=function(x){return ii(a)==="object"?x instanceof a:x&&ii(x)==="object"&&typeof x.nodeType=="number"&&typeof x.nodeName=="string"},fe=function(x,N,q){tt[x]&&Y_(tt[x],function(lt){lt.call(e,N,q,Je)})},Ae=function(x){var N;if(fe("beforeSanitizeElements",x,null),Nr(x)||ie(/[\u0080-\uFFFF]/,x.nodeName))return ee(x),!0;var q=_t(x.nodeName);if(fe("uponSanitizeElement",x,{tagName:q,allowedTags:y}),x.hasChildNodes()&&!yn(x.firstElementChild)&&(!yn(x.content)||!yn(x.content.firstElementChild))&&ie(/<[/\w]/g,x.innerHTML)&&ie(/<[/\w]/g,x.textContent)||q==="select"&&ie(/<template/i,x.innerHTML))return ee(x),!0;if(!y[q]||vt[q]){if(!vt[q]&&Ze(q)&&(et.tagNameCheck instanceof RegExp&&ie(et.tagNameCheck,q)||et.tagNameCheck instanceof Function&&et.tagNameCheck(q)))return!1;if(dn&&!te[q]){var lt=F(x)||x.parentNode,$t=v(x)||x.childNodes;if($t&&lt)for(var Tt=$t.length,Ft=Tt-1;Ft>=0;--Ft)lt.insertBefore(B($t[Ft],!0),M(x))}return ee(x),!0}return x instanceof s&&!Dr(x)||(q==="noscript"||q==="noembed")&&ie(/<\/no(script|embed)/i,x.innerHTML)?(ee(x),!0):(Zt&&x.nodeType===3&&(N=x.textContent,N=Ue(N,ft," "),N=Ue(N,Bt," "),N=Ue(N,Ct," "),x.textContent!==N&&(To(e.removed,{element:x.cloneNode()}),x.textContent=N)),fe("afterSanitizeElements",x,null),!1)},Hi=function(x,N,q){if(Te&&(N==="id"||N==="name")&&(q in i||q in mn))return!1;if(!(It&&!Wt[N]&&ie(pt,N))){if(!(se&&ie(wt,N))){if(!yt[N]||Wt[N]){if(!(Ze(x)&&(et.tagNameCheck instanceof RegExp&&ie(et.tagNameCheck,x)||et.tagNameCheck instanceof Function&&et.tagNameCheck(x))&&(et.attributeNameCheck instanceof RegExp&&ie(et.attributeNameCheck,N)||et.attributeNameCheck instanceof Function&&et.attributeNameCheck(N))||N==="is"&&et.allowCustomizedBuiltInElements&&(et.tagNameCheck instanceof RegExp&&ie(et.tagNameCheck,q)||et.tagNameCheck instanceof Function&&et.tagNameCheck(q))))return!1}else if(!st[N]){if(!ie(_,Ue(q,gt,""))){if(!((N==="src"||N==="xlink:href"||N==="href")&&x!=="script"&&Q_(q,"data:")===0&&R[x])){if(!(Ke&&!ie(Ot,Ue(q,gt,"")))){if(q)return!1}}}}}}return!0},Ze=function(x){return x.indexOf("-")>0},Mn=function(x){var N,q,lt,$t;fe("beforeSanitizeAttributes",x,null);var Tt=x.attributes;if(Tt){var Ft={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:yt};for($t=Tt.length;$t--;){N=Tt[$t];var Dn=N,At=Dn.name,Ce=Dn.namespaceURI;if(q=At==="value"?N.value:K_(N.value),lt=_t(At),Ft.attrName=lt,Ft.attrValue=q,Ft.keepAttr=!0,Ft.forceKeepAttr=void 0,fe("uponSanitizeAttribute",x,Ft),q=Ft.attrValue,!Ft.forceKeepAttr&&(hi(At,x),!!Ft.keepAttr)){if(!le&&ie(/\/>/i,q)){hi(At,x);continue}Zt&&(q=Ue(q,ft," "),q=Ue(q,Bt," "),q=Ue(q,Ct," "));var Wi=_t(x.nodeName);if(Hi(Wi,lt,q)){if(Ee&&(lt==="id"||lt==="name")&&(hi(At,x),q=pn+q),G&&ii(m)==="object"&&typeof m.getAttributeType=="function"&&!Ce)switch(m.getAttributeType(Wi,lt)){case"TrustedHTML":q=G.createHTML(q);break;case"TrustedScriptURL":q=G.createScriptURL(q);break}try{Ce?x.setAttributeNS(Ce,At,q):x.setAttribute(At,q),yd(e.removed)}catch{}}}}fe("afterSanitizeAttributes",x,null)}},Pr=function Q(x){var N,q=In(x);for(fe("beforeSanitizeShadowDOM",x,null);N=q.nextNode();)fe("uponSanitizeShadowNode",N,null),!Ae(N)&&(N.content instanceof r&&Q(N.content),Mn(N));fe("afterSanitizeShadowDOM",x,null)};return e.sanitize=function(Q){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N,q,lt,$t,Tt;if(Ht=!Q,Ht&&(Q="<!-->"),typeof Q!="string"&&!yn(Q)){if(typeof Q.toString!="function")throw Pu("toString is not a function");if(Q=Q.toString(),typeof Q!="string")throw Pu("dirty is not a string, aborting")}if(!e.isSupported){if(ii(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Q=="string")return t.toStaticHTML(Q);if(yn(Q))return t.toStaticHTML(Q.outerHTML)}return Q}if(ue||ui(x),e.removed=[],typeof Q=="string"&&(We=!1),We){if(Q.nodeName){var Ft=_t(Q.nodeName);if(!y[Ft]||vt[Ft])throw Pu("root node is forbidden and cannot be sanitized in-place")}}else if(Q instanceof a)N=qi("<!---->"),q=N.ownerDocument.importNode(Q,!0),q.nodeType===1&&q.nodeName==="BODY"||q.nodeName==="HTML"?N=q:N.appendChild(q);else{if(!Ut&&!Zt&&!ce&&Q.indexOf("<")===-1)return G&&He?G.createHTML(Q):Q;if(N=qi(Q),!N)return Ut?null:He?K:""}N&&je&&ee(N.firstChild);for(var Dn=In(We?Q:N);lt=Dn.nextNode();)lt.nodeType===3&&lt===$t||Ae(lt)||(lt.content instanceof r&&Pr(lt.content),Mn(lt),$t=lt);if($t=null,We)return Q;if(Ut){if(qe)for(Tt=at.call(N.ownerDocument);N.firstChild;)Tt.appendChild(N.firstChild);else Tt=N;return(yt.shadowroot||yt.shadowrootmod)&&(Tt=j.call(n,Tt,!0)),Tt}var At=ce?N.outerHTML:N.innerHTML;return ce&&y["!doctype"]&&N.ownerDocument&&N.ownerDocument.doctype&&N.ownerDocument.doctype.name&&ie(c1,N.ownerDocument.doctype.name)&&(At="<!DOCTYPE "+N.ownerDocument.doctype.name+`>
`+At),Zt&&(At=Ue(At,ft," "),At=Ue(At,Bt," "),At=Ue(At,Ct," ")),G&&He?G.createHTML(At):At},e.setConfig=function(Q){ui(Q),ue=!0},e.clearConfig=function(){Je=null,ue=!1},e.isValidAttribute=function(Q,x,N){Je||ui({});var q=_t(Q),lt=_t(x);return Hi(q,lt,N)},e.addHook=function(Q,x){typeof x=="function"&&(tt[Q]=tt[Q]||[],To(tt[Q],x))},e.removeHook=function(Q){if(tt[Q])return yd(tt[Q])},e.removeHooks=function(Q){tt[Q]&&(tt[Q]=[])},e.removeAllHooks=function(){tt={}},e}var Is=yg();const ys={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:t=>t>=255?255:t<0?0:t,g:t=>t>=255?255:t<0?0:t,b:t=>t>=255?255:t<0?0:t,h:t=>t%360,s:t=>t>=100?100:t<0?0:t,l:t=>t>=100?100:t<0?0:t,a:t=>t>=1?1:t<0?0:t},toLinear:t=>{const e=t/255;return t>.03928?Math.pow((e+.055)/1.055,2.4):e/12.92},hue2rgb:(t,e,n)=>(n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t),hsl2rgb:({h:t,s:e,l:n},i)=>{if(!e)return n*2.55;t/=360,e/=100,n/=100;const r=n<.5?n*(1+e):n+e-n*e,o=2*n-r;switch(i){case"r":return ys.hue2rgb(o,r,t+1/3)*255;case"g":return ys.hue2rgb(o,r,t)*255;case"b":return ys.hue2rgb(o,r,t-1/3)*255}},rgb2hsl:({r:t,g:e,b:n},i)=>{t/=255,e/=255,n/=255;const r=Math.max(t,e,n),o=Math.min(t,e,n),a=(r+o)/2;if(i==="l")return a*100;if(r===o)return 0;const s=r-o,l=a>.5?s/(2-r-o):s/(r+o);if(i==="s")return l*100;switch(r){case t:return((e-n)/s+(e<n?6:0))*60;case e:return((n-t)/s+2)*60;case n:return((t-e)/s+4)*60;default:return-1}}},f1=ys,p1={clamp:(t,e,n)=>e>n?Math.min(e,Math.max(n,t)):Math.min(n,Math.max(e,t)),round:t=>Math.round(t*1e10)/1e10},d1=p1,m1={dec2hex:t=>{const e=Math.round(t).toString(16);return e.length>1?e:`0${e}`}},g1=m1,y1={channel:f1,lang:d1,unit:g1},ot=y1,ti={};for(let t=0;t<=255;t++)ti[t]=ot.unit.dec2hex(t);const Xt={ALL:0,RGB:1,HSL:2};class _1{constructor(){this.type=Xt.ALL}get(){return this.type}set(e){if(this.type&&this.type!==e)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=e}reset(){this.type=Xt.ALL}is(e){return this.type===e}}const b1=_1;class x1{constructor(e,n){this.color=n,this.changed=!1,this.data=e,this.type=new b1}set(e,n){return this.color=n,this.changed=!1,this.data=e,this.type.type=Xt.ALL,this}_ensureHSL(){const e=this.data,{h:n,s:i,l:r}=e;n===void 0&&(e.h=ot.channel.rgb2hsl(e,"h")),i===void 0&&(e.s=ot.channel.rgb2hsl(e,"s")),r===void 0&&(e.l=ot.channel.rgb2hsl(e,"l"))}_ensureRGB(){const e=this.data,{r:n,g:i,b:r}=e;n===void 0&&(e.r=ot.channel.hsl2rgb(e,"r")),i===void 0&&(e.g=ot.channel.hsl2rgb(e,"g")),r===void 0&&(e.b=ot.channel.hsl2rgb(e,"b"))}get r(){const e=this.data,n=e.r;return!this.type.is(Xt.HSL)&&n!==void 0?n:(this._ensureHSL(),ot.channel.hsl2rgb(e,"r"))}get g(){const e=this.data,n=e.g;return!this.type.is(Xt.HSL)&&n!==void 0?n:(this._ensureHSL(),ot.channel.hsl2rgb(e,"g"))}get b(){const e=this.data,n=e.b;return!this.type.is(Xt.HSL)&&n!==void 0?n:(this._ensureHSL(),ot.channel.hsl2rgb(e,"b"))}get h(){const e=this.data,n=e.h;return!this.type.is(Xt.RGB)&&n!==void 0?n:(this._ensureRGB(),ot.channel.rgb2hsl(e,"h"))}get s(){const e=this.data,n=e.s;return!this.type.is(Xt.RGB)&&n!==void 0?n:(this._ensureRGB(),ot.channel.rgb2hsl(e,"s"))}get l(){const e=this.data,n=e.l;return!this.type.is(Xt.RGB)&&n!==void 0?n:(this._ensureRGB(),ot.channel.rgb2hsl(e,"l"))}get a(){return this.data.a}set r(e){this.type.set(Xt.RGB),this.changed=!0,this.data.r=e}set g(e){this.type.set(Xt.RGB),this.changed=!0,this.data.g=e}set b(e){this.type.set(Xt.RGB),this.changed=!0,this.data.b=e}set h(e){this.type.set(Xt.HSL),this.changed=!0,this.data.h=e}set s(e){this.type.set(Xt.HSL),this.changed=!0,this.data.s=e}set l(e){this.type.set(Xt.HSL),this.changed=!0,this.data.l=e}set a(e){this.changed=!0,this.data.a=e}}const k1=x1,C1=new k1({r:0,g:0,b:0,a:0},"transparent"),el=C1,_g={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:t=>{if(t.charCodeAt(0)!==35)return;const e=t.match(_g.re);if(!e)return;const n=e[1],i=parseInt(n,16),r=n.length,o=r%4===0,a=r>4,s=a?1:17,l=a?8:4,c=o?0:-1,u=a?255:15;return el.set({r:(i>>l*(c+3)&u)*s,g:(i>>l*(c+2)&u)*s,b:(i>>l*(c+1)&u)*s,a:o?(i&u)*s/255:1},t)},stringify:t=>{const{r:e,g:n,b:i,a:r}=t;return r<1?`#${ti[Math.round(e)]}${ti[Math.round(n)]}${ti[Math.round(i)]}${ti[Math.round(r*255)]}`:`#${ti[Math.round(e)]}${ti[Math.round(n)]}${ti[Math.round(i)]}`}},Do=_g,_s={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:t=>{const e=t.match(_s.hueRe);if(e){const[,n,i]=e;switch(i){case"grad":return ot.channel.clamp.h(parseFloat(n)*.9);case"rad":return ot.channel.clamp.h(parseFloat(n)*180/Math.PI);case"turn":return ot.channel.clamp.h(parseFloat(n)*360)}}return ot.channel.clamp.h(parseFloat(t))},parse:t=>{const e=t.charCodeAt(0);if(e!==104&&e!==72)return;const n=t.match(_s.re);if(!n)return;const[,i,r,o,a,s]=n;return el.set({h:_s._hue2deg(i),s:ot.channel.clamp.s(parseFloat(r)),l:ot.channel.clamp.l(parseFloat(o)),a:a?ot.channel.clamp.a(s?parseFloat(a)/100:parseFloat(a)):1},t)},stringify:t=>{const{h:e,s:n,l:i,a:r}=t;return r<1?`hsla(${ot.lang.round(e)}, ${ot.lang.round(n)}%, ${ot.lang.round(i)}%, ${r})`:`hsl(${ot.lang.round(e)}, ${ot.lang.round(n)}%, ${ot.lang.round(i)}%)`}},os=_s,bs={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:t=>{t=t.toLowerCase();const e=bs.colors[t];if(e)return Do.parse(e)},stringify:t=>{const e=Do.stringify(t);for(const n in bs.colors)if(bs.colors[n]===e)return n}},Cd=bs,bg={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:t=>{const e=t.charCodeAt(0);if(e!==114&&e!==82)return;const n=t.match(bg.re);if(!n)return;const[,i,r,o,a,s,l,c,u]=n;return el.set({r:ot.channel.clamp.r(r?parseFloat(i)*2.55:parseFloat(i)),g:ot.channel.clamp.g(a?parseFloat(o)*2.55:parseFloat(o)),b:ot.channel.clamp.b(l?parseFloat(s)*2.55:parseFloat(s)),a:c?ot.channel.clamp.a(u?parseFloat(c)/100:parseFloat(c)):1},t)},stringify:t=>{const{r:e,g:n,b:i,a:r}=t;return r<1?`rgba(${ot.lang.round(e)}, ${ot.lang.round(n)}, ${ot.lang.round(i)}, ${ot.lang.round(r)})`:`rgb(${ot.lang.round(e)}, ${ot.lang.round(n)}, ${ot.lang.round(i)})`}},as=bg,w1={format:{keyword:Cd,hex:Do,rgb:as,rgba:as,hsl:os,hsla:os},parse:t=>{if(typeof t!="string")return t;const e=Do.parse(t)||as.parse(t)||os.parse(t)||Cd.parse(t);if(e)return e;throw new Error(`Unsupported color format: "${t}"`)},stringify:t=>!t.changed&&t.color?t.color:t.type.is(Xt.HSL)||t.data.r===void 0?os.stringify(t):t.a<1||!Number.isInteger(t.r)||!Number.isInteger(t.g)||!Number.isInteger(t.b)?as.stringify(t):Do.stringify(t)},Bn=w1,v1=(t,e)=>{const n=Bn.parse(t);for(const i in e)n[i]=ot.channel.clamp[i](e[i]);return Bn.stringify(n)},xg=v1,S1=(t,e,n=0,i=1)=>{if(typeof t!="number")return xg(t,{a:e});const r=el.set({r:ot.channel.clamp.r(t),g:ot.channel.clamp.g(e),b:ot.channel.clamp.b(n),a:ot.channel.clamp.a(i)});return Bn.stringify(r)},No=S1,T1=(t,e,n)=>{const i=Bn.parse(t),r=i[e],o=ot.channel.clamp[e](r+n);return r!==o&&(i[e]=o),Bn.stringify(i)},kg=T1,E1=(t,e)=>kg(t,"l",e),Z=E1,A1=(t,e)=>kg(t,"l",-e),nt=A1,B1=(t,e)=>{const n=Bn.parse(t),i={};for(const r in e)e[r]&&(i[r]=n[r]+e[r]);return xg(t,i)},A=B1,L1=(t,e,n=50)=>{const{r:i,g:r,b:o,a}=Bn.parse(t),{r:s,g:l,b:c,a:u}=Bn.parse(e),h=n/100,g=h*2-1,m=a-u,B=((g*m===-1?g:(g+m)/(1+g*m))+1)/2,M=1-B,v=i*B+s*M,F=r*B+l*M,P=o*B+c*M,G=a*h+u*(1-h);return No(v,F,P,G)},F1=L1,O1=(t,e=100)=>{const n=Bn.parse(t);return n.r=255-n.r,n.g=255-n.g,n.b=255-n.b,F1(n,t,e)},U=O1,Sn={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},V={trace:(...t)=>{},debug:(...t)=>{},info:(...t)=>{},warn:(...t)=>{},error:(...t)=>{},fatal:(...t)=>{}},Hh=function(t="fatal"){let e=Sn.fatal;typeof t=="string"?(t=t.toLowerCase(),t in Sn&&(e=Sn[t])):typeof t=="number"&&(e=t),V.trace=()=>{},V.debug=()=>{},V.info=()=>{},V.warn=()=>{},V.error=()=>{},V.fatal=()=>{},e<=Sn.fatal&&(V.fatal=console.error?console.error.bind(console,Ie("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",Ie("FATAL"))),e<=Sn.error&&(V.error=console.error?console.error.bind(console,Ie("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",Ie("ERROR"))),e<=Sn.warn&&(V.warn=console.warn?console.warn.bind(console,Ie("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",Ie("WARN"))),e<=Sn.info&&(V.info=console.info?console.info.bind(console,Ie("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",Ie("INFO"))),e<=Sn.debug&&(V.debug=console.debug?console.debug.bind(console,Ie("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ie("DEBUG"))),e<=Sn.trace&&(V.trace=console.debug?console.debug.bind(console,Ie("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",Ie("TRACE")))},Ie=t=>`%c${N_().format("ss.SSS")} : ${t} : `,I1=t=>t?wg(t).replace(/\\n/g,"#br#").split("#br#"):[""],Cg=t=>Is.sanitize(t),wd=(t,e)=>{var n;if(((n=e.flowchart)==null?void 0:n.htmlLabels)!==!1){const i=e.securityLevel;i==="antiscript"||i==="strict"?t=Cg(t):i!=="loose"&&(t=wg(t),t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;"),t=t.replace(/=/g,"&equals;"),t=P1(t))}return t},jo=(t,e)=>t&&(e.dompurifyConfig?t=Is.sanitize(wd(t,e),e.dompurifyConfig).toString():t=Is.sanitize(wd(t,e),{FORBID_TAGS:["style"]}).toString(),t),M1=(t,e)=>typeof t=="string"?jo(t,e):t.flat().map(n=>jo(n,e)),nl=/<br\s*\/?>/gi,D1=t=>nl.test(t),N1=t=>t.split(nl),P1=t=>t.replace(/#br#/g,"<br/>"),wg=t=>t.replace(nl,"#br#"),z1=t=>{let e="";return t&&(e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,e=e.replaceAll(/\(/g,"\\("),e=e.replaceAll(/\)/g,"\\)")),e},vg=t=>!(t===!1||["false","null","0"].includes(String(t).trim().toLowerCase())),R1=function(t){let e=t;if(t.split("~").length-1>=2){let n=e;do e=n,n=e.replace(/~([^\s,:;]+)~/,"<$1>");while(n!=e);return R1(n)}else return e},Wh={getRows:I1,sanitizeText:jo,sanitizeTextOrArray:M1,hasBreaks:D1,splitBreaks:N1,lineBreakRegex:nl,removeScript:Cg,getUrl:z1,evaluate:vg},oe=(t,e)=>e?A(t,{s:-40,l:10}):A(t,{s:-40,l:-10}),il="#ffffff",rl="#f2f2f2";let $1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||A(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||A(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||oe(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||oe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||oe(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||oe(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||U(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||U(this.tertiaryColor),this.lineColor=this.lineColor||U(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||nt(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||U(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||Z(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330}),this.darkMode)for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=nt(this["cScale"+n],75);else for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScale"+n]=nt(this["cScale"+n],25);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleInv"+n]=this["cScaleInv"+n]||U(this["cScale"+n]);for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this.darkMode?this["cScalePeer"+n]=this["cScalePeer"+n]||Z(this["cScale"+n],10):this["cScalePeer"+n]=this["cScalePeer"+n]||nt(this["cScale"+n],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let n=0;n<this.THEME_COLOR_LIMIT;n++)this["cScaleLabel"+n]=this["cScaleLabel"+n]||this.scaleLabelColor;const e=this.darkMode?-4:-1;for(let n=0;n<5;n++)this["surface"+n]=this["surface"+n]||A(this.mainBkg,{h:180,s:-15,l:e*(5+n*3)}),this["surfacePeer"+n]=this["surfacePeer"+n]||A(this.mainBkg,{h:180,s:-15,l:e*(8+n*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||A(this.primaryColor,{h:64}),this.fillType3=this.fillType3||A(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||A(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||A(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||A(this.primaryColor,{h:128}),this.fillType7=this.fillType7||A(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||A(this.primaryColor,{l:-10}),this.pie5=this.pie5||A(this.secondaryColor,{l:-10}),this.pie6=this.pie6||A(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||A(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||A(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||A(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||A(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||A(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||A(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||A(this.primaryColor,{h:-30}),this.git4=this.git4||A(this.primaryColor,{h:-60}),this.git5=this.git5||A(this.primaryColor,{h:-90}),this.git6=this.git6||A(this.primaryColor,{h:60}),this.git7=this.git7||A(this.primaryColor,{h:120}),this.darkMode?(this.git0=Z(this.git0,25),this.git1=Z(this.git1,25),this.git2=Z(this.git2,25),this.git3=Z(this.git3,25),this.git4=Z(this.git4,25),this.git5=Z(this.git5,25),this.git6=Z(this.git6,25),this.git7=Z(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||U(this.git0),this.gitInv1=this.gitInv1||U(this.git1),this.gitInv2=this.gitInv2||U(this.git2),this.gitInv3=this.gitInv3||U(this.git3),this.gitInv4=this.gitInv4||U(this.git4),this.gitInv5=this.gitInv5||U(this.git5),this.gitInv6=this.gitInv6||U(this.git6),this.gitInv7=this.gitInv7||U(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||il,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rl}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const j1=t=>{const e=new $1;return e.calculate(t),e};let q1=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=Z(this.primaryColor,16),this.tertiaryColor=A(this.primaryColor,{h:-160}),this.primaryBorderColor=U(this.background),this.secondaryBorderColor=oe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oe(this.tertiaryColor,this.darkMode),this.primaryTextColor=U(this.primaryColor),this.secondaryTextColor=U(this.secondaryColor),this.tertiaryTextColor=U(this.tertiaryColor),this.lineColor=U(this.background),this.textColor=U(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=Z(U("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=No(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=nt("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=No(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=No(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=Z(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=Z(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=Z(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||U(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScalePeer"+e]=this["cScalePeer"+e]||Z(this["cScale"+e],10);for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||A(this.mainBkg,{h:30,s:-30,l:-(-10+e*4)}),this["surfacePeer"+e]=this["surfacePeer"+e]||A(this.mainBkg,{h:30,s:-30,l:-(-7+e*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?nt(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=Z(this.secondaryColor,20),this.git1=Z(this.pie2||this.secondaryColor,20),this.git2=Z(this.pie3||this.tertiaryColor,20),this.git3=Z(this.pie4||A(this.primaryColor,{h:-30}),20),this.git4=Z(this.pie5||A(this.primaryColor,{h:-60}),20),this.git5=Z(this.pie6||A(this.primaryColor,{h:-90}),10),this.git6=Z(this.pie7||A(this.primaryColor,{h:60}),10),this.git7=Z(this.pie8||A(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||U(this.git0),this.gitInv1=this.gitInv1||U(this.git1),this.gitInv2=this.gitInv2||U(this.git2),this.gitInv3=this.gitInv3||U(this.git3),this.gitInv4=this.gitInv4||U(this.git4),this.gitInv5=this.gitInv5||U(this.git5),this.gitInv6=this.gitInv6||U(this.git6),this.gitInv7=this.gitInv7||U(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||Z(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||Z(this.background,2)}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const H1=t=>{const e=new q1;return e.calculate(t),e};let W1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=A(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=A(this.primaryColor,{h:-160}),this.primaryBorderColor=oe(this.primaryColor,this.darkMode),this.secondaryBorderColor=oe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oe(this.tertiaryColor,this.darkMode),this.primaryTextColor=U(this.primaryColor),this.secondaryTextColor=U(this.secondaryColor),this.tertiaryTextColor=U(this.tertiaryColor),this.lineColor=U(this.background),this.textColor=U(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=No(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||nt(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||nt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=nt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||nt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||A(this["cScale"+e],{h:180});for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||A(this.mainBkg,{h:30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||A(this.mainBkg,{h:30,l:-(7+e*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||U(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||U(this.labelTextColor);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=Z(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||A(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||A(this.primaryColor,{l:-10}),this.pie5=this.pie5||A(this.secondaryColor,{l:-30}),this.pie6=this.pie6||A(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||A(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||A(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||A(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||A(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||A(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||A(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||A(this.primaryColor,{h:-30}),this.git4=this.git4||A(this.primaryColor,{h:-60}),this.git5=this.git5||A(this.primaryColor,{h:-90}),this.git6=this.git6||A(this.primaryColor,{h:60}),this.git7=this.git7||A(this.primaryColor,{h:120}),this.darkMode?(this.git0=Z(this.git0,25),this.git1=Z(this.git1,25),this.git2=Z(this.git2,25),this.git3=Z(this.git3,25),this.git4=Z(this.git4,25),this.git5=Z(this.git5,25),this.git6=Z(this.git6,25),this.git7=Z(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||nt(U(this.git0),25),this.gitInv1=this.gitInv1||U(this.git1),this.gitInv2=this.gitInv2||U(this.git2),this.gitInv3=this.gitInv3||U(this.git3),this.gitInv4=this.gitInv4||U(this.git4),this.gitInv5=this.gitInv5||U(this.git5),this.gitInv6=this.gitInv6||U(this.git6),this.gitInv7=this.gitInv7||U(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||U(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||U(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||il,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rl}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const U1=t=>{const e=new W1;return e.calculate(t),e};let V1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=Z("#cde498",10),this.primaryBorderColor=oe(this.primaryColor,this.darkMode),this.secondaryBorderColor=oe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oe(this.tertiaryColor,this.darkMode),this.primaryTextColor=U(this.primaryColor),this.secondaryTextColor=U(this.secondaryColor),this.tertiaryTextColor=U(this.primaryColor),this.lineColor=U(this.background),this.textColor=U(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||A(this.primaryColor,{h:30}),this.cScale4=this.cScale4||A(this.primaryColor,{h:60}),this.cScale5=this.cScale5||A(this.primaryColor,{h:90}),this.cScale6=this.cScale6||A(this.primaryColor,{h:120}),this.cScale7=this.cScale7||A(this.primaryColor,{h:150}),this.cScale8=this.cScale8||A(this.primaryColor,{h:210}),this.cScale9=this.cScale9||A(this.primaryColor,{h:270}),this.cScale10=this.cScale10||A(this.primaryColor,{h:300}),this.cScale11=this.cScale11||A(this.primaryColor,{h:330}),this["cScalePeer1"]=this["cScalePeer1"]||nt(this.secondaryColor,45),this["cScalePeer2"]=this["cScalePeer2"]||nt(this.tertiaryColor,40);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScale"+e]=nt(this["cScale"+e],10),this["cScalePeer"+e]=this["cScalePeer"+e]||nt(this["cScale"+e],25);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||A(this["cScale"+e],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||A(this.mainBkg,{h:30,s:-30,l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||A(this.mainBkg,{h:30,s:-30,l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=nt(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||A(this.primaryColor,{l:-30}),this.pie5=this.pie5||A(this.secondaryColor,{l:-30}),this.pie6=this.pie6||A(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||A(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||A(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||A(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||A(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||A(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||A(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||A(this.primaryColor,{h:-30}),this.git4=this.git4||A(this.primaryColor,{h:-60}),this.git5=this.git5||A(this.primaryColor,{h:-90}),this.git6=this.git6||A(this.primaryColor,{h:60}),this.git7=this.git7||A(this.primaryColor,{h:120}),this.darkMode?(this.git0=Z(this.git0,25),this.git1=Z(this.git1,25),this.git2=Z(this.git2,25),this.git3=Z(this.git3,25),this.git4=Z(this.git4,25),this.git5=Z(this.git5,25),this.git6=Z(this.git6,25),this.git7=Z(this.git7,25)):(this.git0=nt(this.git0,25),this.git1=nt(this.git1,25),this.git2=nt(this.git2,25),this.git3=nt(this.git3,25),this.git4=nt(this.git4,25),this.git5=nt(this.git5,25),this.git6=nt(this.git6,25),this.git7=nt(this.git7,25)),this.gitInv0=this.gitInv0||U(this.git0),this.gitInv1=this.gitInv1||U(this.git1),this.gitInv2=this.gitInv2||U(this.git2),this.gitInv3=this.gitInv3||U(this.git3),this.gitInv4=this.gitInv4||U(this.git4),this.gitInv5=this.gitInv5||U(this.git5),this.gitInv6=this.gitInv6||U(this.git6),this.gitInv7=this.gitInv7||U(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||il,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rl}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}};const G1=t=>{const e=new V1;return e.calculate(t),e};class Y1{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=Z(this.contrast,55),this.background="#ffffff",this.tertiaryColor=A(this.primaryColor,{h:-160}),this.primaryBorderColor=oe(this.primaryColor,this.darkMode),this.secondaryBorderColor=oe(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=oe(this.tertiaryColor,this.darkMode),this.primaryTextColor=U(this.primaryColor),this.secondaryTextColor=U(this.secondaryColor),this.tertiaryTextColor=U(this.tertiaryColor),this.lineColor=U(this.background),this.textColor=U(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=Z(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleInv"+e]=this["cScaleInv"+e]||U(this["cScale"+e]);for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this.darkMode?this["cScalePeer"+e]=this["cScalePeer"+e]||Z(this["cScale"+e],10):this["cScalePeer"+e]=this["cScalePeer"+e]||nt(this["cScale"+e],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["cScaleLabel"+e]=this["cScaleLabel"+e]||this.scaleLabelColor;for(let e=0;e<5;e++)this["surface"+e]=this["surface"+e]||A(this.mainBkg,{l:-(5+e*5)}),this["surfacePeer"+e]=this["surfacePeer"+e]||A(this.mainBkg,{l:-(8+e*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=Z(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=Z(this.contrast,30),this.sectionBkgColor2=Z(this.contrast,30),this.taskBorderColor=nt(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=Z(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=nt(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=A(this.primaryColor,{h:64}),this.fillType3=A(this.secondaryColor,{h:64}),this.fillType4=A(this.primaryColor,{h:-64}),this.fillType5=A(this.secondaryColor,{h:-64}),this.fillType6=A(this.primaryColor,{h:128}),this.fillType7=A(this.secondaryColor,{h:128});for(let e=0;e<this.THEME_COLOR_LIMIT;e++)this["pie"+e]=this["cScale"+e];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=nt(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||A(this.primaryColor,{h:-30}),this.git4=this.pie5||A(this.primaryColor,{h:-60}),this.git5=this.pie6||A(this.primaryColor,{h:-90}),this.git6=this.pie7||A(this.primaryColor,{h:60}),this.git7=this.pie8||A(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||U(this.git0),this.gitInv1=this.gitInv1||U(this.git1),this.gitInv2=this.gitInv2||U(this.git2),this.gitInv3=this.gitInv3||U(this.git3),this.gitInv4=this.gitInv4||U(this.git4),this.gitInv5=this.gitInv5||U(this.git5),this.gitInv6=this.gitInv6||U(this.git6),this.gitInv7=this.gitInv7||U(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||il,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||rl}calculate(e){if(typeof e!="object"){this.updateColors();return}const n=Object.keys(e);n.forEach(i=>{this[i]=e[i]}),this.updateColors(),n.forEach(i=>{this[i]=e[i]})}}const X1=t=>{const e=new Y1;return e.calculate(t),e},An={base:{getThemeVariables:j1},dark:{getThemeVariables:H1},default:{getThemeVariables:U1},forest:{getThemeVariables:G1},neutral:{getThemeVariables:X1}},ri={theme:"default",themeVariables:An.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,displayMode:"",axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},timeline:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0,textPosition:.75},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};ri.class&&(ri.class.arrowMarkerAbsolute=ri.arrowMarkerAbsolute);ri.gitGraph&&(ri.gitGraph.arrowMarkerAbsolute=ri.arrowMarkerAbsolute);const Sg=(t,e="")=>Object.keys(t).reduce((n,i)=>Array.isArray(t[i])?n:typeof t[i]=="object"&&t[i]!==null?[...n,e+i,...Sg(t[i],"")]:[...n,e+i],[]),Q1=Sg(ri,""),K1=ri,dh=function(t,e,n){const{depth:i,clobber:r}=Object.assign({depth:2,clobber:!1},n);return Array.isArray(e)&&!Array.isArray(t)?(e.forEach(o=>dh(t,o,n)),t):Array.isArray(e)&&Array.isArray(t)?(e.forEach(o=>{t.includes(o)||t.push(o)}),t):t===void 0||i<=0?t!=null&&typeof t=="object"&&typeof e=="object"?Object.assign(t,e):e:(e!==void 0&&typeof t=="object"&&typeof e=="object"&&Object.keys(e).forEach(o=>{typeof e[o]=="object"&&(t[o]===void 0||typeof t[o]=="object")?(t[o]===void 0&&(t[o]=Array.isArray(e[o])?[]:{}),t[o]=dh(t[o],e[o],{depth:i-1,clobber:r})):(r||typeof t[o]!="object"&&typeof e[o]!="object")&&(t[o]=e[o])}),t)},Qt=dh,qo=Object.freeze(K1);let ge=Qt({},qo),Tg,xr=[],Po=Qt({},qo);const ol=(t,e)=>{let n=Qt({},t),i={};for(const r of e)Ag(r),i=Qt(i,r);if(n=Qt(n,i),i.theme&&i.theme in An){const r=Qt({},Tg),o=Qt(r.themeVariables||{},i.themeVariables);n.theme&&n.theme in An&&(n.themeVariables=An[n.theme].getThemeVariables(o))}return Po=n,Fg(Po),Po},J1=t=>(ge=Qt({},qo),ge=Qt(ge,t),t.theme&&An[t.theme]&&(ge.themeVariables=An[t.theme].getThemeVariables(t.themeVariables)),ol(ge,xr),ge),Z1=t=>{Tg=Qt({},t)},tb=t=>(ge=Qt(ge,t),ol(ge,xr),ge),Eg=()=>Qt({},ge),eb=t=>(Fg(t),Qt(Po,t),Fn()),Fn=()=>Qt({},Po),Ag=t=>{["secure",...ge.secure??[]].forEach(e=>{t[e]!==void 0&&(V.debug(`Denied attempt to modify a secure key ${e}`,t[e]),delete t[e])}),Object.keys(t).forEach(e=>{e.indexOf("__")===0&&delete t[e]}),Object.keys(t).forEach(e=>{typeof t[e]=="string"&&(t[e].includes("<")||t[e].includes(">")||t[e].includes("url(data:"))&&delete t[e],typeof t[e]=="object"&&Ag(t[e])})},Bg=t=>{t.fontFamily&&(t.themeVariables?t.themeVariables.fontFamily||(t.themeVariables={fontFamily:t.fontFamily}):t.themeVariables={fontFamily:t.fontFamily}),xr.push(t),ol(ge,xr)},Ms=(t=ge)=>{xr=[],ol(t,xr)};var Lg=(t=>(t.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",t))(Lg||{});const vd={},nb=t=>{vd[t]||(V.warn(Lg[t]),vd[t]=!0)},Fg=t=>{t&&(t.lazyLoadedDiagrams||t.loadExternalDiagramsAtStartup)&&nb("LAZY_LOAD_DEPRECATED")};let Uh="",al="",Vh="";const Gh=t=>jo(t,Fn()),Og=function(){Uh="",Vh="",al=""},Ig=function(t){Uh=Gh(t).replace(/^\s+/g,"")},Mg=function(){return Uh||al},Dg=function(t){Vh=Gh(t).replace(/\n\s+/g,`
`)},Ng=function(){return Vh},Pg=function(t){al=Gh(t)},zg=function(){return al},ib={getAccTitle:Mg,setAccTitle:Ig,getDiagramTitle:zg,setDiagramTitle:Pg,getAccDescription:Ng,setAccDescription:Dg,clear:Og},rb=Object.freeze(Object.defineProperty({__proto__:null,clear:Og,default:ib,getAccDescription:Ng,getAccTitle:Mg,getDiagramTitle:zg,setAccDescription:Dg,setAccTitle:Ig,setDiagramTitle:Pg},Symbol.toStringTag,{value:"Module"}));var Yh={};Object.defineProperty(Yh,"__esModule",{value:!0});var Rg=Yh.sanitizeUrl=void 0,ob=/^([^\w]*)(javascript|data|vbscript)/im,ab=/&#(\w+)(^\w|;)?/g,sb=/&(newline|tab);/gi,lb=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,cb=/^.+(:|&colon;)/gim,ub=[".","/"];function hb(t){return ub.indexOf(t[0])>-1}function fb(t){return t.replace(ab,function(e,n){return String.fromCharCode(n)})}function pb(t){var e=fb(t||"").replace(sb,"").replace(lb,"").trim();if(!e)return"about:blank";if(hb(e))return e;var n=e.match(cb);if(!n)return e;var i=n[0];return ob.test(i)?"about:blank":e}Rg=Yh.sanitizeUrl=pb;var db={value:()=>{}};function $g(){for(var t=0,e=arguments.length,n={},i;t<e;++t){if(!(i=arguments[t]+"")||i in n||/[\s.]/.test(i))throw new Error("illegal type: "+i);n[i]=[]}return new xs(n)}function xs(t){this._=t}function mb(t,e){return t.trim().split(/^|\s+/).map(function(n){var i="",r=n.indexOf(".");if(r>=0&&(i=n.slice(r+1),n=n.slice(0,r)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:i}})}xs.prototype=$g.prototype={constructor:xs,on:function(t,e){var n=this._,i=mb(t+"",n),r,o=-1,a=i.length;if(arguments.length<2){for(;++o<a;)if((r=(t=i[o]).type)&&(r=gb(n[r],t.name)))return r;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(r=(t=i[o]).type)n[r]=Sd(n[r],t.name,e);else if(e==null)for(r in n)n[r]=Sd(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new xs(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var n=new Array(r),i=0,r,o;i<r;++i)n[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(e,n)}};function gb(t,e){for(var n=0,i=t.length,r;n<i;++n)if((r=t[n]).name===e)return r.value}function Sd(t,e,n){for(var i=0,r=t.length;i<r;++i)if(t[i].name===e){t[i]=db,t=t.slice(0,i).concat(t.slice(i+1));break}return n!=null&&t.push({name:e,value:n}),t}var mh="http://www.w3.org/1999/xhtml";const Td={svg:"http://www.w3.org/2000/svg",xhtml:mh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sl(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Td.hasOwnProperty(e)?{space:Td[e],local:t}:t}function yb(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===mh&&e.documentElement.namespaceURI===mh?e.createElement(t):e.createElementNS(n,t)}}function _b(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function jg(t){var e=sl(t);return(e.local?_b:yb)(e)}function bb(){}function Xh(t){return t==null?bb:function(){return this.querySelector(t)}}function xb(t){typeof t!="function"&&(t=Xh(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],a=o.length,s=i[r]=new Array(a),l,c,u=0;u<a;++u)(l=o[u])&&(c=t.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),s[u]=c);return new Se(i,this._parents)}function kb(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Cb(){return[]}function qg(t){return t==null?Cb:function(){return this.querySelectorAll(t)}}function wb(t){return function(){return kb(t.apply(this,arguments))}}function vb(t){typeof t=="function"?t=wb(t):t=qg(t);for(var e=this._groups,n=e.length,i=[],r=[],o=0;o<n;++o)for(var a=e[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&(i.push(t.call(l,l.__data__,c,a)),r.push(l));return new Se(i,r)}function Hg(t){return function(){return this.matches(t)}}function Wg(t){return function(e){return e.matches(t)}}var Sb=Array.prototype.find;function Tb(t){return function(){return Sb.call(this.children,t)}}function Eb(){return this.firstElementChild}function Ab(t){return this.select(t==null?Eb:Tb(typeof t=="function"?t:Wg(t)))}var Bb=Array.prototype.filter;function Lb(){return Array.from(this.children)}function Fb(t){return function(){return Bb.call(this.children,t)}}function Ob(t){return this.selectAll(t==null?Lb:Fb(typeof t=="function"?t:Wg(t)))}function Ib(t){typeof t!="function"&&(t=Hg(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],a=o.length,s=i[r]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new Se(i,this._parents)}function Ug(t){return new Array(t.length)}function Mb(){return new Se(this._enter||this._groups.map(Ug),this._parents)}function Ds(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ds.prototype={constructor:Ds,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function Db(t){return function(){return t}}function Nb(t,e,n,i,r,o){for(var a=0,s,l=e.length,c=o.length;a<c;++a)(s=e[a])?(s.__data__=o[a],i[a]=s):n[a]=new Ds(t,o[a]);for(;a<l;++a)(s=e[a])&&(r[a]=s)}function Pb(t,e,n,i,r,o,a){var s,l,c=new Map,u=e.length,h=o.length,g=new Array(u),m;for(s=0;s<u;++s)(l=e[s])&&(g[s]=m=a.call(l,l.__data__,s,e)+"",c.has(m)?r[s]=l:c.set(m,l));for(s=0;s<h;++s)m=a.call(t,o[s],s,o)+"",(l=c.get(m))?(i[s]=l,l.__data__=o[s],c.delete(m)):n[s]=new Ds(t,o[s]);for(s=0;s<u;++s)(l=e[s])&&c.get(g[s])===l&&(r[s]=l)}function zb(t){return t.__data__}function Rb(t,e){if(!arguments.length)return Array.from(this,zb);var n=e?Pb:Nb,i=this._parents,r=this._groups;typeof t!="function"&&(t=Db(t));for(var o=r.length,a=new Array(o),s=new Array(o),l=new Array(o),c=0;c<o;++c){var u=i[c],h=r[c],g=h.length,m=$b(t.call(u,u&&u.__data__,c,i)),b=m.length,B=s[c]=new Array(b),M=a[c]=new Array(b),v=l[c]=new Array(g);n(u,h,B,M,v,m,e);for(var F=0,P=0,G,K;F<b;++F)if(G=B[F]){for(F>=P&&(P=F+1);!(K=M[P])&&++P<b;);G._next=K||null}}return a=new Se(a,i),a._enter=s,a._exit=l,a}function $b(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jb(){return new Se(this._exit||this._groups.map(Ug),this._parents)}function qb(t,e,n){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),e!=null&&(r=e(r),r&&(r=r.selection())),n==null?o.remove():n(o),i&&r?i.merge(r).order():r}function Hb(t){for(var e=t.selection?t.selection():t,n=this._groups,i=e._groups,r=n.length,o=i.length,a=Math.min(r,o),s=new Array(r),l=0;l<a;++l)for(var c=n[l],u=i[l],h=c.length,g=s[l]=new Array(h),m,b=0;b<h;++b)(m=c[b]||u[b])&&(g[b]=m);for(;l<r;++l)s[l]=n[l];return new Se(s,this._parents)}function Wb(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var i=t[e],r=i.length-1,o=i[r],a;--r>=0;)(a=i[r])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Ub(t){t||(t=Vb);function e(h,g){return h&&g?t(h.__data__,g.__data__):!h-!g}for(var n=this._groups,i=n.length,r=new Array(i),o=0;o<i;++o){for(var a=n[o],s=a.length,l=r[o]=new Array(s),c,u=0;u<s;++u)(c=a[u])&&(l[u]=c);l.sort(e)}return new Se(r,this._parents).order()}function Vb(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gb(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yb(){return Array.from(this)}function Xb(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length;r<o;++r){var a=i[r];if(a)return a}return null}function Qb(){let t=0;for(const e of this)++t;return t}function Kb(){return!this.node()}function Jb(t){for(var e=this._groups,n=0,i=e.length;n<i;++n)for(var r=e[n],o=0,a=r.length,s;o<a;++o)(s=r[o])&&t.call(s,s.__data__,o,r);return this}function Zb(t){return function(){this.removeAttribute(t)}}function tx(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ex(t,e){return function(){this.setAttribute(t,e)}}function nx(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ix(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function rx(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ox(t,e){var n=sl(t);if(arguments.length<2){var i=this.node();return n.local?i.getAttributeNS(n.space,n.local):i.getAttribute(n)}return this.each((e==null?n.local?tx:Zb:typeof e=="function"?n.local?rx:ix:n.local?nx:ex)(n,e))}function Vg(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ax(t){return function(){this.style.removeProperty(t)}}function sx(t,e,n){return function(){this.style.setProperty(t,e,n)}}function lx(t,e,n){return function(){var i=e.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,n)}}function cx(t,e,n){return arguments.length>1?this.each((e==null?ax:typeof e=="function"?lx:sx)(t,e,n??"")):kr(this.node(),t)}function kr(t,e){return t.style.getPropertyValue(e)||Vg(t).getComputedStyle(t,null).getPropertyValue(e)}function ux(t){return function(){delete this[t]}}function hx(t,e){return function(){this[t]=e}}function fx(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function px(t,e){return arguments.length>1?this.each((e==null?ux:typeof e=="function"?fx:hx)(t,e)):this.node()[t]}function Gg(t){return t.trim().split(/^|\s+/)}function Qh(t){return t.classList||new Yg(t)}function Yg(t){this._node=t,this._names=Gg(t.getAttribute("class")||"")}Yg.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Xg(t,e){for(var n=Qh(t),i=-1,r=e.length;++i<r;)n.add(e[i])}function Qg(t,e){for(var n=Qh(t),i=-1,r=e.length;++i<r;)n.remove(e[i])}function dx(t){return function(){Xg(this,t)}}function mx(t){return function(){Qg(this,t)}}function gx(t,e){return function(){(e.apply(this,arguments)?Xg:Qg)(this,t)}}function yx(t,e){var n=Gg(t+"");if(arguments.length<2){for(var i=Qh(this.node()),r=-1,o=n.length;++r<o;)if(!i.contains(n[r]))return!1;return!0}return this.each((typeof e=="function"?gx:e?dx:mx)(n,e))}function _x(){this.textContent=""}function bx(t){return function(){this.textContent=t}}function xx(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function kx(t){return arguments.length?this.each(t==null?_x:(typeof t=="function"?xx:bx)(t)):this.node().textContent}function Cx(){this.innerHTML=""}function wx(t){return function(){this.innerHTML=t}}function vx(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Sx(t){return arguments.length?this.each(t==null?Cx:(typeof t=="function"?vx:wx)(t)):this.node().innerHTML}function Tx(){this.nextSibling&&this.parentNode.appendChild(this)}function Ex(){return this.each(Tx)}function Ax(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bx(){return this.each(Ax)}function Lx(t){var e=typeof t=="function"?t:jg(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Fx(){return null}function Ox(t,e){var n=typeof t=="function"?t:jg(t),i=e==null?Fx:typeof e=="function"?e:Xh(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),i.apply(this,arguments)||null)})}function Ix(){var t=this.parentNode;t&&t.removeChild(this)}function Mx(){return this.each(Ix)}function Dx(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nx(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Px(t){return this.select(t?Nx:Dx)}function zx(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Rx(t){return function(e){t.call(this,e,this.__data__)}}function $x(t){return t.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");return i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),{type:e,name:n}})}function jx(t){return function(){var e=this.__on;if(e){for(var n=0,i=-1,r=e.length,o;n<r;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++i]=o;++i?e.length=i:delete this.__on}}}function qx(t,e,n){return function(){var i=this.__on,r,o=Rx(e);if(i){for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),r.value=e;return}}this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Hx(t,e,n){var i=$x(t+""),r,o=i.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,c=s.length,u;l<c;++l)for(r=0,u=s[l];r<o;++r)if((a=i[r]).type===u.type&&a.name===u.name)return u.value}return}for(s=e?qx:jx,r=0;r<o;++r)this.each(s(i[r],e,n));return this}function Kg(t,e,n){var i=Vg(t),r=i.CustomEvent;typeof r=="function"?r=new r(e,n):(r=i.document.createEvent("Event"),n?(r.initEvent(e,n.bubbles,n.cancelable),r.detail=n.detail):r.initEvent(e,!1,!1)),t.dispatchEvent(r)}function Wx(t,e){return function(){return Kg(this,t,e)}}function Ux(t,e){return function(){return Kg(this,t,e.apply(this,arguments))}}function Vx(t,e){return this.each((typeof e=="function"?Ux:Wx)(t,e))}function*Gx(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var i=t[e],r=0,o=i.length,a;r<o;++r)(a=i[r])&&(yield a)}var Jg=[null];function Se(t,e){this._groups=t,this._parents=e}function Ko(){return new Se([[document.documentElement]],Jg)}function Yx(){return this}Se.prototype=Ko.prototype={constructor:Se,select:xb,selectAll:vb,selectChild:Ab,selectChildren:Ob,filter:Ib,data:Rb,enter:Mb,exit:jb,join:qb,merge:Hb,selection:Yx,order:Wb,sort:Ub,call:Gb,nodes:Yb,node:Xb,size:Qb,empty:Kb,each:Jb,attr:ox,style:cx,property:px,classed:yx,text:kx,html:Sx,raise:Ex,lower:Bx,append:Lx,insert:Ox,remove:Mx,clone:Px,datum:zx,on:Hx,dispatch:Vx,[Symbol.iterator]:Gx};function on(t){return typeof t=="string"?new Se([[document.querySelector(t)]],[document.documentElement]):new Se([[t]],Jg)}function Kh(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zg(t,e){var n=Object.create(t.prototype);for(var i in e)n[i]=e[i];return n}function Jo(){}var Ho=.7,Ns=1/Ho,gr="\\s*([+-]?\\d+)\\s*",Wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xx=/^#([0-9a-f]{3,8})$/,Qx=new RegExp(`^rgb\\(${gr},${gr},${gr}\\)$`),Kx=new RegExp(`^rgb\\(${cn},${cn},${cn}\\)$`),Jx=new RegExp(`^rgba\\(${gr},${gr},${gr},${Wo}\\)$`),Zx=new RegExp(`^rgba\\(${cn},${cn},${cn},${Wo}\\)$`),tk=new RegExp(`^hsl\\(${Wo},${cn},${cn}\\)$`),ek=new RegExp(`^hsla\\(${Wo},${cn},${cn},${Wo}\\)$`),Ed={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Kh(Jo,Uo,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ad,formatHex:Ad,formatHex8:nk,formatHsl:ik,formatRgb:Bd,toString:Bd});function Ad(){return this.rgb().formatHex()}function nk(){return this.rgb().formatHex8()}function ik(){return ty(this).formatHsl()}function Bd(){return this.rgb().formatRgb()}function Uo(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xx.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ld(e):n===3?new ye(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ss(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ss(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Qx.exec(t))?new ye(e[1],e[2],e[3],1):(e=Kx.exec(t))?new ye(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Jx.exec(t))?ss(e[1],e[2],e[3],e[4]):(e=Zx.exec(t))?ss(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=tk.exec(t))?Id(e[1],e[2]/100,e[3]/100,1):(e=ek.exec(t))?Id(e[1],e[2]/100,e[3]/100,e[4]):Ed.hasOwnProperty(t)?Ld(Ed[t]):t==="transparent"?new ye(NaN,NaN,NaN,0):null}function Ld(t){return new ye(t>>16&255,t>>8&255,t&255,1)}function ss(t,e,n,i){return i<=0&&(t=e=n=NaN),new ye(t,e,n,i)}function rk(t){return t instanceof Jo||(t=Uo(t)),t?(t=t.rgb(),new ye(t.r,t.g,t.b,t.opacity)):new ye}function gh(t,e,n,i){return arguments.length===1?rk(t):new ye(t,e,n,i??1)}function ye(t,e,n,i){this.r=+t,this.g=+e,this.b=+n,this.opacity=+i}Kh(ye,gh,Zg(Jo,{brighter(t){return t=t==null?Ns:Math.pow(Ns,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ho:Math.pow(Ho,t),new ye(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ye(Fi(this.r),Fi(this.g),Fi(this.b),Ps(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Fd,formatHex:Fd,formatHex8:ok,formatRgb:Od,toString:Od}));function Fd(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}`}function ok(){return`#${Li(this.r)}${Li(this.g)}${Li(this.b)}${Li((isNaN(this.opacity)?1:this.opacity)*255)}`}function Od(){const t=Ps(this.opacity);return`${t===1?"rgb(":"rgba("}${Fi(this.r)}, ${Fi(this.g)}, ${Fi(this.b)}${t===1?")":`, ${t})`}`}function Ps(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Li(t){return t=Fi(t),(t<16?"0":"")+t.toString(16)}function Id(t,e,n,i){return i<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ge(t,e,n,i)}function ty(t){if(t instanceof Ge)return new Ge(t.h,t.s,t.l,t.opacity);if(t instanceof Jo||(t=Uo(t)),!t)return new Ge;if(t instanceof Ge)return t;t=t.rgb();var e=t.r/255,n=t.g/255,i=t.b/255,r=Math.min(e,n,i),o=Math.max(e,n,i),a=NaN,s=o-r,l=(o+r)/2;return s?(e===o?a=(n-i)/s+(n<i)*6:n===o?a=(i-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+r:2-o-r,a*=60):s=l>0&&l<1?0:a,new Ge(a,s,l,t.opacity)}function ak(t,e,n,i){return arguments.length===1?ty(t):new Ge(t,e,n,i??1)}function Ge(t,e,n,i){this.h=+t,this.s=+e,this.l=+n,this.opacity=+i}Kh(Ge,ak,Zg(Jo,{brighter(t){return t=t==null?Ns:Math.pow(Ns,t),new Ge(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ho:Math.pow(Ho,t),new Ge(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,i=n+(n<.5?n:1-n)*e,r=2*n-i;return new ye(qu(t>=240?t-240:t+120,r,i),qu(t,r,i),qu(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new Ge(Md(this.h),ls(this.s),ls(this.l),Ps(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Ps(this.opacity);return`${t===1?"hsl(":"hsla("}${Md(this.h)}, ${ls(this.s)*100}%, ${ls(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Md(t){return t=(t||0)%360,t<0?t+360:t}function ls(t){return Math.max(0,Math.min(1,t||0))}function qu(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Jh=t=>()=>t;function ey(t,e){return function(n){return t+n*e}}function sk(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(i){return Math.pow(t+i*e,n)}}function Z5(t,e){var n=e-t;return n?ey(t,n>180||n<-180?n-360*Math.round(n/360):n):Jh(isNaN(t)?e:t)}function lk(t){return(t=+t)==1?ny:function(e,n){return n-e?sk(e,n,t):Jh(isNaN(e)?n:e)}}function ny(t,e){var n=e-t;return n?ey(t,n):Jh(isNaN(t)?e:t)}const Dd=function t(e){var n=lk(e);function i(r,o){var a=n((r=gh(r)).r,(o=gh(o)).r),s=n(r.g,o.g),l=n(r.b,o.b),c=ny(r.opacity,o.opacity);return function(u){return r.r=a(u),r.g=s(u),r.b=l(u),r.opacity=c(u),r+""}}return i.gamma=t,i}(1);function ei(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var yh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Hu=new RegExp(yh.source,"g");function ck(t){return function(){return t}}function uk(t){return function(e){return t(e)+""}}function hk(t,e){var n=yh.lastIndex=Hu.lastIndex=0,i,r,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(i=yh.exec(t))&&(r=Hu.exec(e));)(o=r.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(i=i[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:ei(i,r)})),n=Hu.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?uk(l[0].x):ck(e):(e=l.length,function(c){for(var u=0,h;u<e;++u)s[(h=l[u]).i]=h.x(c);return s.join("")})}var Nd=180/Math.PI,_h={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function iy(t,e,n,i,r,o){var a,s,l;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(l=t*n+e*i)&&(n-=t*l,i-=e*l),(s=Math.sqrt(n*n+i*i))&&(n/=s,i/=s,l/=s),t*i<e*n&&(t=-t,e=-e,l=-l,a=-a),{translateX:r,translateY:o,rotate:Math.atan2(e,t)*Nd,skewX:Math.atan(l)*Nd,scaleX:a,scaleY:s}}var cs;function fk(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?_h:iy(e.a,e.b,e.c,e.d,e.e,e.f)}function pk(t){return t==null||(cs||(cs=document.createElementNS("http://www.w3.org/2000/svg","g")),cs.setAttribute("transform",t),!(t=cs.transform.baseVal.consolidate()))?_h:(t=t.matrix,iy(t.a,t.b,t.c,t.d,t.e,t.f))}function ry(t,e,n,i){function r(c){return c.length?c.pop()+" ":""}function o(c,u,h,g,m,b){if(c!==h||u!==g){var B=m.push("translate(",null,e,null,n);b.push({i:B-4,x:ei(c,h)},{i:B-2,x:ei(u,g)})}else(h||g)&&m.push("translate("+h+e+g+n)}function a(c,u,h,g){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),g.push({i:h.push(r(h)+"rotate(",null,i)-2,x:ei(c,u)})):u&&h.push(r(h)+"rotate("+u+i)}function s(c,u,h,g){c!==u?g.push({i:h.push(r(h)+"skewX(",null,i)-2,x:ei(c,u)}):u&&h.push(r(h)+"skewX("+u+i)}function l(c,u,h,g,m,b){if(c!==h||u!==g){var B=m.push(r(m)+"scale(",null,",",null,")");b.push({i:B-4,x:ei(c,h)},{i:B-2,x:ei(u,g)})}else(h!==1||g!==1)&&m.push(r(m)+"scale("+h+","+g+")")}return function(c,u){var h=[],g=[];return c=t(c),u=t(u),o(c.translateX,c.translateY,u.translateX,u.translateY,h,g),a(c.rotate,u.rotate,h,g),s(c.skewX,u.skewX,h,g),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,h,g),c=u=null,function(m){for(var b=-1,B=g.length,M;++b<B;)h[(M=g[b]).i]=M.x(m);return h.join("")}}}var dk=ry(fk,"px, ","px)","deg)"),mk=ry(pk,", ",")",")"),Cr=0,Lo=0,Eo=0,oy=1e3,zs,Fo,Rs=0,Mi=0,ll=0,Vo=typeof performance=="object"&&performance.now?performance:Date,ay=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Zh(){return Mi||(ay(gk),Mi=Vo.now()+ll)}function gk(){Mi=0}function $s(){this._call=this._time=this._next=null}$s.prototype=sy.prototype={constructor:$s,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Zh():+n)+(e==null?0:+e),!this._next&&Fo!==this&&(Fo?Fo._next=this:zs=this,Fo=this),this._call=t,this._time=n,bh()},stop:function(){this._call&&(this._call=null,this._time=1/0,bh())}};function sy(t,e,n){var i=new $s;return i.restart(t,e,n),i}function yk(){Zh(),++Cr;for(var t=zs,e;t;)(e=Mi-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Cr}function Pd(){Mi=(Rs=Vo.now())+ll,Cr=Lo=0;try{yk()}finally{Cr=0,bk(),Mi=0}}function _k(){var t=Vo.now(),e=t-Rs;e>oy&&(ll-=e,Rs=t)}function bk(){for(var t,e=zs,n,i=1/0;e;)e._call?(i>e._time&&(i=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:zs=n);Fo=t,bh(i)}function bh(t){if(!Cr){Lo&&(Lo=clearTimeout(Lo));var e=t-Mi;e>24?(t<1/0&&(Lo=setTimeout(Pd,t-Vo.now()-ll)),Eo&&(Eo=clearInterval(Eo))):(Eo||(Rs=Vo.now(),Eo=setInterval(_k,oy)),Cr=1,ay(Pd))}}function zd(t,e,n){var i=new $s;return e=e==null?0:+e,i.restart(r=>{i.stop(),t(r+e)},e,n),i}var xk=$g("start","end","cancel","interrupt"),kk=[],ly=0,Rd=1,xh=2,ks=3,$d=4,kh=5,Cs=6;function cl(t,e,n,i,r,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;Ck(t,n,{name:e,index:i,group:r,on:xk,tween:kk,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ly})}function tf(t,e){var n=Qe(t,e);if(n.state>ly)throw new Error("too late; already scheduled");return n}function fn(t,e){var n=Qe(t,e);if(n.state>ks)throw new Error("too late; already running");return n}function Qe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ck(t,e,n){var i=t.__transition,r;i[e]=n,n.timer=sy(o,0,n.time);function o(c){n.state=Rd,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var u,h,g,m;if(n.state!==Rd)return l();for(u in i)if(m=i[u],m.name===n.name){if(m.state===ks)return zd(a);m.state===$d?(m.state=Cs,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete i[u]):+u<e&&(m.state=Cs,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete i[u])}if(zd(function(){n.state===ks&&(n.state=$d,n.timer.restart(s,n.delay,n.time),s(c))}),n.state=xh,n.on.call("start",t,t.__data__,n.index,n.group),n.state===xh){for(n.state=ks,r=new Array(g=n.tween.length),u=0,h=-1;u<g;++u)(m=n.tween[u].value.call(t,t.__data__,n.index,n.group))&&(r[++h]=m);r.length=h+1}}function s(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=kh,1),h=-1,g=r.length;++h<g;)r[h].call(t,u);n.state===kh&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=Cs,n.timer.stop(),delete i[e];for(var c in i)return;delete t.__transition}}function wk(t,e){var n=t.__transition,i,r,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((i=n[a]).name!==e){o=!1;continue}r=i.state>xh&&i.state<kh,i.state=Cs,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete n[a]}o&&delete t.__transition}}function vk(t){return this.each(function(){wk(this,t)})}function Sk(t,e){var n,i;return function(){var r=fn(this,t),o=r.tween;if(o!==n){i=n=o;for(var a=0,s=i.length;a<s;++a)if(i[a].name===e){i=i.slice(),i.splice(a,1);break}}r.tween=i}}function Tk(t,e,n){var i,r;if(typeof n!="function")throw new Error;return function(){var o=fn(this,t),a=o.tween;if(a!==i){r=(i=a).slice();for(var s={name:e,value:n},l=0,c=r.length;l<c;++l)if(r[l].name===e){r[l]=s;break}l===c&&r.push(s)}o.tween=r}}function Ek(t,e){var n=this._id;if(t+="",arguments.length<2){for(var i=Qe(this.node(),n).tween,r=0,o=i.length,a;r<o;++r)if((a=i[r]).name===t)return a.value;return null}return this.each((e==null?Sk:Tk)(n,t,e))}function ef(t,e,n){var i=t._id;return t.each(function(){var r=fn(this,i);(r.value||(r.value={}))[e]=n.apply(this,arguments)}),function(r){return Qe(r,i).value[e]}}function cy(t,e){var n;return(typeof e=="number"?ei:e instanceof Uo?Dd:(n=Uo(e))?(e=n,Dd):hk)(t,e)}function Ak(t){return function(){this.removeAttribute(t)}}function Bk(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lk(t,e,n){var i,r=n+"",o;return function(){var a=this.getAttribute(t);return a===r?null:a===i?o:o=e(i=a,n)}}function Fk(t,e,n){var i,r=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===r?null:a===i?o:o=e(i=a,n)}}function Ok(t,e,n){var i,r,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(t):(a=this.getAttribute(t),l=s+"",a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s)))}}function Ik(t,e,n){var i,r,o;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),l=s+"",a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s)))}}function Mk(t,e){var n=sl(t),i=n==="transform"?mk:cy;return this.attrTween(t,typeof e=="function"?(n.local?Ik:Ok)(n,i,ef(this,"attr."+t,e)):e==null?(n.local?Bk:Ak)(n):(n.local?Fk:Lk)(n,i,e))}function Dk(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Nk(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Pk(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&Nk(t,o)),n}return r._value=e,r}function zk(t,e){var n,i;function r(){var o=e.apply(this,arguments);return o!==i&&(n=(i=o)&&Dk(t,o)),n}return r._value=e,r}function Rk(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var i=sl(t);return this.tween(n,(i.local?Pk:zk)(i,e))}function $k(t,e){return function(){tf(this,t).delay=+e.apply(this,arguments)}}function jk(t,e){return e=+e,function(){tf(this,t).delay=e}}function qk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?$k:jk)(e,t)):Qe(this.node(),e).delay}function Hk(t,e){return function(){fn(this,t).duration=+e.apply(this,arguments)}}function Wk(t,e){return e=+e,function(){fn(this,t).duration=e}}function Uk(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Hk:Wk)(e,t)):Qe(this.node(),e).duration}function Vk(t,e){if(typeof e!="function")throw new Error;return function(){fn(this,t).ease=e}}function Gk(t){var e=this._id;return arguments.length?this.each(Vk(e,t)):Qe(this.node(),e).ease}function Yk(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;fn(this,t).ease=n}}function Xk(t){if(typeof t!="function")throw new Error;return this.each(Yk(this._id,t))}function Qk(t){typeof t!="function"&&(t=Hg(t));for(var e=this._groups,n=e.length,i=new Array(n),r=0;r<n;++r)for(var o=e[r],a=o.length,s=i[r]=[],l,c=0;c<a;++c)(l=o[c])&&t.call(l,l.__data__,c,o)&&s.push(l);return new Ln(i,this._parents,this._name,this._id)}function Kk(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,i=e.length,r=n.length,o=Math.min(i,r),a=new Array(i),s=0;s<o;++s)for(var l=e[s],c=n[s],u=l.length,h=a[s]=new Array(u),g,m=0;m<u;++m)(g=l[m]||c[m])&&(h[m]=g);for(;s<i;++s)a[s]=e[s];return new Ln(a,this._parents,this._name,this._id)}function Jk(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Zk(t,e,n){var i,r,o=Jk(e)?tf:fn;return function(){var a=o(this,t),s=a.on;s!==i&&(r=(i=s).copy()).on(e,n),a.on=r}}function tC(t,e){var n=this._id;return arguments.length<2?Qe(this.node(),n).on.on(t):this.each(Zk(n,t,e))}function eC(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function nC(){return this.on("end.remove",eC(this._id))}function iC(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Xh(t));for(var i=this._groups,r=i.length,o=new Array(r),a=0;a<r;++a)for(var s=i[a],l=s.length,c=o[a]=new Array(l),u,h,g=0;g<l;++g)(u=s[g])&&(h=t.call(u,u.__data__,g,s))&&("__data__"in u&&(h.__data__=u.__data__),c[g]=h,cl(c[g],e,n,g,c,Qe(u,n)));return new Ln(o,this._parents,e,n)}function rC(t){var e=this._name,n=this._id;typeof t!="function"&&(t=qg(t));for(var i=this._groups,r=i.length,o=[],a=[],s=0;s<r;++s)for(var l=i[s],c=l.length,u,h=0;h<c;++h)if(u=l[h]){for(var g=t.call(u,u.__data__,h,l),m,b=Qe(u,n),B=0,M=g.length;B<M;++B)(m=g[B])&&cl(m,e,n,B,g,b);o.push(g),a.push(u)}return new Ln(o,a,e,n)}var oC=Ko.prototype.constructor;function aC(){return new oC(this._groups,this._parents)}function sC(t,e){var n,i,r;return function(){var o=kr(this,t),a=(this.style.removeProperty(t),kr(this,t));return o===a?null:o===n&&a===i?r:r=e(n=o,i=a)}}function uy(t){return function(){this.style.removeProperty(t)}}function lC(t,e,n){var i,r=n+"",o;return function(){var a=kr(this,t);return a===r?null:a===i?o:o=e(i=a,n)}}function cC(t,e,n){var i,r,o;return function(){var a=kr(this,t),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(t),kr(this,t))),a===l?null:a===i&&l===r?o:(r=l,o=e(i=a,s))}}function uC(t,e){var n,i,r,o="style."+e,a="end."+o,s;return function(){var l=fn(this,t),c=l.on,u=l.value[o]==null?s||(s=uy(e)):void 0;(c!==n||r!==u)&&(i=(n=c).copy()).on(a,r=u),l.on=i}}function hC(t,e,n){var i=(t+="")=="transform"?dk:cy;return e==null?this.styleTween(t,sC(t,i)).on("end.style."+t,uy(t)):typeof e=="function"?this.styleTween(t,cC(t,i,ef(this,"style."+t,e))).each(uC(this._id,t)):this.styleTween(t,lC(t,i,e),n).on("end.style."+t,null)}function fC(t,e,n){return function(i){this.style.setProperty(t,e.call(this,i),n)}}function pC(t,e,n){var i,r;function o(){var a=e.apply(this,arguments);return a!==r&&(i=(r=a)&&fC(t,a,n)),i}return o._value=e,o}function dC(t,e,n){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(e==null)return this.tween(i,null);if(typeof e!="function")throw new Error;return this.tween(i,pC(t,e,n??""))}function mC(t){return function(){this.textContent=t}}function gC(t){return function(){var e=t(this);this.textContent=e??""}}function yC(t){return this.tween("text",typeof t=="function"?gC(ef(this,"text",t)):mC(t==null?"":t+""))}function _C(t){return function(e){this.textContent=t.call(this,e)}}function bC(t){var e,n;function i(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&_C(r)),e}return i._value=t,i}function xC(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,bC(t))}function kC(){for(var t=this._name,e=this._id,n=hy(),i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,l,c=0;c<s;++c)if(l=a[c]){var u=Qe(l,e);cl(l,t,n,c,a,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ln(i,this._parents,t,n)}function CC(){var t,e,n=this,i=n._id,r=n.size();return new Promise(function(o,a){var s={value:a},l={value:function(){--r===0&&o()}};n.each(function(){var c=fn(this,i),u=c.on;u!==t&&(e=(t=u).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(l)),c.on=e}),r===0&&o()})}var wC=0;function Ln(t,e,n,i){this._groups=t,this._parents=e,this._name=n,this._id=i}function hy(){return++wC}var Tn=Ko.prototype;Ln.prototype={constructor:Ln,select:iC,selectAll:rC,selectChild:Tn.selectChild,selectChildren:Tn.selectChildren,filter:Qk,merge:Kk,selection:aC,transition:kC,call:Tn.call,nodes:Tn.nodes,node:Tn.node,size:Tn.size,empty:Tn.empty,each:Tn.each,on:tC,attr:Mk,attrTween:Rk,style:hC,styleTween:dC,text:yC,textTween:xC,remove:nC,tween:Ek,delay:qk,duration:Uk,ease:Gk,easeVarying:Xk,end:CC,[Symbol.iterator]:Tn[Symbol.iterator]};function vC(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var SC={time:null,delay:0,duration:250,ease:vC};function TC(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function EC(t){var e,n;t instanceof Ln?(e=t._id,t=t._name):(e=hy(),(n=SC).time=Zh(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var a=i[o],s=a.length,l,c=0;c<s;++c)(l=a[c])&&cl(l,t,e,c,a,n||TC(l,e));return new Ln(i,this._parents,t,e)}Ko.prototype.interrupt=vk;Ko.prototype.transition=EC;const tO=Math.abs,eO=Math.atan2,nO=Math.cos,iO=Math.max,rO=Math.min,oO=Math.sin,aO=Math.sqrt,jd=1e-12,nf=Math.PI,qd=nf/2,sO=2*nf;function lO(t){return t>1?0:t<-1?nf:Math.acos(t)}function cO(t){return t>=1?qd:t<=-1?-qd:Math.asin(t)}function fy(t){this._context=t}fy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function AC(t){return new fy(t)}class py{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function BC(t){return new py(t,!0)}function LC(t){return new py(t,!1)}function ai(){}function js(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function ul(t){this._context=t}ul.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:js(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:js(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function FC(t){return new ul(t)}function dy(t){this._context=t}dy.prototype={areaStart:ai,areaEnd:ai,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:js(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OC(t){return new dy(t)}function my(t){this._context=t}my.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,i=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,i):this._context.moveTo(n,i);break;case 3:this._point=4;default:js(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IC(t){return new my(t)}function gy(t,e){this._basis=new ul(t),this._beta=e}gy.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var i=t[0],r=e[0],o=t[n]-i,a=e[n]-r,s=-1,l;++s<=n;)l=s/n,this._basis.point(this._beta*t[s]+(1-this._beta)*(i+l*o),this._beta*e[s]+(1-this._beta)*(r+l*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const MC=function t(e){function n(i){return e===1?new ul(i):new gy(i,e)}return n.beta=function(i){return t(+i)},n}(.85);function qs(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function rf(t,e){this._context=t,this._k=(1-e)/6}rf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:qs(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:qs(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const DC=function t(e){function n(i){return new rf(i,e)}return n.tension=function(i){return t(+i)},n}(0);function of(t,e){this._context=t,this._k=(1-e)/6}of.prototype={areaStart:ai,areaEnd:ai,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:qs(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const NC=function t(e){function n(i){return new of(i,e)}return n.tension=function(i){return t(+i)},n}(0);function af(t,e){this._context=t,this._k=(1-e)/6}af.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:qs(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const PC=function t(e){function n(i){return new af(i,e)}return n.tension=function(i){return t(+i)},n}(0);function sf(t,e,n){var i=t._x1,r=t._y1,o=t._x2,a=t._y2;if(t._l01_a>jd){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);i=(i*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,r=(r*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a>jd){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/u,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/u}t._context.bezierCurveTo(i,r,o,a,t._x2,t._y2)}function yy(t,e){this._context=t,this._alpha=e}yy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:sf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const zC=function t(e){function n(i){return e?new yy(i,e):new rf(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function _y(t,e){this._context=t,this._alpha=e}_y.prototype={areaStart:ai,areaEnd:ai,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:sf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const RC=function t(e){function n(i){return e?new _y(i,e):new of(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function by(t,e){this._context=t,this._alpha=e}by.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,i=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+i*i,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:sf(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const $C=function t(e){function n(i){return e?new by(i,e):new af(i,0)}return n.alpha=function(i){return t(+i)},n}(.5);function xy(t){this._context=t}xy.prototype={areaStart:ai,areaEnd:ai,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function jC(t){return new xy(t)}function Hd(t){return t<0?-1:1}function Wd(t,e,n){var i=t._x1-t._x0,r=e-t._x1,o=(t._y1-t._y0)/(i||r<0&&-0),a=(n-t._y1)/(r||i<0&&-0),s=(o*r+a*i)/(i+r);return(Hd(o)+Hd(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Ud(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Wu(t,e,n){var i=t._x0,r=t._y0,o=t._x1,a=t._y1,s=(o-i)/3;t._context.bezierCurveTo(i+s,r+s*e,o-s,a-s*n,o,a)}function Hs(t){this._context=t}Hs.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Wu(this,this._t0,Ud(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Wu(this,Ud(this,n=Wd(this,t,e)),n);break;default:Wu(this,this._t0,n=Wd(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ky(t){this._context=new Cy(t)}(ky.prototype=Object.create(Hs.prototype)).point=function(t,e){Hs.prototype.point.call(this,e,t)};function Cy(t){this._context=t}Cy.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,i,r,o){this._context.bezierCurveTo(e,t,i,n,o,r)}};function qC(t){return new Hs(t)}function HC(t){return new ky(t)}function wy(t){this._context=t}wy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var i=Vd(t),r=Vd(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(i[0][o],r[0][o],i[1][o],r[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Vd(t){var e,n=t.length-1,i,r=new Array(n),o=new Array(n),a=new Array(n);for(r[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)r[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(r[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)i=r[e]/o[e-1],o[e]-=i,a[e]-=i*a[e-1];for(r[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)r[e]=(a[e]-r[e+1])/o[e];for(o[n-1]=(t[n]+r[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-r[e+1];return[r,o]}function WC(t){return new wy(t)}function hl(t,e){this._context=t,this._t=e}hl.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UC(t){return new hl(t,.5)}function VC(t){return new hl(t,0)}function GC(t){return new hl(t,1)}function Oo(t,e,n){this.k=t,this.x=e,this.y=n}Oo.prototype={constructor:Oo,scale:function(t){return t===1?this:new Oo(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Oo(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Oo.prototype;var YC=typeof global=="object"&&global&&global.Object===Object&&global;const vy=YC;var XC=typeof self=="object"&&self&&self.Object===Object&&self,QC=vy||XC||Function("return this")();const li=QC;var KC=li.Symbol;const Ws=KC;var Sy=Object.prototype,JC=Sy.hasOwnProperty,ZC=Sy.toString,Ao=Ws?Ws.toStringTag:void 0;function tw(t){var e=JC.call(t,Ao),n=t[Ao];try{t[Ao]=void 0;var i=!0}catch{}var r=ZC.call(t);return i&&(e?t[Ao]=n:delete t[Ao]),r}var ew=Object.prototype,nw=ew.toString;function iw(t){return nw.call(t)}var rw="[object Null]",ow="[object Undefined]",Gd=Ws?Ws.toStringTag:void 0;function Zo(t){return t==null?t===void 0?ow:rw:Gd&&Gd in Object(t)?tw(t):iw(t)}function Ty(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var aw="[object AsyncFunction]",sw="[object Function]",lw="[object GeneratorFunction]",cw="[object Proxy]";function Ey(t){if(!Ty(t))return!1;var e=Zo(t);return e==sw||e==lw||e==aw||e==cw}var uw=li["__core-js_shared__"];const Uu=uw;var Yd=function(){var t=/[^.]+$/.exec(Uu&&Uu.keys&&Uu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hw(t){return!!Yd&&Yd in t}var fw=Function.prototype,pw=fw.toString;function Pi(t){if(t!=null){try{return pw.call(t)}catch{}try{return t+""}catch{}}return""}var dw=/[\\^$.*+?()[\]{}|]/g,mw=/^\[object .+?Constructor\]$/,gw=Function.prototype,yw=Object.prototype,_w=gw.toString,bw=yw.hasOwnProperty,xw=RegExp("^"+_w.call(bw).replace(dw,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function kw(t){if(!Ty(t)||hw(t))return!1;var e=Ey(t)?xw:mw;return e.test(Pi(t))}function Cw(t,e){return t==null?void 0:t[e]}function Er(t,e){var n=Cw(t,e);return kw(n)?n:void 0}var ww=Er(Object,"create");const Go=ww;function vw(){this.__data__=Go?Go(null):{},this.size=0}function Sw(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Tw="__lodash_hash_undefined__",Ew=Object.prototype,Aw=Ew.hasOwnProperty;function Bw(t){var e=this.__data__;if(Go){var n=e[t];return n===Tw?void 0:n}return Aw.call(e,t)?e[t]:void 0}var Lw=Object.prototype,Fw=Lw.hasOwnProperty;function Ow(t){var e=this.__data__;return Go?e[t]!==void 0:Fw.call(e,t)}var Iw="__lodash_hash_undefined__";function Mw(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Go&&e===void 0?Iw:e,this}function Di(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Di.prototype.clear=vw;Di.prototype.delete=Sw;Di.prototype.get=Bw;Di.prototype.has=Ow;Di.prototype.set=Mw;function Dw(){this.__data__=[],this.size=0}function Nw(t,e){return t===e||t!==t&&e!==e}function fl(t,e){for(var n=t.length;n--;)if(Nw(t[n][0],e))return n;return-1}var Pw=Array.prototype,zw=Pw.splice;function Rw(t){var e=this.__data__,n=fl(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():zw.call(e,n,1),--this.size,!0}function $w(t){var e=this.__data__,n=fl(e,t);return n<0?void 0:e[n][1]}function jw(t){return fl(this.__data__,t)>-1}function qw(t,e){var n=this.__data__,i=fl(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function Ar(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Ar.prototype.clear=Dw;Ar.prototype.delete=Rw;Ar.prototype.get=$w;Ar.prototype.has=jw;Ar.prototype.set=qw;var Hw=Er(li,"Map");const Us=Hw;function Ww(){this.size=0,this.__data__={hash:new Di,map:new(Us||Ar),string:new Di}}function Uw(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function pl(t,e){var n=t.__data__;return Uw(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Vw(t){var e=pl(this,t).delete(t);return this.size-=e?1:0,e}function Gw(t){return pl(this,t).get(t)}function Yw(t){return pl(this,t).has(t)}function Xw(t,e){var n=pl(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function zi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}zi.prototype.clear=Ww;zi.prototype.delete=Vw;zi.prototype.get=Gw;zi.prototype.has=Yw;zi.prototype.set=Xw;var Qw="Expected a function";function ta(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Qw);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var a=t.apply(this,i);return n.cache=o.set(r,a)||o,a};return n.cache=new(ta.Cache||zi),n}ta.Cache=zi;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Ay(t){return typeof t>"u"||t===null}function Kw(t){return typeof t=="object"&&t!==null}function Jw(t){return Array.isArray(t)?t:Ay(t)?[]:[t]}function Zw(t,e){var n,i,r,o;if(e)for(o=Object.keys(e),n=0,i=o.length;n<i;n+=1)r=o[n],t[r]=e[r];return t}function tv(t,e){var n="",i;for(i=0;i<e;i+=1)n+=t;return n}function ev(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var nv=Ay,iv=Kw,rv=Jw,ov=tv,av=ev,sv=Zw,re={isNothing:nv,isObject:iv,toArray:rv,repeat:ov,isNegativeZero:av,extend:sv};function By(t,e){var n="",i=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+=`

`+t.mark.snippet),i+" "+n):i}function Yo(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=By(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Yo.prototype=Object.create(Error.prototype);Yo.prototype.constructor=Yo;Yo.prototype.toString=function(e){return this.name+": "+By(this,e)};var En=Yo;function Vu(t,e,n,i,r){var o="",a="",s=Math.floor(r/2)-1;return i-e>s&&(o=" ... ",e=i-s+o.length),n-i>s&&(a=" ...",n=i+s-a.length),{str:o+t.slice(e,n).replace(/\t/g,"→")+a,pos:i-e+o.length}}function Gu(t,e){return re.repeat(" ",e-t.length)+t}function lv(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],o,a=-1;o=n.exec(t.buffer);)r.push(o.index),i.push(o.index+o[0].length),t.position<=o.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);var s="",l,c,u=Math.min(t.line+e.linesAfter,r.length).toString().length,h=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)c=Vu(t.buffer,i[a-l],r[a-l],t.position-(i[a]-i[a-l]),h),s=re.repeat(" ",e.indent)+Gu((t.line-l+1).toString(),u)+" | "+c.str+`
`+s;for(c=Vu(t.buffer,i[a],r[a],t.position,h),s+=re.repeat(" ",e.indent)+Gu((t.line+1).toString(),u)+" | "+c.str+`
`,s+=re.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=r.length);l++)c=Vu(t.buffer,i[a+l],r[a+l],t.position-(i[a]-i[a+l]),h),s+=re.repeat(" ",e.indent)+Gu((t.line+l+1).toString(),u)+" | "+c.str+`
`;return s.replace(/\n$/,"")}var cv=lv,uv=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],hv=["scalar","sequence","mapping"];function fv(t){var e={};return t!==null&&Object.keys(t).forEach(function(n){t[n].forEach(function(i){e[String(i)]=n})}),e}function pv(t,e){if(e=e||{},Object.keys(e).forEach(function(n){if(uv.indexOf(n)===-1)throw new En('Unknown option "'+n+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(n){return n},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=fv(e.styleAliases||null),hv.indexOf(this.kind)===-1)throw new En('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Kt=pv;function Xd(t,e){var n=[];return t[e].forEach(function(i){var r=n.length;n.forEach(function(o,a){o.tag===i.tag&&o.kind===i.kind&&o.multi===i.multi&&(r=a)}),n[r]=i}),n}function dv(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,n;function i(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(e=0,n=arguments.length;e<n;e+=1)arguments[e].forEach(i);return t}function Ch(t){return this.extend(t)}Ch.prototype.extend=function(e){var n=[],i=[];if(e instanceof Kt)i.push(e);else if(Array.isArray(e))i=i.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(n=n.concat(e.implicit)),e.explicit&&(i=i.concat(e.explicit));else throw new En("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(o){if(!(o instanceof Kt))throw new En("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new En("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new En("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(o){if(!(o instanceof Kt))throw new En("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Ch.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=Xd(r,"implicit"),r.compiledExplicit=Xd(r,"explicit"),r.compiledTypeMap=dv(r.compiledImplicit,r.compiledExplicit),r};var mv=Ch,gv=new Kt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),yv=new Kt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),_v=new Kt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),Ly=new mv({explicit:[gv,yv,_v]});function bv(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function xv(){return null}function kv(t){return t===null}var Cv=new Kt("tag:yaml.org,2002:null",{kind:"scalar",resolve:bv,construct:xv,predicate:kv,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function wv(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function vv(t){return t==="true"||t==="True"||t==="TRUE"}function Sv(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Tv=new Kt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:wv,construct:vv,predicate:Sv,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function Ev(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function Av(t){return 48<=t&&t<=55}function Bv(t){return 48<=t&&t<=57}function Lv(t){if(t===null)return!1;var e=t.length,n=0,i=!1,r;if(!e)return!1;if(r=t[n],(r==="-"||r==="+")&&(r=t[++n]),r==="0"){if(n+1===e)return!0;if(r=t[++n],r==="b"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!Ev(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<e;n++)if(r=t[n],r!=="_"){if(!Av(t.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<e;n++)if(r=t[n],r!=="_"){if(!Bv(t.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function Fv(t){var e=t,n=1,i;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),i=e[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),e=e.slice(1),i=e[0]),e==="0")return 0;if(i==="0"){if(e[1]==="b")return n*parseInt(e.slice(2),2);if(e[1]==="x")return n*parseInt(e.slice(2),16);if(e[1]==="o")return n*parseInt(e.slice(2),8)}return n*parseInt(e,10)}function Ov(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!re.isNegativeZero(t)}var Iv=new Kt("tag:yaml.org,2002:int",{kind:"scalar",resolve:Lv,construct:Fv,predicate:Ov,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Mv=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Dv(t){return!(t===null||!Mv.test(t)||t[t.length-1]==="_")}function Nv(t){var e,n;return e=t.replace(/_/g,"").toLowerCase(),n=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:n*parseFloat(e,10)}var Pv=/^[-+]?[0-9]+e/;function zv(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(re.isNegativeZero(t))return"-0.0";return n=t.toString(10),Pv.test(n)?n.replace("e",".e"):n}function Rv(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||re.isNegativeZero(t))}var $v=new Kt("tag:yaml.org,2002:float",{kind:"scalar",resolve:Dv,construct:Nv,predicate:Rv,represent:zv,defaultStyle:"lowercase"}),jv=Ly.extend({implicit:[Cv,Tv,Iv,$v]}),qv=jv,Fy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Oy=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Hv(t){return t===null?!1:Fy.exec(t)!==null||Oy.exec(t)!==null}function Wv(t){var e,n,i,r,o,a,s,l=0,c=null,u,h,g;if(e=Fy.exec(t),e===null&&(e=Oy.exec(t)),e===null)throw new Error("Date resolve error");if(n=+e[1],i=+e[2]-1,r=+e[3],!e[4])return new Date(Date.UTC(n,i,r));if(o=+e[4],a=+e[5],s=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],h=+(e[11]||0),c=(u*60+h)*6e4,e[9]==="-"&&(c=-c)),g=new Date(Date.UTC(n,i,r,o,a,s,l)),c&&g.setTime(g.getTime()-c),g}function Uv(t){return t.toISOString()}var Vv=new Kt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Hv,construct:Wv,instanceOf:Date,represent:Uv});function Gv(t){return t==="<<"||t===null}var Yv=new Kt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Gv}),lf=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Xv(t){if(t===null)return!1;var e,n,i=0,r=t.length,o=lf;for(n=0;n<r;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(e<0)return!1;i+=6}return i%8===0}function Qv(t){var e,n,i=t.replace(/[\r\n=]/g,""),r=i.length,o=lf,a=0,s=[];for(e=0;e<r;e++)e%4===0&&e&&(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)),a=a<<6|o.indexOf(i.charAt(e));return n=r%4*6,n===0?(s.push(a>>16&255),s.push(a>>8&255),s.push(a&255)):n===18?(s.push(a>>10&255),s.push(a>>2&255)):n===12&&s.push(a>>4&255),new Uint8Array(s)}function Kv(t){var e="",n=0,i,r,o=t.length,a=lf;for(i=0;i<o;i++)i%3===0&&i&&(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]),n=(n<<8)+t[i];return r=o%3,r===0?(e+=a[n>>18&63],e+=a[n>>12&63],e+=a[n>>6&63],e+=a[n&63]):r===2?(e+=a[n>>10&63],e+=a[n>>4&63],e+=a[n<<2&63],e+=a[64]):r===1&&(e+=a[n>>2&63],e+=a[n<<4&63],e+=a[64],e+=a[64]),e}function Jv(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Zv=new Kt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Xv,construct:Qv,predicate:Jv,represent:Kv}),t2=Object.prototype.hasOwnProperty,e2=Object.prototype.toString;function n2(t){if(t===null)return!0;var e=[],n,i,r,o,a,s=t;for(n=0,i=s.length;n<i;n+=1){if(r=s[n],a=!1,e2.call(r)!=="[object Object]")return!1;for(o in r)if(t2.call(r,o))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(o)===-1)e.push(o);else return!1}return!0}function i2(t){return t!==null?t:[]}var r2=new Kt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:n2,construct:i2}),o2=Object.prototype.toString;function a2(t){if(t===null)return!0;var e,n,i,r,o,a=t;for(o=new Array(a.length),e=0,n=a.length;e<n;e+=1){if(i=a[e],o2.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;o[e]=[r[0],i[r[0]]]}return!0}function s2(t){if(t===null)return[];var e,n,i,r,o,a=t;for(o=new Array(a.length),e=0,n=a.length;e<n;e+=1)i=a[e],r=Object.keys(i),o[e]=[r[0],i[r[0]]];return o}var l2=new Kt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:a2,construct:s2}),c2=Object.prototype.hasOwnProperty;function u2(t){if(t===null)return!0;var e,n=t;for(e in n)if(c2.call(n,e)&&n[e]!==null)return!1;return!0}function h2(t){return t!==null?t:{}}var f2=new Kt("tag:yaml.org,2002:set",{kind:"mapping",resolve:u2,construct:h2}),p2=qv.extend({implicit:[Vv,Yv],explicit:[Zv,r2,l2,f2]}),si=Object.prototype.hasOwnProperty,Vs=1,Iy=2,My=3,Gs=4,Yu=1,d2=2,Qd=3,m2=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,g2=/[\x85\u2028\u2029]/,y2=/[,\[\]\{\}]/,Dy=/^(?:!|!!|![a-z\-]+!)$/i,Ny=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Kd(t){return Object.prototype.toString.call(t)}function un(t){return t===10||t===13}function Oi(t){return t===9||t===32}function _e(t){return t===9||t===32||t===10||t===13}function dr(t){return t===44||t===91||t===93||t===123||t===125}function _2(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function b2(t){return t===120?2:t===117?4:t===85?8:0}function x2(t){return 48<=t&&t<=57?t-48:-1}function Jd(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}function k2(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var Py=new Array(256),zy=new Array(256);for(var pr=0;pr<256;pr++)Py[pr]=Jd(pr)?1:0,zy[pr]=Jd(pr);function C2(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||p2,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ry(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=cv(n),new En(e,n)}function J(t,e){throw Ry(t,e)}function Ys(t,e){t.onWarning&&t.onWarning.call(null,Ry(t,e))}var Zd={YAML:function(e,n,i){var r,o,a;e.version!==null&&J(e,"duplication of %YAML directive"),i.length!==1&&J(e,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&J(e,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),a=parseInt(r[2],10),o!==1&&J(e,"unacceptable YAML version of the document"),e.version=i[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&Ys(e,"unsupported YAML version of the document")},TAG:function(e,n,i){var r,o;i.length!==2&&J(e,"TAG directive accepts exactly two arguments"),r=i[0],o=i[1],Dy.test(r)||J(e,"ill-formed tag handle (first argument) of the TAG directive"),si.call(e.tagMap,r)&&J(e,'there is a previously declared suffix for "'+r+'" tag handle'),Ny.test(o)||J(e,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{J(e,"tag prefix is malformed: "+o)}e.tagMap[r]=o}};function oi(t,e,n,i){var r,o,a,s;if(e<n){if(s=t.input.slice(e,n),i)for(r=0,o=s.length;r<o;r+=1)a=s.charCodeAt(r),a===9||32<=a&&a<=1114111||J(t,"expected valid JSON character");else m2.test(s)&&J(t,"the stream contains non-printable characters");t.result+=s}}function tm(t,e,n,i){var r,o,a,s;for(re.isObject(n)||J(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),a=0,s=r.length;a<s;a+=1)o=r[a],si.call(e,o)||(e[o]=n[o],i[o]=!0)}function mr(t,e,n,i,r,o,a,s,l){var c,u;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),c=0,u=r.length;c<u;c+=1)Array.isArray(r[c])&&J(t,"nested arrays are not supported inside keys"),typeof r=="object"&&Kd(r[c])==="[object Object]"&&(r[c]="[object Object]");if(typeof r=="object"&&Kd(r)==="[object Object]"&&(r="[object Object]"),r=String(r),e===null&&(e={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,u=o.length;c<u;c+=1)tm(t,e,o[c],n);else tm(t,e,o,n);else!t.json&&!si.call(n,r)&&si.call(e,r)&&(t.line=a||t.line,t.lineStart=s||t.lineStart,t.position=l||t.position,J(t,"duplicated mapping key")),r==="__proto__"?Object.defineProperty(e,r,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[r]=o,delete n[r];return e}function cf(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):J(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function zt(t,e,n){for(var i=0,r=t.input.charCodeAt(t.position);r!==0;){for(;Oi(r);)r===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),r=t.input.charCodeAt(++t.position);if(e&&r===35)do r=t.input.charCodeAt(++t.position);while(r!==10&&r!==13&&r!==0);if(un(r))for(cf(t),r=t.input.charCodeAt(t.position),i++,t.lineIndent=0;r===32;)t.lineIndent++,r=t.input.charCodeAt(++t.position);else break}return n!==-1&&i!==0&&t.lineIndent<n&&Ys(t,"deficient indentation"),i}function dl(t){var e=t.position,n;return n=t.input.charCodeAt(e),!!((n===45||n===46)&&n===t.input.charCodeAt(e+1)&&n===t.input.charCodeAt(e+2)&&(e+=3,n=t.input.charCodeAt(e),n===0||_e(n)))}function uf(t,e){e===1?t.result+=" ":e>1&&(t.result+=re.repeat(`
`,e-1))}function w2(t,e,n){var i,r,o,a,s,l,c,u,h=t.kind,g=t.result,m;if(m=t.input.charCodeAt(t.position),_e(m)||dr(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(r=t.input.charCodeAt(t.position+1),_e(r)||n&&dr(r)))return!1;for(t.kind="scalar",t.result="",o=a=t.position,s=!1;m!==0;){if(m===58){if(r=t.input.charCodeAt(t.position+1),_e(r)||n&&dr(r))break}else if(m===35){if(i=t.input.charCodeAt(t.position-1),_e(i))break}else{if(t.position===t.lineStart&&dl(t)||n&&dr(m))break;if(un(m))if(l=t.line,c=t.lineStart,u=t.lineIndent,zt(t,!1,-1),t.lineIndent>=e){s=!0,m=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=c,t.lineIndent=u;break}}s&&(oi(t,o,a,!1),uf(t,t.line-l),o=a=t.position,s=!1),Oi(m)||(a=t.position+1),m=t.input.charCodeAt(++t.position)}return oi(t,o,a,!1),t.result?!0:(t.kind=h,t.result=g,!1)}function v2(t,e){var n,i,r;if(n=t.input.charCodeAt(t.position),n!==39)return!1;for(t.kind="scalar",t.result="",t.position++,i=r=t.position;(n=t.input.charCodeAt(t.position))!==0;)if(n===39)if(oi(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),n===39)i=t.position,t.position++,r=t.position;else return!0;else un(n)?(oi(t,i,r,!0),uf(t,zt(t,!1,e)),i=r=t.position):t.position===t.lineStart&&dl(t)?J(t,"unexpected end of the document within a single quoted scalar"):(t.position++,r=t.position);J(t,"unexpected end of the stream within a single quoted scalar")}function S2(t,e){var n,i,r,o,a,s;if(s=t.input.charCodeAt(t.position),s!==34)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(s=t.input.charCodeAt(t.position))!==0;){if(s===34)return oi(t,n,t.position,!0),t.position++,!0;if(s===92){if(oi(t,n,t.position,!0),s=t.input.charCodeAt(++t.position),un(s))zt(t,!1,e);else if(s<256&&Py[s])t.result+=zy[s],t.position++;else if((a=b2(s))>0){for(r=a,o=0;r>0;r--)s=t.input.charCodeAt(++t.position),(a=_2(s))>=0?o=(o<<4)+a:J(t,"expected hexadecimal character");t.result+=k2(o),t.position++}else J(t,"unknown escape sequence");n=i=t.position}else un(s)?(oi(t,n,i,!0),uf(t,zt(t,!1,e)),n=i=t.position):t.position===t.lineStart&&dl(t)?J(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}J(t,"unexpected end of the stream within a double quoted scalar")}function T2(t,e){var n=!0,i,r,o,a=t.tag,s,l=t.anchor,c,u,h,g,m,b=Object.create(null),B,M,v,F;if(F=t.input.charCodeAt(t.position),F===91)u=93,m=!1,s=[];else if(F===123)u=125,m=!0,s={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),F=t.input.charCodeAt(++t.position);F!==0;){if(zt(t,!0,e),F=t.input.charCodeAt(t.position),F===u)return t.position++,t.tag=a,t.anchor=l,t.kind=m?"mapping":"sequence",t.result=s,!0;n?F===44&&J(t,"expected the node content, but found ','"):J(t,"missed comma between flow collection entries"),M=B=v=null,h=g=!1,F===63&&(c=t.input.charCodeAt(t.position+1),_e(c)&&(h=g=!0,t.position++,zt(t,!0,e))),i=t.line,r=t.lineStart,o=t.position,wr(t,e,Vs,!1,!0),M=t.tag,B=t.result,zt(t,!0,e),F=t.input.charCodeAt(t.position),(g||t.line===i)&&F===58&&(h=!0,F=t.input.charCodeAt(++t.position),zt(t,!0,e),wr(t,e,Vs,!1,!0),v=t.result),m?mr(t,s,b,M,B,v,i,r,o):h?s.push(mr(t,null,b,M,B,v,i,r,o)):s.push(B),zt(t,!0,e),F=t.input.charCodeAt(t.position),F===44?(n=!0,F=t.input.charCodeAt(++t.position)):n=!1}J(t,"unexpected end of the stream within a flow collection")}function E2(t,e){var n,i,r=Yu,o=!1,a=!1,s=e,l=0,c=!1,u,h;if(h=t.input.charCodeAt(t.position),h===124)i=!1;else if(h===62)i=!0;else return!1;for(t.kind="scalar",t.result="";h!==0;)if(h=t.input.charCodeAt(++t.position),h===43||h===45)Yu===r?r=h===43?Qd:d2:J(t,"repeat of a chomping mode identifier");else if((u=x2(h))>=0)u===0?J(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?J(t,"repeat of an indentation width identifier"):(s=e+u-1,a=!0);else break;if(Oi(h)){do h=t.input.charCodeAt(++t.position);while(Oi(h));if(h===35)do h=t.input.charCodeAt(++t.position);while(!un(h)&&h!==0)}for(;h!==0;){for(cf(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!a||t.lineIndent<s)&&h===32;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>s&&(s=t.lineIndent),un(h)){l++;continue}if(t.lineIndent<s){r===Qd?t.result+=re.repeat(`
`,o?1+l:l):r===Yu&&o&&(t.result+=`
`);break}for(i?Oi(h)?(c=!0,t.result+=re.repeat(`
`,o?1+l:l)):c?(c=!1,t.result+=re.repeat(`
`,l+1)):l===0?o&&(t.result+=" "):t.result+=re.repeat(`
`,l):t.result+=re.repeat(`
`,o?1+l:l),o=!0,a=!0,l=0,n=t.position;!un(h)&&h!==0;)h=t.input.charCodeAt(++t.position);oi(t,n,t.position,!1)}return!0}function em(t,e){var n,i=t.tag,r=t.anchor,o=[],a,s=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,J(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!_e(a))));){if(s=!0,t.position++,zt(t,!0,-1)&&t.lineIndent<=e){o.push(null),l=t.input.charCodeAt(t.position);continue}if(n=t.line,wr(t,e,My,!1,!0),o.push(t.result),zt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&l!==0)J(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return s?(t.tag=i,t.anchor=r,t.kind="sequence",t.result=o,!0):!1}function A2(t,e,n){var i,r,o,a,s,l,c=t.tag,u=t.anchor,h={},g=Object.create(null),m=null,b=null,B=null,M=!1,v=!1,F;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),F=t.input.charCodeAt(t.position);F!==0;){if(!M&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,J(t,"tab characters must not be used in indentation")),i=t.input.charCodeAt(t.position+1),o=t.line,(F===63||F===58)&&_e(i))F===63?(M&&(mr(t,h,g,m,b,null,a,s,l),m=b=B=null),v=!0,M=!0,r=!0):M?(M=!1,r=!0):J(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,F=i;else{if(a=t.line,s=t.lineStart,l=t.position,!wr(t,n,Iy,!1,!0))break;if(t.line===o){for(F=t.input.charCodeAt(t.position);Oi(F);)F=t.input.charCodeAt(++t.position);if(F===58)F=t.input.charCodeAt(++t.position),_e(F)||J(t,"a whitespace character is expected after the key-value separator within a block mapping"),M&&(mr(t,h,g,m,b,null,a,s,l),m=b=B=null),v=!0,M=!1,r=!1,m=t.tag,b=t.result;else if(v)J(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(v)J(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===o||t.lineIndent>e)&&(M&&(a=t.line,s=t.lineStart,l=t.position),wr(t,e,Gs,!0,r)&&(M?b=t.result:B=t.result),M||(mr(t,h,g,m,b,B,a,s,l),m=b=B=null),zt(t,!0,-1),F=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&F!==0)J(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return M&&mr(t,h,g,m,b,null,a,s,l),v&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=h),v}function B2(t){var e,n=!1,i=!1,r,o,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&J(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(n=!0,a=t.input.charCodeAt(++t.position)):a===33?(i=!0,r="!!",a=t.input.charCodeAt(++t.position)):r="!",e=t.position,n){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(o=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):J(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!_e(a);)a===33&&(i?J(t,"tag suffix cannot contain exclamation marks"):(r=t.input.slice(e-1,t.position+1),Dy.test(r)||J(t,"named tag handle cannot contain such characters"),i=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);o=t.input.slice(e,t.position),y2.test(o)&&J(t,"tag suffix cannot contain flow indicator characters")}o&&!Ny.test(o)&&J(t,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{J(t,"tag name is malformed: "+o)}return n?t.tag=o:si.call(t.tagMap,r)?t.tag=t.tagMap[r]+o:r==="!"?t.tag="!"+o:r==="!!"?t.tag="tag:yaml.org,2002:"+o:J(t,'undeclared tag handle "'+r+'"'),!0}function L2(t){var e,n;if(n=t.input.charCodeAt(t.position),n!==38)return!1;for(t.anchor!==null&&J(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!_e(n)&&!dr(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&J(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function F2(t){var e,n,i;if(i=t.input.charCodeAt(t.position),i!==42)return!1;for(i=t.input.charCodeAt(++t.position),e=t.position;i!==0&&!_e(i)&&!dr(i);)i=t.input.charCodeAt(++t.position);return t.position===e&&J(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),si.call(t.anchorMap,n)||J(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],zt(t,!0,-1),!0}function wr(t,e,n,i,r){var o,a,s,l=1,c=!1,u=!1,h,g,m,b,B,M;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=a=s=Gs===n||My===n,i&&zt(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;B2(t)||L2(t);)zt(t,!0,-1)?(c=!0,s=o,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):s=!1;if(s&&(s=c||r),(l===1||Gs===n)&&(Vs===n||Iy===n?B=e:B=e+1,M=t.position-t.lineStart,l===1?s&&(em(t,M)||A2(t,M,B))||T2(t,B)?u=!0:(a&&E2(t,B)||v2(t,B)||S2(t,B)?u=!0:F2(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&J(t,"alias node should not have any properties")):w2(t,B,Vs===n)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=s&&em(t,M))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&J(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),h=0,g=t.implicitTypes.length;h<g;h+=1)if(b=t.implicitTypes[h],b.resolve(t.result)){t.result=b.construct(t.result),t.tag=b.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(si.call(t.typeMap[t.kind||"fallback"],t.tag))b=t.typeMap[t.kind||"fallback"][t.tag];else for(b=null,m=t.typeMap.multi[t.kind||"fallback"],h=0,g=m.length;h<g;h+=1)if(t.tag.slice(0,m[h].tag.length)===m[h].tag){b=m[h];break}b||J(t,"unknown tag !<"+t.tag+">"),t.result!==null&&b.kind!==t.kind&&J(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+b.kind+'", not "'+t.kind+'"'),b.resolve(t.result,t.tag)?(t.result=b.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):J(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function O2(t){var e=t.position,n,i,r,o=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(zt(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(o=!0,a=t.input.charCodeAt(++t.position),n=t.position;a!==0&&!_e(a);)a=t.input.charCodeAt(++t.position);for(i=t.input.slice(n,t.position),r=[],i.length<1&&J(t,"directive name must not be less than one character in length");a!==0;){for(;Oi(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!un(a));break}if(un(a))break;for(n=t.position;a!==0&&!_e(a);)a=t.input.charCodeAt(++t.position);r.push(t.input.slice(n,t.position))}a!==0&&cf(t),si.call(Zd,i)?Zd[i](t,i,r):Ys(t,'unknown document directive "'+i+'"')}if(zt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,zt(t,!0,-1)):o&&J(t,"directives end mark is expected"),wr(t,t.lineIndent-1,Gs,!1,!0),zt(t,!0,-1),t.checkLineBreaks&&g2.test(t.input.slice(e,t.position))&&Ys(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&dl(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,zt(t,!0,-1));return}if(t.position<t.length-1)J(t,"end of the stream or a document separator is expected");else return}function $y(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var n=new C2(t,e),i=t.indexOf("\0");for(i!==-1&&(n.position=i,J(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)O2(n);return n.documents}function I2(t,e,n){e!==null&&typeof e=="object"&&typeof n>"u"&&(n=e,e=null);var i=$y(t,n);if(typeof e!="function")return i;for(var r=0,o=i.length;r<o;r+=1)e(i[r])}function M2(t,e){var n=$y(t,e);if(n.length!==0){if(n.length===1)return n[0];throw new En("expected a single document in the stream, but found more")}}var D2=I2,N2=M2,P2={loadAll:D2,load:N2},z2=Ly,R2=P2.load;const jy=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function $2(t,e){var n,i;const r=t.match(jy);if(r){const o=R2(r[1],{schema:z2});return o!=null&&o.title&&((n=e.setDiagramTitle)==null||n.call(e,o.title)),o!=null&&o.displayMode&&((i=e.setDisplayMode)==null||i.call(e,o.displayMode)),t.slice(r[0].length)}else return t}const j2=function(t,e){for(let n of e)t.attr(n[0],n[1])},q2=function(t,e,n){let i=new Map;return n?(i.set("width","100%"),i.set("style",`max-width: ${e}px;`)):(i.set("height",t),i.set("width",e)),i},H2=function(t,e,n,i){const r=q2(e,n,i);j2(t,r)},W2=function(t,e,n,i){const r=e.node().getBBox(),o=r.width,a=r.height;V.info(`SVG bounds: ${o}x${a}`,r);let s=0,l=0;V.info(`Graph bounds: ${s}x${l}`,t),s=o+n*2,l=a+n*2,V.info(`Calculated bounds: ${s}x${l}`),H2(e,l,s,i);const c=`${r.x-n} ${r.y-n} ${r.width+2*n} ${r.height+2*n}`;e.attr("viewBox",c)},ws={},U2=(t,e,n)=>{let i="";return t in ws&&ws[t]?i=ws[t](n):V.warn(`No theme found for ${t}`),` & {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
    fill: ${n.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${n.errorBkgColor};
  }
  & .error-text {
    fill: ${n.errorTextColor};
    stroke: ${n.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${n.lineColor};
    stroke: ${n.lineColor};
  }
  & .marker.cross {
    stroke: ${n.lineColor};
  }

  & svg {
    font-family: ${n.fontFamily};
    font-size: ${n.fontSize};
  }

  ${i}

  ${e}
`},V2=(t,e)=>{ws[t]=e},G2=U2;let Ai={};const qy=function(t,e,n,i){V.debug("parseDirective is being called",e,n,i);try{if(e!==void 0)switch(e=e.trim(),n){case"open_directive":Ai={};break;case"type_directive":if(!Ai)throw new Error("currentDirective is undefined");Ai.type=e.toLowerCase();break;case"arg_directive":if(!Ai)throw new Error("currentDirective is undefined");Ai.args=JSON.parse(e);break;case"close_directive":Y2(t,Ai,i),Ai=void 0;break}}catch(r){V.error(`Error while rendering sequenceDiagram directive: ${e} jison context: ${n}`),V.error(r.message)}},Y2=function(t,e,n){switch(V.info(`Directive type=${e.type} with args:`,e.args),e.type){case"init":case"initialize":{["config"].forEach(i=>{e.args[i]!==void 0&&(n==="flowchart-v2"&&(n="flowchart"),e.args[n]=e.args[i],delete e.args[i])}),V.info("sanitize in handleDirective",e.args),Sr(e.args),V.info("sanitize in handleDirective (done)",e.args),Bg(e.args);break}case"wrap":case"nowrap":t&&t.setWrap&&t.setWrap(e.type==="wrap");break;case"themeCss":V.warn("themeCss encountered");break;default:V.warn(`Unhandled directive: source: '%%{${e.type}: ${JSON.stringify(e.args?e.args:{})}}%%`,e);break}},X2=V,Q2=Hh,Hy=Fn,K2=t=>jo(t,Hy()),J2=W2,Z2=()=>rb,tS=(t,e,n,i)=>qy(t,e,n,i),Xs={},Qs=(t,e,n)=>{if(Xs[t])throw new Error(`Diagram ${t} already registered.`);Xs[t]=e,n&&Vy(t,n),V2(t,e.styles),e.injectUtils&&e.injectUtils(X2,Q2,Hy,K2,J2,Z2(),tS)},hf=t=>{if(t in Xs)return Xs[t];throw new Error(`Diagram ${t} not found.`)};class Wy extends Error{constructor(e){super(e),this.name="UnknownDiagramError"}}const eS=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,nS=/\s*%%.*\n/gm,vr={},ml=function(t,e){t=t.replace(jy,"").replace(eS,"").replace(nS,`
`);for(const[n,{detector:i}]of Object.entries(vr))if(i(t,e))return n;throw new Wy(`No diagram type detected matching given configuration for text: ${t}`)},Uy=(...t)=>{for(const{id:e,detector:n,loader:i}of t)Vy(e,n,i)},iS=async()=>{V.debug("Loading registered diagrams");const e=(await Promise.allSettled(Object.entries(vr).map(async([n,{detector:i,loader:r}])=>{if(r)try{hf(n)}catch{try{const{diagram:a,id:s}=await r();Qs(s,a,i)}catch(a){throw V.error(`Failed to load external diagram with key ${n}. Removing from detectors.`),delete vr[n],a}}}))).filter(n=>n.status==="rejected");if(e.length>0){V.error(`Failed to load ${e.length} external diagrams`);for(const n of e)V.error(n);throw new Error(`Failed to load ${e.length} external diagrams`)}},Vy=(t,e,n)=>{vr[t]?V.error(`Detector with key ${t} already exists`):vr[t]={detector:e,loader:n},V.debug(`Detector with key ${t} added${n?" with loader":""}`)},rS=t=>vr[t].loader,oS={curveBasis:FC,curveBasisClosed:OC,curveBasisOpen:IC,curveBumpX:BC,curveBumpY:LC,curveBundle:MC,curveCardinalClosed:NC,curveCardinalOpen:PC,curveCardinal:DC,curveCatmullRomClosed:RC,curveCatmullRomOpen:$C,curveCatmullRom:zC,curveLinear:AC,curveLinearClosed:jC,curveMonotoneX:qC,curveMonotoneY:HC,curveNatural:WC,curveStep:UC,curveStepAfter:GC,curveStepBefore:VC},Xu=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,aS=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,sS=function(t,e){const n=Gy(t,/(?:init\b)|(?:initialize\b)/);let i={};if(Array.isArray(n)){const r=n.map(o=>o.args);Sr(r),i=Qt(i,[...r])}else i=n.args;if(i){let r=ml(t,e);["config"].forEach(o=>{i[o]!==void 0&&(r==="flowchart-v2"&&(r="flowchart"),i[r]=i[o],delete i[o])})}return i},Gy=function(t,e=null){try{const n=new RegExp(`[%]{2}(?![{]${aS.source})(?=[}][%]{2}).*
`,"ig");t=t.trim().replace(n,"").replace(/'/gm,'"'),V.debug(`Detecting diagram directive${e!==null?" type:"+e:""} based on the text:${t}`);let i;const r=[];for(;(i=Xu.exec(t))!==null;)if(i.index===Xu.lastIndex&&Xu.lastIndex++,i&&!e||e&&i[1]&&i[1].match(e)||e&&i[2]&&i[2].match(e)){const o=i[1]?i[1]:i[2],a=i[3]?i[3].trim():i[4]?JSON.parse(i[4].trim()):null;r.push({type:o,args:a})}return r.length===0&&r.push({type:t,args:null}),r.length===1?r[0]:r}catch(n){return V.error(`ERROR: ${n.message} - Unable to parse directive
      ${e!==null?" type:"+e:""} based on the text:${t}`),{type:null,args:null}}},lS=function(t,e){for(const[n,i]of e.entries())if(i.match(t))return n;return-1};function cS(t,e){if(!t)return e;const n=`curve${t.charAt(0).toUpperCase()+t.slice(1)}`;return oS[n]||e}function uS(t,e){const n=t.trim();if(n)return e.securityLevel!=="loose"?Rg(n):n}const hS=(t,...e)=>{const n=t.split("."),i=n.length-1,r=n[i];let o=window;for(let a=0;a<i;a++)if(o=o[n[a]],!o)return;o[r](...e)};function Ks(t,e){return t&&e?Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)):0}function fS(t){let e,n=0;t.forEach(o=>{n+=Ks(o,e),e=o});let i=n/2,r;return e=void 0,t.forEach(o=>{if(e&&!r){const a=Ks(o,e);if(a<i)i-=a;else{const s=i/a;s<=0&&(r=e),s>=1&&(r={x:o.x,y:o.y}),s>0&&s<1&&(r={x:(1-s)*e.x+s*o.x,y:(1-s)*e.y+s*o.y})}}e=o}),r}function pS(t){return t.length===1?t[0]:fS(t)}const dS=(t,e,n)=>{let i;V.info(`our points ${JSON.stringify(e)}`),e[0]!==n&&(e=e.reverse());let o=25,a;i=void 0,e.forEach(u=>{if(i&&!a){const h=Ks(u,i);if(h<o)o-=h;else{const g=o/h;g<=0&&(a=i),g>=1&&(a={x:u.x,y:u.y}),g>0&&g<1&&(a={x:(1-g)*i.x+g*u.x,y:(1-g)*i.y+g*u.y})}}i=u});const s=t?10:5,l=Math.atan2(e[0].y-a.y,e[0].x-a.x),c={x:0,y:0};return c.x=Math.sin(l)*s+(e[0].x+a.x)/2,c.y=-Math.cos(l)*s+(e[0].y+a.y)/2,c};function mS(t,e,n){let i=JSON.parse(JSON.stringify(n)),r;V.info("our points",i),e!=="start_left"&&e!=="start_right"&&(i=i.reverse()),i.forEach(h=>{r=h});let a=25+t,s;r=void 0,i.forEach(h=>{if(r&&!s){const g=Ks(h,r);if(g<a)a-=g;else{const m=a/g;m<=0&&(s=r),m>=1&&(s={x:h.x,y:h.y}),m>0&&m<1&&(s={x:(1-m)*r.x+m*h.x,y:(1-m)*r.y+m*h.y})}}r=h});const l=10+t*.5,c=Math.atan2(i[0].y-s.y,i[0].x-s.x),u={x:0,y:0};return u.x=Math.sin(c)*l+(i[0].x+s.x)/2,u.y=-Math.cos(c)*l+(i[0].y+s.y)/2,e==="start_left"&&(u.x=Math.sin(c+Math.PI)*l+(i[0].x+s.x)/2,u.y=-Math.cos(c+Math.PI)*l+(i[0].y+s.y)/2),e==="end_right"&&(u.x=Math.sin(c-Math.PI)*l+(i[0].x+s.x)/2-5,u.y=-Math.cos(c-Math.PI)*l+(i[0].y+s.y)/2-5),e==="end_left"&&(u.x=Math.sin(c)*l+(i[0].x+s.x)/2-5,u.y=-Math.cos(c)*l+(i[0].y+s.y)/2-5),u}function gS(t){let e="",n="";for(const i of t)i!==void 0&&(i.startsWith("color:")||i.startsWith("text-align:")?n=n+i+";":e=e+i+";");return{style:e,labelStyle:n}}let nm=0;const yS=()=>(nm++,"id-"+Math.random().toString(36).substr(2,12)+"-"+nm);function _S(t){let e="";const n="0123456789abcdef",i=n.length;for(let r=0;r<t;r++)e+=n.charAt(Math.floor(Math.random()*i));return e}const bS=t=>_S(t.length),xS=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},kS=function(t,e){const n=e.text.replace(Wh.lineBreakRegex," "),[,i]=pf(e.fontSize),r=t.append("text");r.attr("x",e.x),r.attr("y",e.y),r.style("text-anchor",e.anchor),r.style("font-family",e.fontFamily),r.style("font-size",i),r.style("font-weight",e.fontWeight),r.attr("fill",e.fill),e.class!==void 0&&r.attr("class",e.class);const o=r.append("tspan");return o.attr("x",e.x+e.textMargin*2),o.attr("fill",e.fill),o.text(n),r},CS=ta((t,e,n)=>{if(!t||(n=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},n),Wh.lineBreakRegex.test(t)))return t;const i=t.split(" "),r=[];let o="";return i.forEach((a,s)=>{const l=Js(`${a} `,n),c=Js(o,n);if(l>e){const{hyphenatedStrings:g,remainingWord:m}=wS(a,e,"-",n);r.push(o,...g),o=m}else c+l>=e?(r.push(o),o=a):o=[o,a].filter(Boolean).join(" ");s+1===i.length&&r.push(o)}),r.filter(a=>a!=="").join(n.joinWith)},(t,e,n)=>`${t}${e}${n.fontSize}${n.fontWeight}${n.fontFamily}${n.joinWith}`),wS=ta((t,e,n="-",i)=>{i=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},i);const r=[...t],o=[];let a="";return r.forEach((s,l)=>{const c=`${a}${s}`;if(Js(c,i)>=e){const h=l+1,g=r.length===h,m=`${c}${n}`;o.push(g?c:m),a=""}else a=c}),{hyphenatedStrings:o,remainingWord:a}},(t,e,n="-",i)=>`${t}${e}${n}${i.fontSize}${i.fontWeight}${i.fontFamily}`);function vS(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},e),ff(t,e).height}function Js(t,e){return e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e),ff(t,e).width}const ff=ta((t,e)=>{e=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},e);const{fontSize:n,fontFamily:i,fontWeight:r}=e;if(!t)return{width:0,height:0};const[,o]=pf(n),a=["sans-serif",i],s=t.split(Wh.lineBreakRegex),l=[],c=on("body");if(!c.remove)return{width:0,height:0,lineHeight:0};const u=c.append("svg");for(const g of a){let m=0;const b={width:0,height:0,lineHeight:0};for(const B of s){const M=xS();M.text=B;const v=kS(u,M).style("font-size",o).style("font-weight",r).style("font-family",g),F=(v._groups||v)[0][0].getBBox();if(F.width===0&&F.height===0)throw new Error("svg element not in render tree");b.width=Math.round(Math.max(b.width,F.width)),m=Math.round(F.height),b.height+=m,b.lineHeight=Math.round(Math.max(b.lineHeight,m))}l.push(b)}u.remove();const h=isNaN(l[1].height)||isNaN(l[1].width)||isNaN(l[1].lineHeight)||l[0].height>l[1].height&&l[0].width>l[1].width&&l[0].lineHeight>l[1].lineHeight?0:1;return l[h]},(t,e)=>`${t}${e.fontSize}${e.fontWeight}${e.fontFamily}`),SS=class{constructor(e,n){this.deterministic=e,this.seed=n,this.count=n?n.length:0}next(){return this.deterministic?this.count++:Date.now()}};let us;const TS=function(t){return us=us||document.createElement("div"),t=escape(t).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),us.innerHTML=t,unescape(us.textContent)},Sr=t=>{if(V.debug("directiveSanitizer called with",t),typeof t=="object"&&(t.length?t.forEach(e=>Sr(e)):Object.keys(t).forEach(e=>{V.debug("Checking key",e),e.startsWith("__")&&(V.debug("sanitize deleting __ option",e),delete t[e]),e.includes("proto")&&(V.debug("sanitize deleting proto option",e),delete t[e]),e.includes("constr")&&(V.debug("sanitize deleting constr option",e),delete t[e]),e.includes("themeCSS")&&(V.debug("sanitizing themeCss option"),t[e]=vs(t[e])),e.includes("fontFamily")&&(V.debug("sanitizing fontFamily option"),t[e]=vs(t[e])),e.includes("altFontFamily")&&(V.debug("sanitizing altFontFamily option"),t[e]=vs(t[e])),Q1.includes(e)?typeof t[e]=="object"&&(V.debug("sanitize deleting object",e),Sr(t[e])):(V.debug("sanitize deleting option",e),delete t[e])})),t.themeVariables){const e=Object.keys(t.themeVariables);for(const n of e){const i=t.themeVariables[n];i&&i.match&&!i.match(/^[\d "#%(),.;A-Za-z]+$/)&&(t.themeVariables[n]="")}}V.debug("After sanitization",t)},vs=t=>{let e=0,n=0;for(const i of t){if(e<n)return"{ /* ERROR: Unbalanced CSS */ }";i==="{"?e++:i==="}"&&n++}return e!==n?"{ /* ERROR: Unbalanced CSS */ }":t};function Yy(t){return"str"in t}function ES(t){return t instanceof Error?t.message:String(t)}const AS=(t,e,n,i)=>{if(!i)return;const r=t.node().getBBox();t.append("text").text(i).attr("x",r.x+r.width/2).attr("y",-n).attr("class",e)},pf=t=>{if(typeof t=="number")return[t,t+"px"];const e=parseInt(t,10);return Number.isNaN(e)?[void 0,void 0]:t===String(e)?[e,t+"px"]:[e,t]},Ss={assignWithDepth:Qt,wrapLabel:CS,calculateTextHeight:vS,calculateTextWidth:Js,calculateTextDimensions:ff,detectInit:sS,detectDirective:Gy,isSubstringInArray:lS,interpolateToCurve:cS,calcLabelPosition:pS,calcCardinalityPosition:dS,calcTerminalLabelPosition:mS,formatUrl:uS,getStylesFromArray:gS,generateId:yS,random:bS,runFunc:hS,entityDecode:TS,initIdGenerator:SS,directiveSanitizer:Sr,sanitizeCss:vs,insertTitle:AS,parseFontSize:pf};var Xy="comm",Qy="rule",Ky="decl",BS="@import",LS="@keyframes",FS="@layer",OS=Math.abs,df=String.fromCharCode;function Jy(t){return t.trim()}function Ts(t,e,n){return t.replace(e,n)}function IS(t,e){return t.indexOf(e)}function Xo(t,e){return t.charCodeAt(e)|0}function Qo(t,e,n){return t.slice(e,n)}function ni(t){return t.length}function Zy(t){return t.length}function hs(t,e){return e.push(t),t}var gl=1,Tr=1,t0=0,Pe=0,Nt=0,Br="";function mf(t,e,n,i,r,o,a){return{value:t,root:e,parent:n,type:i,props:r,children:o,line:gl,column:Tr,length:a,return:""}}function MS(){return Nt}function DS(){return Nt=Pe>0?Xo(Br,--Pe):0,Tr--,Nt===10&&(Tr=1,gl--),Nt}function Ye(){return Nt=Pe<t0?Xo(Br,Pe++):0,Tr++,Nt===10&&(Tr=1,gl++),Nt}function Ii(){return Xo(Br,Pe)}function Es(){return Pe}function yl(t,e){return Qo(Br,t,e)}function wh(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function NS(t){return gl=Tr=1,t0=ni(Br=t),Pe=0,[]}function PS(t){return Br="",t}function Qu(t){return Jy(yl(Pe-1,vh(t===91?t+2:t===40?t+1:t)))}function zS(t){for(;(Nt=Ii())&&Nt<33;)Ye();return wh(t)>2||wh(Nt)>3?"":" "}function RS(t,e){for(;--e&&Ye()&&!(Nt<48||Nt>102||Nt>57&&Nt<65||Nt>70&&Nt<97););return yl(t,Es()+(e<6&&Ii()==32&&Ye()==32))}function vh(t){for(;Ye();)switch(Nt){case t:return Pe;case 34:case 39:t!==34&&t!==39&&vh(Nt);break;case 40:t===41&&vh(t);break;case 92:Ye();break}return Pe}function $S(t,e){for(;Ye()&&t+Nt!==47+10;)if(t+Nt===42+42&&Ii()===47)break;return"/*"+yl(e,Pe-1)+"*"+df(t===47?t:Ye())}function jS(t){for(;!wh(Ii());)Ye();return yl(t,Pe)}function qS(t){return PS(As("",null,null,null,[""],t=NS(t),0,[0],t))}function As(t,e,n,i,r,o,a,s,l){for(var c=0,u=0,h=a,g=0,m=0,b=0,B=1,M=1,v=1,F=0,P="",G=r,K=o,E=i,$=P;M;)switch(b=F,F=Ye()){case 40:if(b!=108&&Xo($,h-1)==58){IS($+=Ts(Qu(F),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:$+=Qu(F);break;case 9:case 10:case 13:case 32:$+=zS(b);break;case 92:$+=RS(Es()-1,7);continue;case 47:switch(Ii()){case 42:case 47:hs(HS($S(Ye(),Es()),e,n),l);break;default:$+="/"}break;case 123*B:s[c++]=ni($)*v;case 125*B:case 59:case 0:switch(F){case 0:case 125:M=0;case 59+u:v==-1&&($=Ts($,/\f/g,"")),m>0&&ni($)-h&&hs(m>32?rm($+";",i,n,h-1):rm(Ts($," ","")+";",i,n,h-2),l);break;case 59:$+=";";default:if(hs(E=im($,e,n,c,u,r,s,P,G=[],K=[],h),o),F===123)if(u===0)As($,e,E,E,G,o,h,s,K);else switch(g===99&&Xo($,3)===110?100:g){case 100:case 108:case 109:case 115:As(t,E,E,i&&hs(im(t,E,E,0,0,r,s,P,r,G=[],h),K),r,K,h,s,i?G:K);break;default:As($,E,E,E,[""],K,0,s,K)}}c=u=m=0,B=v=1,P=$="",h=a;break;case 58:h=1+ni($),m=b;default:if(B<1){if(F==123)--B;else if(F==125&&B++==0&&DS()==125)continue}switch($+=df(F),F*B){case 38:v=u>0?1:($+="\f",-1);break;case 44:s[c++]=(ni($)-1)*v,v=1;break;case 64:Ii()===45&&($+=Qu(Ye())),g=Ii(),u=h=ni(P=$+=jS(Es())),F++;break;case 45:b===45&&ni($)==2&&(B=0)}}return o}function im(t,e,n,i,r,o,a,s,l,c,u){for(var h=r-1,g=r===0?o:[""],m=Zy(g),b=0,B=0,M=0;b<i;++b)for(var v=0,F=Qo(t,h+1,h=OS(B=a[b])),P=t;v<m;++v)(P=Jy(B>0?g[v]+" "+F:Ts(F,/&\f/g,g[v])))&&(l[M++]=P);return mf(t,e,n,r===0?Qy:s,l,c,u)}function HS(t,e,n){return mf(t,e,n,Xy,df(MS()),Qo(t,2,-2),0)}function rm(t,e,n,i){return mf(t,e,n,Ky,Qo(t,0,i),Qo(t,i+1,-1),i)}function Sh(t,e){for(var n="",i=Zy(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function WS(t,e,n,i){switch(t.type){case FS:if(t.children.length)break;case BS:case Ky:return t.return=t.return||t.value;case Xy:return"";case LS:return t.return=t.value+"{"+Sh(t.children,i)+"}";case Qy:t.value=t.props.join(",")}return ni(n=Sh(t.children,i))?t.return=t.value+"{"+n+"}":""}var US=Object.prototype;function e0(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||US;return t===n}function VS(t,e){return function(n){return t(e(n))}}var GS=VS(Object.keys,Object);const YS=GS;var XS=Object.prototype,QS=XS.hasOwnProperty;function KS(t){if(!e0(t))return YS(t);var e=[];for(var n in Object(t))QS.call(t,n)&&n!="constructor"&&e.push(n);return e}var JS=Er(li,"DataView");const Th=JS;var ZS=Er(li,"Promise");const Eh=ZS;var tT=Er(li,"Set");const Ah=tT;var eT=Er(li,"WeakMap");const Bh=eT;var om="[object Map]",nT="[object Object]",am="[object Promise]",sm="[object Set]",lm="[object WeakMap]",cm="[object DataView]",iT=Pi(Th),rT=Pi(Us),oT=Pi(Eh),aT=Pi(Ah),sT=Pi(Bh),Bi=Zo;(Th&&Bi(new Th(new ArrayBuffer(1)))!=cm||Us&&Bi(new Us)!=om||Eh&&Bi(Eh.resolve())!=am||Ah&&Bi(new Ah)!=sm||Bh&&Bi(new Bh)!=lm)&&(Bi=function(t){var e=Zo(t),n=e==nT?t.constructor:void 0,i=n?Pi(n):"";if(i)switch(i){case iT:return cm;case rT:return om;case oT:return am;case aT:return sm;case sT:return lm}return e});const lT=Bi;function gf(t){return t!=null&&typeof t=="object"}var cT="[object Arguments]";function um(t){return gf(t)&&Zo(t)==cT}var n0=Object.prototype,uT=n0.hasOwnProperty,hT=n0.propertyIsEnumerable,fT=um(function(){return arguments}())?um:function(t){return gf(t)&&uT.call(t,"callee")&&!hT.call(t,"callee")};const pT=fT;var dT=Array.isArray;const mT=dT;var gT=9007199254740991;function i0(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=gT}function yT(t){return t!=null&&i0(t.length)&&!Ey(t)}function _T(){return!1}var r0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,hm=r0&&typeof module=="object"&&module&&!module.nodeType&&module,bT=hm&&hm.exports===r0,fm=bT?li.Buffer:void 0,xT=fm?fm.isBuffer:void 0,kT=xT||_T;const CT=kT;var wT="[object Arguments]",vT="[object Array]",ST="[object Boolean]",TT="[object Date]",ET="[object Error]",AT="[object Function]",BT="[object Map]",LT="[object Number]",FT="[object Object]",OT="[object RegExp]",IT="[object Set]",MT="[object String]",DT="[object WeakMap]",NT="[object ArrayBuffer]",PT="[object DataView]",zT="[object Float32Array]",RT="[object Float64Array]",$T="[object Int8Array]",jT="[object Int16Array]",qT="[object Int32Array]",HT="[object Uint8Array]",WT="[object Uint8ClampedArray]",UT="[object Uint16Array]",VT="[object Uint32Array]",xt={};xt[zT]=xt[RT]=xt[$T]=xt[jT]=xt[qT]=xt[HT]=xt[WT]=xt[UT]=xt[VT]=!0;xt[wT]=xt[vT]=xt[NT]=xt[ST]=xt[PT]=xt[TT]=xt[ET]=xt[AT]=xt[BT]=xt[LT]=xt[FT]=xt[OT]=xt[IT]=xt[MT]=xt[DT]=!1;function GT(t){return gf(t)&&i0(t.length)&&!!xt[Zo(t)]}function YT(t){return function(e){return t(e)}}var o0=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zo=o0&&typeof module=="object"&&module&&!module.nodeType&&module,XT=zo&&zo.exports===o0,Ku=XT&&vy.process,QT=function(){try{var t=zo&&zo.require&&zo.require("util").types;return t||Ku&&Ku.binding&&Ku.binding("util")}catch{}}();const pm=QT;var dm=pm&&pm.isTypedArray,KT=dm?YT(dm):GT;const JT=KT;var ZT="[object Map]",tE="[object Set]",eE=Object.prototype,nE=eE.hasOwnProperty;function Bs(t){if(t==null)return!0;if(yT(t)&&(mT(t)||typeof t=="string"||typeof t.splice=="function"||CT(t)||JT(t)||pT(t)))return!t.length;var e=lT(t);if(e==ZT||e==tE)return!t.size;if(e0(t))return!KS(t).length;for(var n in t)if(nE.call(t,n))return!1;return!0}const mm="10.1.0",a0="c4",iE=t=>t.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null,rE=async()=>{const{diagram:t}=await jt(()=>import("./c4Diagram-44c43e89-42c3a828.js"),["./c4Diagram-44c43e89-42c3a828.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:a0,diagram:t}},oE={id:a0,detector:iE,loader:rE},aE=oE,s0="flowchart",sE=(t,e)=>{var n,i;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:t.match(/^\s*graph/)!==null},lE=async()=>{const{diagram:t}=await jt(()=>import("./flowDiagram-46a15f6f-e10abab8.js"),["./flowDiagram-46a15f6f-e10abab8.js","./flowDb-52e24d17-152e8d70.js","./layout-215f5c83.js","./styles-26373982-2cabd88a.js","./index-5219d011-865ad2b6.js","./edges-2e77835f-19e73f7b.js","./createText-1f5f8f92-aa2e7c23.js","./svgDraw-2526cba0-3590aa7d.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js","./selectAll-7f45da89.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:s0,diagram:t}},cE={id:s0,detector:sE,loader:lE},uE=cE,l0="flowchart-v2",hE=(t,e)=>{var n,i,r;return((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="dagre-d3"||((i=e==null?void 0:e.flowchart)==null?void 0:i.defaultRenderer)==="elk"?!1:t.match(/^\s*graph/)!==null&&((r=e==null?void 0:e.flowchart)==null?void 0:r.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*flowchart/)!==null},fE=async()=>{const{diagram:t}=await jt(()=>import("./flowDiagram-v2-8e52592d-2cec510a.js"),["./flowDiagram-v2-8e52592d-2cec510a.js","./flowDb-52e24d17-152e8d70.js","./styles-26373982-2cabd88a.js","./layout-215f5c83.js","./index-5219d011-865ad2b6.js","./edges-2e77835f-19e73f7b.js","./createText-1f5f8f92-aa2e7c23.js","./svgDraw-2526cba0-3590aa7d.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js","./selectAll-7f45da89.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:l0,diagram:t}},pE={id:l0,detector:hE,loader:fE},dE=pE,c0="er",mE=t=>t.match(/^\s*erDiagram/)!==null,gE=async()=>{const{diagram:t}=await jt(()=>import("./erDiagram-20cc9db4-39a9eed8.js"),["./erDiagram-20cc9db4-39a9eed8.js","./layout-215f5c83.js","./dayjs.min-5d37bafc.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js"],import.meta.url);return{id:c0,diagram:t}},yE={id:c0,detector:mE,loader:gE},_E=yE,u0="gitGraph",bE=t=>t.match(/^\s*gitGraph/)!==null,xE=async()=>{const{diagram:t}=await jt(()=>import("./gitGraphDiagram-0a645df6-17cefce2.js"),["./gitGraphDiagram-0a645df6-17cefce2.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:u0,diagram:t}},kE={id:u0,detector:bE,loader:xE},CE=kE,h0="gantt",wE=t=>t.match(/^\s*gantt/)!==null,vE=async()=>{const{diagram:t}=await jt(()=>import("./ganttDiagram-04e74c0a-aa50ee05.js"),["./ganttDiagram-04e74c0a-aa50ee05.js","./dayjs.min-5d37bafc.js","./init-77b53fdd.js"],import.meta.url);return{id:h0,diagram:t}},SE={id:h0,detector:wE,loader:vE},TE=SE,f0="info",EE=t=>t.match(/^\s*info/)!==null,AE=async()=>{const{diagram:t}=await jt(()=>import("./infoDiagram-69ec1a58-e65e3b2f.js"),["./infoDiagram-69ec1a58-e65e3b2f.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:f0,diagram:t}},BE={id:f0,detector:EE,loader:AE},LE=BE,p0="pie",FE=t=>t.match(/^\s*pie/)!==null,OE=async()=>{const{diagram:t}=await jt(()=>import("./pieDiagram-db1a8a21-586b09a4.js"),["./pieDiagram-db1a8a21-586b09a4.js","./dayjs.min-5d37bafc.js","./init-77b53fdd.js","./array-9f3ba611.js","./path-53f90ab3.js","./arc-fd48dd7f.js"],import.meta.url);return{id:p0,diagram:t}},IE={id:p0,detector:FE,loader:OE},ME=IE,d0="requirement",DE=t=>t.match(/^\s*requirement(Diagram)?/)!==null,NE=async()=>{const{diagram:t}=await jt(()=>import("./requirementDiagram-b9649942-29759a29.js"),["./requirementDiagram-b9649942-29759a29.js","./layout-215f5c83.js","./dayjs.min-5d37bafc.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js"],import.meta.url);return{id:d0,diagram:t}},PE={id:d0,detector:DE,loader:NE},zE=PE,m0="sequence",RE=t=>t.match(/^\s*sequenceDiagram/)!==null,$E=async()=>{const{diagram:t}=await jt(()=>import("./sequenceDiagram-446df3e4-af36a765.js"),["./sequenceDiagram-446df3e4-af36a765.js","./dayjs.min-5d37bafc.js","./selectAll-7f45da89.js"],import.meta.url);return{id:m0,diagram:t}},jE={id:m0,detector:RE,loader:$E},qE=jE,g0="class",HE=(t,e)=>{var n;return((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*classDiagram/)!==null},WE=async()=>{const{diagram:t}=await jt(()=>import("./classDiagram-634fc78b-fad40f3e.js"),["./classDiagram-634fc78b-fad40f3e.js","./styles-16907e1b-e51d9abd.js","./layout-215f5c83.js","./svgDraw-2526cba0-3590aa7d.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:g0,diagram:t}},UE={id:g0,detector:HE,loader:WE},VE=UE,y0="classDiagram",GE=(t,e)=>{var n;return t.match(/^\s*classDiagram/)!==null&&((n=e==null?void 0:e.class)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!0:t.match(/^\s*classDiagram-v2/)!==null},YE=async()=>{const{diagram:t}=await jt(()=>import("./classDiagram-v2-72bddc41-737fcf70.js"),["./classDiagram-v2-72bddc41-737fcf70.js","./styles-16907e1b-e51d9abd.js","./layout-215f5c83.js","./index-5219d011-865ad2b6.js","./edges-2e77835f-19e73f7b.js","./createText-1f5f8f92-aa2e7c23.js","./svgDraw-2526cba0-3590aa7d.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:y0,diagram:t}},XE={id:y0,detector:GE,loader:YE},QE=XE,_0="state",KE=(t,e)=>{var n;return((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"?!1:t.match(/^\s*stateDiagram/)!==null},JE=async()=>{const{diagram:t}=await jt(()=>import("./stateDiagram-d53d2428-4174738f.js"),["./stateDiagram-d53d2428-4174738f.js","./styles-47a825a5-418f6164.js","./layout-215f5c83.js","./dayjs.min-5d37bafc.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js"],import.meta.url);return{id:_0,diagram:t}},ZE={id:_0,detector:KE,loader:JE},tA=ZE,b0="stateDiagram",eA=(t,e)=>{var n,i;return!!(t.match(/^\s*stateDiagram-v2/)!==null||t.match(/^\s*stateDiagram/)&&((n=e==null?void 0:e.state)==null?void 0:n.defaultRenderer)==="dagre-wrapper"||t.match(/^\s*stateDiagram/)&&((i=e==null?void 0:e.state)==null?void 0:i.defaultRenderer)==="dagre-wrapper")},nA=async()=>{const{diagram:t}=await jt(()=>import("./stateDiagram-v2-9765461d-1b1a7f01.js"),["./stateDiagram-v2-9765461d-1b1a7f01.js","./styles-47a825a5-418f6164.js","./layout-215f5c83.js","./index-5219d011-865ad2b6.js","./edges-2e77835f-19e73f7b.js","./createText-1f5f8f92-aa2e7c23.js","./svgDraw-2526cba0-3590aa7d.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:b0,diagram:t}},iA={id:b0,detector:eA,loader:nA},rA=iA,x0="journey",oA=t=>t.match(/^\s*journey/)!==null,aA=async()=>{const{diagram:t}=await jt(()=>import("./journeyDiagram-d38aa57d-0016986a.js"),["./journeyDiagram-d38aa57d-0016986a.js","./dayjs.min-5d37bafc.js","./arc-fd48dd7f.js","./path-53f90ab3.js"],import.meta.url);return{id:x0,diagram:t}},sA={id:x0,detector:oA,loader:aA},lA=sA,cA=()=>"",uA=cA,hA=function(){},fA=(t,e,n)=>{try{V.debug(`Renering svg for syntax error
`);const i=on("#"+e),r=i.append("g");r.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),r.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),r.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),r.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),r.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),r.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),r.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),r.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+n),i.attr("height",100),i.attr("width",500),i.attr("viewBox","768 0 912 512")}catch(i){V.error("Error while rendering info diagram"),V.error(ES(i))}},k0={setConf:hA,draw:fA},pA={db:{clear:()=>{}},styles:uA,renderer:k0,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},dA=pA,C0="flowchart-elk",mA=(t,e)=>{var n;return!!(t.match(/^\s*flowchart-elk/)||t.match(/^\s*flowchart|graph/)&&((n=e==null?void 0:e.flowchart)==null?void 0:n.defaultRenderer)==="elk")},gA=async()=>{const{diagram:t}=await jt(()=>import("./flowchart-elk-definition-a44a74cb-7e716964.js"),["./flowchart-elk-definition-a44a74cb-7e716964.js","./flowDb-52e24d17-152e8d70.js","./edges-2e77835f-19e73f7b.js","./createText-1f5f8f92-aa2e7c23.js","./svgDraw-2526cba0-3590aa7d.js","./line-e46c4a65.js","./array-9f3ba611.js","./path-53f90ab3.js","./dayjs.min-5d37bafc.js"],import.meta.url);return{id:C0,diagram:t}},yA={id:C0,detector:mA,loader:gA},_A=yA,w0="timeline",bA=t=>t.match(/^\s*timeline/)!==null,xA=async()=>{const{diagram:t}=await jt(()=>import("./timeline-definition-de69aca6-5653fdcd.js"),["./timeline-definition-de69aca6-5653fdcd.js","./dayjs.min-5d37bafc.js","./is_dark-a7ccbc1b.js","./arc-fd48dd7f.js","./path-53f90ab3.js"],import.meta.url);return{id:w0,diagram:t}},kA={id:w0,detector:bA,loader:xA},CA=kA,v0="mindmap",wA=t=>t.match(/^\s*mindmap/)!==null,vA=async()=>{const{diagram:t}=await jt(()=>import("./mindmap-definition-65b51176-a193c355.js"),["./mindmap-definition-65b51176-a193c355.js","./createText-1f5f8f92-aa2e7c23.js","./dayjs.min-5d37bafc.js","./is_dark-a7ccbc1b.js"],import.meta.url);return{id:v0,diagram:t}},SA={id:v0,detector:wA,loader:vA},TA=SA;let gm=!1;const yf=()=>{gm||(gm=!0,Qs("error",dA,t=>t.toLowerCase().trim()==="error"),Qs("---",{db:{clear:()=>{}},styles:{},renderer:{},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},t=>t.toLowerCase().trimStart().startsWith("---")),Uy(aE,QE,VE,_E,TE,LE,ME,zE,qE,_A,dE,uE,TA,CA,CE,rA,tA,lA))},EA=t=>t.trimStart().replace(/^\s*%%(?!{)[^\n]+\n?/gm,"");class S0{constructor(e){var n,i;this.text=e,this.type="graph",this.text+=`
`;const r=Fn();try{this.type=ml(e,r)}catch(s){this.type="error",this.detectError=s}const o=hf(this.type);V.debug("Type "+this.type),this.db=o.db,(i=(n=this.db).clear)==null||i.call(n),this.renderer=o.renderer,this.parser=o.parser;const a=this.parser.parse.bind(this.parser);this.parser.parse=s=>a(EA($2(s,this.db))),this.parser.parser.yy=this.db,o.init&&(o.init(r),V.info("Initialized diagram "+this.type,r)),this.parse()}parse(){var e,n;if(this.detectError)throw this.detectError;(n=(e=this.db).clear)==null||n.call(e),this.parser.parse(this.text)}async render(e,n){await this.renderer.draw(this.text,e,n,this)}getParser(){return this.parser}getType(){return this.type}}const _f=async t=>{const e=ml(t,Fn());try{hf(e)}catch{const i=rS(e);if(!i)throw new Wy(`Diagram ${e} not found.`);const{id:r,diagram:o}=await i();Qs(r,o)}return new S0(t)};let Lh=[];const hO=t=>{Lh.push(t)},AA=()=>{Lh.forEach(t=>{t()}),Lh=[]},BA="graphics-document document";function LA(t,e){t.attr("role",BA),Bs(e)||t.attr("aria-roledescription",e)}function FA(t,e,n,i){if(t.insert!==void 0)if(e||n){if(n){const r="chart-desc-"+i;t.attr("aria-describedby",r),t.insert("desc",":first-child").attr("id",r).text(n)}if(e){const r="chart-title-"+i;t.attr("aria-labelledby",r),t.insert("title",":first-child").attr("id",r).text(e)}}else return}const T0=["graph","flowchart","flowchart-v2","flowchart-elk","stateDiagram","stateDiagram-v2"],OA=5e4,IA="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",MA="sandbox",DA="loose",NA="http://www.w3.org/2000/svg",PA="http://www.w3.org/1999/xlink",zA="http://www.w3.org/1999/xhtml",RA="100%",$A="100%",jA="border:0;margin:0;",qA="margin:0",HA="allow-top-navigation-by-user-activation allow-popups",WA='The "iframe" tag is not supported by your browser.',UA=["foreignobject"],VA=["dominant-baseline"];async function GA(t,e){yf();try{(await _f(t)).parse()}catch(n){if(e!=null&&e.suppressErrors)return!1;throw n}return!0}const YA=function(t){let e=t;return e=e.replace(/style.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/classDef.*:\S*#.*;/g,function(n){return n.substring(0,n.length-1)}),e=e.replace(/#\w+;/g,function(n){const i=n.substring(1,n.length-1);return/^\+?\d+$/.test(i)?"ﬂ°°"+i+"¶ß":"ﬂ°"+i+"¶ß"}),e},XA=function(t){let e=t;return e=e.replace(/ﬂ°°/g,"&#"),e=e.replace(/ﬂ°/g,"&"),e=e.replace(/¶ß/g,";"),e},ym=(t,e,n=[])=>`
.${t} ${e} { ${n.join(" !important; ")} !important; }`,QA=(t,e,n={})=>{var i;let r="";if(t.themeCSS!==void 0&&(r+=`
${t.themeCSS}`),t.fontFamily!==void 0&&(r+=`
:root { --mermaid-font-family: ${t.fontFamily}}`),t.altFontFamily!==void 0&&(r+=`
:root { --mermaid-alt-font-family: ${t.altFontFamily}}`),!Bs(n)&&T0.includes(e)){const l=t.htmlLabels||((i=t.flowchart)==null?void 0:i.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const c in n){const u=n[c];Bs(u.styles)||l.forEach(h=>{r+=ym(u.id,h,u.styles)}),Bs(u.textStyles)||(r+=ym(u.id,"tspan",u.textStyles))}}return r},KA=(t,e,n,i)=>{const r=QA(t,e,n),o=G2(e,r,t.themeVariables);return Sh(qS(`${i}{${o}}`),WS)},JA=(t="",e,n)=>{let i=t;return!n&&!e&&(i=i.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),i=XA(i),i=i.replace(/<br>/g,"<br/>"),i},ZA=(t="",e)=>{const n=e?e.viewBox.baseVal.height+"px":$A,i=btoa('<body style="'+qA+'">'+t+"</body>");return`<iframe style="width:${RA};height:${n};${jA}" src="data:text/html;base64,${i}" sandbox="${HA}">
  ${WA}
</iframe>`},_m=(t,e,n,i,r)=>{const o=t.append("div");o.attr("id",n),i&&o.attr("style",i);const a=o.append("svg").attr("id",e).attr("width","100%").attr("xmlns",NA);return r&&a.attr("xmlns:xlink",r),a.append("g"),t};function bm(t,e){return t.append("iframe").attr("id",e).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const tB=(t,e,n,i)=>{var r,o,a;(r=t.getElementById(e))==null||r.remove(),(o=t.getElementById(n))==null||o.remove(),(a=t.getElementById(i))==null||a.remove()},eB=async function(t,e,n){var i,r,o,a;yf(),Ms();const s=Ss.detectInit(e);s&&(Sr(s),Bg(s));const l=Fn();V.debug(l),e.length>((l==null?void 0:l.maxTextSize)??OA)&&(e=IA),e=e.replace(/\r\n?/g,`
`);const c="#"+t,u="i"+t,h="#"+u,g="d"+t,m="#"+g;let b=on("body");const B=l.securityLevel===MA,M=l.securityLevel===DA,v=l.fontFamily;if(n!==void 0){if(n&&(n.innerHTML=""),B){const pt=bm(on(n),u);b=on(pt.nodes()[0].contentDocument.body),b.node().style.margin=0}else b=on(n);_m(b,t,g,`font-family: ${v}`,PA)}else{if(tB(document,t,g,u),B){const pt=bm(on("body"),u);b=on(pt.nodes()[0].contentDocument.body),b.node().style.margin=0}else b=on("body");_m(b,t,g)}e=YA(e);let F,P;try{F=await _f(e)}catch(pt){F=new S0("error"),P=pt}const G=b.select(m).node(),K=F.type,E=G.firstChild,$=E.firstChild,rt=T0.includes(K)?F.renderer.getClasses(e,F):{},at=KA(l,K,rt,c),dt=document.createElement("style");dt.innerHTML=at,E.insertBefore(dt,$);try{await F.renderer.draw(e,t,mm,F)}catch(pt){throw k0.draw(e,t,mm),pt}const j=b.select(`${m} svg`),X=(r=(i=F.db).getAccTitle)==null?void 0:r.call(i),tt=(a=(o=F.db).getAccDescription)==null?void 0:a.call(o);iB(K,j,X,tt),b.select(`[id="${t}"]`).selectAll("foreignobject > *").attr("xmlns",zA);let ft=b.select(m).node().innerHTML;if(V.debug("config.arrowMarkerAbsolute",l.arrowMarkerAbsolute),ft=JA(ft,B,vg(l.arrowMarkerAbsolute)),B){const pt=b.select(m+" svg").node();ft=ZA(ft,pt)}else M||(ft=Is.sanitize(ft,{ADD_TAGS:UA,ADD_ATTR:VA}));if(AA(),P)throw P;const Ct=on(B?h:m).node();return Ct&&"remove"in Ct&&Ct.remove(),{svg:ft,bindFunctions:F.db.bindFunctions}};function nB(t={}){var e;t!=null&&t.fontFamily&&!((e=t.themeVariables)!=null&&e.fontFamily)&&(t.themeVariables||(t.themeVariables={}),t.themeVariables.fontFamily=t.fontFamily),Z1(t),t!=null&&t.theme&&t.theme in An?t.themeVariables=An[t.theme].getThemeVariables(t.themeVariables):t&&(t.themeVariables=An.default.getThemeVariables(t.themeVariables));const n=typeof t=="object"?J1(t):Eg();Hh(n.logLevel),yf()}function iB(t,e,n,i){LA(e,t),FA(e,n,i,e.attr("id"))}const Ni=Object.freeze({render:eB,parse:GA,parseDirective:qy,getDiagramFromText:_f,initialize:nB,getConfig:Fn,setConfig:eb,getSiteConfig:Eg,updateSiteConfig:tb,reset:()=>{Ms()},globalReset:()=>{Ms(qo)},defaultConfig:qo});Hh(Fn().logLevel);Ms(Fn());const rB=(t,e,n)=>{V.warn(t),Yy(t)?(n&&n(t.str,t.hash),e.push({...t,message:t.str,error:t})):(n&&n(t),t instanceof Error&&e.push({str:t.message,message:t.message,hash:t.name,error:t}))},E0=async function(t={querySelector:".mermaid"}){try{await oB(t)}catch(e){if(Yy(e)&&V.error(e.str),ze.parseError&&ze.parseError(e),!t.suppressErrors)throw V.error("Use the suppressErrors option to suppress these errors"),e}},oB=async function({postRenderCallback:t,querySelector:e,nodes:n}={querySelector:".mermaid"}){const i=Ni.getConfig();V.debug(`${t?"":"No "}Callback function found`);let r;if(n)r=n;else if(e)r=document.querySelectorAll(e);else throw new Error("Nodes and querySelector are both undefined");V.debug(`Found ${r.length} diagrams`),(i==null?void 0:i.startOnLoad)!==void 0&&(V.debug("Start On Load: "+(i==null?void 0:i.startOnLoad)),Ni.updateSiteConfig({startOnLoad:i==null?void 0:i.startOnLoad}));const o=new Ss.initIdGenerator(i.deterministicIds,i.deterministicIDSeed);let a;const s=[];for(const l of Array.from(r)){V.info("Rendering diagram: "+l.id);/*! Check if previously processed */if(l.getAttribute("data-processed"))continue;l.setAttribute("data-processed","true");const c=`mermaid-${o.next()}`;a=l.innerHTML,a=P_(Ss.entityDecode(a)).trim().replace(/<br\s*\/?>/gi,"<br/>");const u=Ss.detectInit(a);u&&V.debug("Detected early reinit: ",u);try{const{svg:h,bindFunctions:g}=await F0(c,a,l);l.innerHTML=h,t&&await t(c),g&&g(l)}catch(h){rB(h,s,ze.parseError)}}if(s.length>0)throw s[0]},A0=function(t){Ni.initialize(t)},aB=async function(t,e,n){V.warn("mermaid.init is deprecated. Please use run instead."),t&&A0(t);const i={postRenderCallback:n,querySelector:".mermaid"};typeof e=="string"?i.querySelector=e:e&&(e instanceof HTMLElement?i.nodes=[e]:i.nodes=e),await E0(i)},sB=async(t,{lazyLoad:e=!0}={})=>{Uy(...t),e===!1&&await iS()},B0=function(){if(ze.startOnLoad){const{startOnLoad:t}=Ni.getConfig();t&&ze.run().catch(e=>V.error("Mermaid failed to initialize",e))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",B0,!1)}const lB=function(t){ze.parseError=t},Zs=[];let Ju=!1;const L0=async()=>{if(!Ju){for(Ju=!0;Zs.length>0;){const t=Zs.shift();if(t)try{await t()}catch(e){V.error("Error executing queue",e)}}Ju=!1}},cB=async(t,e)=>new Promise((n,i)=>{const r=()=>new Promise((o,a)=>{Ni.parse(t,e).then(s=>{o(s),n(s)},s=>{var l;V.error("Error parsing",s),(l=ze.parseError)==null||l.call(ze,s),a(s),i(s)})});Zs.push(r),L0().catch(i)}),F0=(t,e,n)=>new Promise((i,r)=>{const o=()=>new Promise((a,s)=>{Ni.render(t,e,n).then(l=>{a(l),i(l)},l=>{var c;V.error("Error parsing",l),(c=ze.parseError)==null||c.call(ze,l),s(l),r(l)})});Zs.push(o),L0().catch(r)}),ze={startOnLoad:!0,mermaidAPI:Ni,parse:cB,render:F0,init:aB,run:E0,registerExternalDiagrams:sB,initialize:A0,parseError:void 0,contentLoaded:B0,setParseErrorHandler:lB,detectType:ml};function uB(t){let e,n,i,r,o;const a=t[2].default,s=cg(a,t,t[1],null);return{c(){e=k("div"),n=k("pre"),i=S("        "),s&&s.c(),r=S(`
    `),this.h()},l(l){e=C(l,"DIV",{class:!0});var c=w(e);n=C(c,"PRE",{class:!0});var u=w(n);i=T(u,"        "),s&&s.l(u),r=T(u,`
    `),u.forEach(d),c.forEach(d),this.h()},h(){D(n,"class","svelte-dw01c0"),D(e,"class","mermaid")},m(l,c){I(l,e,c),p(e,n),p(n,i),s&&s.m(n,null),p(n,r),t[3](n),o=!0},p(l,[c]){s&&s.p&&(!o||c&2)&&ug(s,a,l,l[1],o?fg(a,l[1],c,null):hg(l[1]),null)},i(l){o||(Io(s,l),o=!0)},o(l){Mo(s,l),o=!1},d(l){l&&d(e),s&&s.d(l),t[3](null)}}}function hB(t,e,n){let{$$slots:i={},$$scope:r}=e,o=null;ze.initialize({startOnLoad:!1,theme:"dark"}),pg(()=>{ze.init([o])});function a(s){dg[s?"unshift":"push"](()=>{o=s,n(0,o)})}return t.$$set=s=>{"$$scope"in s&&n(1,r=s.$$scope)},[o,r,i,a]}class fB extends $h{constructor(e){super(),jh(this,e,hB,uB,qh,{})}}function xm(t){if(t)throw t}/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var pB=function(e){return e!=null&&e.constructor!=null&&typeof e.constructor.isBuffer=="function"&&e.constructor.isBuffer(e)};const O0=mg(pB);var Ls=Object.prototype.hasOwnProperty,I0=Object.prototype.toString,km=Object.defineProperty,Cm=Object.getOwnPropertyDescriptor,wm=function(e){return typeof Array.isArray=="function"?Array.isArray(e):I0.call(e)==="[object Array]"},vm=function(e){if(!e||I0.call(e)!=="[object Object]")return!1;var n=Ls.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Ls.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var r;for(r in e);return typeof r>"u"||Ls.call(e,r)},Sm=function(e,n){km&&n.name==="__proto__"?km(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},Tm=function(e,n){if(n==="__proto__")if(Ls.call(e,n)){if(Cm)return Cm(e,n).value}else return;return e[n]},dB=function t(){var e,n,i,r,o,a,s=arguments[0],l=1,c=arguments.length,u=!1;for(typeof s=="boolean"&&(u=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<c;++l)if(e=arguments[l],e!=null)for(n in e)i=Tm(s,n),r=Tm(e,n),s!==r&&(u&&r&&(vm(r)||(o=wm(r)))?(o?(o=!1,a=i&&wm(i)?i:[]):a=i&&vm(i)?i:{},Sm(s,{name:n,newValue:t(u,a,r)})):typeof r<"u"&&Sm(s,{name:n,newValue:r}));return s};const Em=mg(dB);function Fh(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function mB(){const t=[],e={run:n,use:i};return e;function n(...r){let o=-1;const a=r.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);s(null,...r);function s(l,...c){const u=t[++o];let h=-1;if(l){a(l);return}for(;++h<r.length;)(c[h]===null||c[h]===void 0)&&(c[h]=r[h]);r=c,u?gB(u,s)(...c):a(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return t.push(r),e}}function gB(t,e){let n;return i;function i(...a){const s=t.length>a.length;let l;s&&a.push(r);try{l=t.apply(this,a)}catch(c){const u=c;if(s&&n)throw u;return r(u)}s||(l instanceof Promise?l.then(o,r):l instanceof Error?r(l):o(l))}function r(a,...s){n||(n=!0,e(a,...s))}function o(a){r(null,a)}}function Ro(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Am(t.position):"start"in t||"end"in t?Am(t):"line"in t||"column"in t?Oh(t):""}function Oh(t){return Bm(t&&t.line)+":"+Bm(t&&t.column)}function Am(t){return Oh(t&&t.start)+"-"+Oh(t&&t.end)}function Bm(t){return t&&typeof t=="number"?t:1}class Re extends Error{constructor(e,n,i){const r=[null,null];let o={start:{line:null,column:null},end:{line:null,column:null}};if(super(),typeof n=="string"&&(i=n,n=void 0),typeof i=="string"){const a=i.indexOf(":");a===-1?r[1]=i:(r[0]=i.slice(0,a),r[1]=i.slice(a+1))}n&&("type"in n||"position"in n?n.position&&(o=n.position):"start"in n||"end"in n?o=n:("line"in n||"column"in n)&&(o.start=n)),this.name=Ro(n)||"1:1",this.message=typeof e=="object"?e.message:e,this.stack="",typeof e=="object"&&e.stack&&(this.stack=e.stack),this.reason=this.message,this.fatal,this.line=o.start.line,this.column=o.start.column,this.position=o,this.source=r[0],this.ruleId=r[1],this.file,this.actual,this.expected,this.url,this.note}}Re.prototype.file="";Re.prototype.name="";Re.prototype.reason="";Re.prototype.message="";Re.prototype.stack="";Re.prototype.fatal=null;Re.prototype.column=null;Re.prototype.line=null;Re.prototype.source=null;Re.prototype.ruleId=null;Re.prototype.position=null;const an={basename:yB,dirname:_B,extname:bB,join:xB,sep:"/"};function yB(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');ea(t);let n=0,i=-1,r=t.length,o;if(e===void 0||e.length===0||e.length>t.length){for(;r--;)if(t.charCodeAt(r)===47){if(o){n=r+1;break}}else i<0&&(o=!0,i=r+1);return i<0?"":t.slice(n,i)}if(e===t)return"";let a=-1,s=e.length-1;for(;r--;)if(t.charCodeAt(r)===47){if(o){n=r+1;break}}else a<0&&(o=!0,a=r+1),s>-1&&(t.charCodeAt(r)===e.charCodeAt(s--)?s<0&&(i=r):(s=-1,i=a));return n===i?i=a:i<0&&(i=t.length),t.slice(n,i)}function _B(t){if(ea(t),t.length===0)return".";let e=-1,n=t.length,i;for(;--n;)if(t.charCodeAt(n)===47){if(i){e=n;break}}else i||(i=!0);return e<0?t.charCodeAt(0)===47?"/":".":e===1&&t.charCodeAt(0)===47?"//":t.slice(0,e)}function bB(t){ea(t);let e=t.length,n=-1,i=0,r=-1,o=0,a;for(;e--;){const s=t.charCodeAt(e);if(s===47){if(a){i=e+1;break}continue}n<0&&(a=!0,n=e+1),s===46?r<0?r=e:o!==1&&(o=1):r>-1&&(o=-1)}return r<0||n<0||o===0||o===1&&r===n-1&&r===i+1?"":t.slice(r,n)}function xB(...t){let e=-1,n;for(;++e<t.length;)ea(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":kB(n)}function kB(t){ea(t);const e=t.charCodeAt(0)===47;let n=CB(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.charCodeAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function CB(t,e){let n="",i=0,r=-1,o=0,a=-1,s,l;for(;++a<=t.length;){if(a<t.length)s=t.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(r===a-1||o===1))if(r!==a-1&&o===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",i=0):(n=n.slice(0,l),i=n.length-1-n.lastIndexOf("/")),r=a,o=0;continue}}else if(n.length>0){n="",i=0,r=a,o=0;continue}}e&&(n=n.length>0?n+"/..":"..",i=2)}else n.length>0?n+="/"+t.slice(r+1,a):n=t.slice(r+1,a),i=a-r-1;r=a,o=0}else s===46&&o>-1?o++:o=-1}return n}function ea(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const wB={cwd:vB};function vB(){return"/"}function Ih(t){return t!==null&&typeof t=="object"&&t.href&&t.origin}function SB(t){if(typeof t=="string")t=new URL(t);else if(!Ih(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return TB(t)}function TB(t){if(t.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.charCodeAt(n)===37&&e.charCodeAt(n+1)===50){const i=e.charCodeAt(n+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Zu=["history","path","basename","stem","extname","dirname"];class EB{constructor(e){let n;e?typeof e=="string"||AB(e)?n={value:e}:Ih(e)?n={path:e}:n=e:n={},this.data={},this.messages=[],this.history=[],this.cwd=wB.cwd(),this.value,this.stored,this.result,this.map;let i=-1;for(;++i<Zu.length;){const o=Zu[i];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let r;for(r in n)Zu.includes(r)||(this[r]=n[r])}get path(){return this.history[this.history.length-1]}set path(e){Ih(e)&&(e=SB(e)),eh(e,"path"),this.path!==e&&this.history.push(e)}get dirname(){return typeof this.path=="string"?an.dirname(this.path):void 0}set dirname(e){Lm(this.basename,"dirname"),this.path=an.join(e||"",this.basename)}get basename(){return typeof this.path=="string"?an.basename(this.path):void 0}set basename(e){eh(e,"basename"),th(e,"basename"),this.path=an.join(this.dirname||"",e)}get extname(){return typeof this.path=="string"?an.extname(this.path):void 0}set extname(e){if(th(e,"extname"),Lm(this.dirname,"extname"),e){if(e.charCodeAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=an.join(this.dirname,this.stem+(e||""))}get stem(){return typeof this.path=="string"?an.basename(this.path,this.extname):void 0}set stem(e){eh(e,"stem"),th(e,"stem"),this.path=an.join(this.dirname||"",e+(this.extname||""))}toString(e){return(this.value||"").toString(e||void 0)}message(e,n,i){const r=new Re(e,n,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}info(e,n,i){const r=this.message(e,n,i);return r.fatal=null,r}fail(e,n,i){const r=this.message(e,n,i);throw r.fatal=!0,r}}function th(t,e){if(t&&t.includes(an.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+an.sep+"`")}function eh(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function Lm(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function AB(t){return O0(t)}const BB=D0().freeze(),M0={}.hasOwnProperty;function D0(){const t=mB(),e=[];let n={},i,r=-1;return o.data=a,o.Parser=void 0,o.Compiler=void 0,o.freeze=s,o.attachers=e,o.use=l,o.parse=c,o.stringify=u,o.run=h,o.runSync=g,o.process=m,o.processSync=b,o;function o(){const B=D0();let M=-1;for(;++M<e.length;)B.use(...e[M]);return B.data(Em(!0,{},n)),B}function a(B,M){return typeof B=="string"?arguments.length===2?(rh("data",i),n[B]=M,o):M0.call(n,B)&&n[B]||null:B?(rh("data",i),n=B,o):n}function s(){if(i)return o;for(;++r<e.length;){const[B,...M]=e[r];if(M[0]===!1)continue;M[0]===!0&&(M[0]=void 0);const v=B.call(o,...M);typeof v=="function"&&t.use(v)}return i=!0,r=Number.POSITIVE_INFINITY,o}function l(B,...M){let v;if(rh("use",i),B!=null)if(typeof B=="function")K(B,...M);else if(typeof B=="object")Array.isArray(B)?G(B):P(B);else throw new TypeError("Expected usable value, not `"+B+"`");return v&&(n.settings=Object.assign(n.settings||{},v)),o;function F(E){if(typeof E=="function")K(E);else if(typeof E=="object")if(Array.isArray(E)){const[$,...rt]=E;K($,...rt)}else P(E);else throw new TypeError("Expected usable value, not `"+E+"`")}function P(E){G(E.plugins),E.settings&&(v=Object.assign(v||{},E.settings))}function G(E){let $=-1;if(E!=null)if(Array.isArray(E))for(;++$<E.length;){const rt=E[$];F(rt)}else throw new TypeError("Expected a list of plugins, not `"+E+"`")}function K(E,$){let rt=-1,at;for(;++rt<e.length;)if(e[rt][0]===E){at=e[rt];break}at?(Fh(at[1])&&Fh($)&&($=Em(!0,at[1],$)),at[1]=$):e.push([...arguments])}}function c(B){o.freeze();const M=Bo(B),v=o.Parser;return nh("parse",v),Fm(v,"parse")?new v(String(M),M).parse():v(String(M),M)}function u(B,M){o.freeze();const v=Bo(M),F=o.Compiler;return ih("stringify",F),Om(B),Fm(F,"compile")?new F(B,v).compile():F(B,v)}function h(B,M,v){if(Om(B),o.freeze(),!v&&typeof M=="function"&&(v=M,M=void 0),!v)return new Promise(F);F(null,v);function F(P,G){t.run(B,Bo(M),K);function K(E,$,rt){$=$||B,E?G(E):P?P($):v(null,$,rt)}}}function g(B,M){let v,F;return o.run(B,M,P),Im("runSync","run",F),v;function P(G,K){xm(G),v=K,F=!0}}function m(B,M){if(o.freeze(),nh("process",o.Parser),ih("process",o.Compiler),!M)return new Promise(v);v(null,M);function v(F,P){const G=Bo(B);o.run(o.parse(G),G,(E,$,rt)=>{if(E||!$||!rt)K(E);else{const at=o.stringify($,rt);at==null||(OB(at)?rt.value=at:rt.result=at),K(E,rt)}});function K(E,$){E||!$?P(E):F?F($):M(null,$)}}}function b(B){let M;o.freeze(),nh("processSync",o.Parser),ih("processSync",o.Compiler);const v=Bo(B);return o.process(v,F),Im("processSync","process",M),v;function F(P){M=!0,xm(P)}}}function Fm(t,e){return typeof t=="function"&&t.prototype&&(LB(t.prototype)||e in t.prototype)}function LB(t){let e;for(e in t)if(M0.call(t,e))return!0;return!1}function nh(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Parser`")}function ih(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `Compiler`")}function rh(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Om(t){if(!Fh(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function Im(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Bo(t){return FB(t)?t:new EB(t)}function FB(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function OB(t){return typeof t=="string"||O0(t)}const IB={};function MB(t,e){const n=e||IB,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,r=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return N0(t,i,r)}function N0(t,e,n){if(DB(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Mm(t.children,e,n)}return Array.isArray(t)?Mm(t,e,n):""}function Mm(t,e,n){const i=[];let r=-1;for(;++r<t.length;)i[r]=N0(t[r],e,n);return i.join("")}function DB(t){return!!(t&&typeof t=="object")}function hn(t,e,n,i){const r=t.length;let o=0,a;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,n=n>0?n:0,i.length<1e4)a=Array.from(i),a.unshift(e,n),[].splice.apply(t,a);else for(n&&[].splice.apply(t,[e,n]);o<i.length;)a=i.slice(o,o+1e4),a.unshift(e,0),[].splice.apply(t,a),o+=1e4,e+=1e4}function Me(t,e){return t.length>0?(hn(t,t.length,0,e),t):e}const Dm={}.hasOwnProperty;function NB(t){const e={};let n=-1;for(;++n<t.length;)PB(e,t[n]);return e}function PB(t,e){let n;for(n in e){const r=(Dm.call(t,n)?t[n]:void 0)||(t[n]={}),o=e[n];let a;for(a in o){Dm.call(r,a)||(r[a]=[]);const s=o[a];zB(r[a],Array.isArray(s)?s:s?[s]:[])}}}function zB(t,e){let n=-1;const i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);hn(t,0,0,i)}const RB=/[!-/:-@[-`{-~\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,ln=ci(/[A-Za-z]/),Mh=ci(/\d/),$B=ci(/[\dA-Fa-f]/),ve=ci(/[\dA-Za-z]/),jB=ci(/[!-/:-@[-`{-~]/),Nm=ci(/[#-'*+\--9=?A-Z^-~]/);function Dh(t){return t!==null&&(t<32||t===127)}function De(t){return t!==null&&(t<0||t===32)}function it(t){return t!==null&&t<-2}function Pt(t){return t===-2||t===-1||t===32}const qB=ci(/\s/),HB=ci(RB);function ci(t){return e;function e(n){return n!==null&&t.test(String.fromCharCode(n))}}function bt(t,e,n,i){const r=i?i-1:Number.POSITIVE_INFINITY;let o=0;return a;function a(l){return Pt(l)?(t.enter(n),s(l)):e(l)}function s(l){return Pt(l)&&o++<r?(t.consume(l),s):(t.exit(n),e(l))}}const WB={tokenize:UB};function UB(t){const e=t.attempt(this.parser.constructs.contentInitial,i,r);let n;return e;function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),bt(t,e,"linePrefix")}function r(s){return t.enter("paragraph"),o(s)}function o(s){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,a(s)}function a(s){if(s===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(s);return}return it(s)?(t.consume(s),t.exit("chunkText"),o):(t.consume(s),a)}}const VB={tokenize:GB},Pm={tokenize:YB};function GB(t){const e=this,n=[];let i=0,r,o,a;return s;function s(P){if(i<n.length){const G=n[i];return e.containerState=G[1],t.attempt(G[0].continuation,l,c)(P)}return c(P)}function l(P){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&F();const G=e.events.length;let K=G,E;for(;K--;)if(e.events[K][0]==="exit"&&e.events[K][1].type==="chunkFlow"){E=e.events[K][1].end;break}v(i);let $=G;for(;$<e.events.length;)e.events[$][1].end=Object.assign({},E),$++;return hn(e.events,K+1,0,e.events.slice(G)),e.events.length=$,c(P)}return s(P)}function c(P){if(i===n.length){if(!r)return g(P);if(r.currentConstruct&&r.currentConstruct.concrete)return b(P);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Pm,u,h)(P)}function u(P){return r&&F(),v(i),g(P)}function h(P){return e.parser.lazy[e.now().line]=i!==n.length,a=e.now().offset,b(P)}function g(P){return e.containerState={},t.attempt(Pm,m,b)(P)}function m(P){return i++,n.push([e.currentConstruct,e.containerState]),g(P)}function b(P){if(P===null){r&&F(),v(0),t.consume(P);return}return r=r||e.parser.flow(e.now()),t.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:r}),B(P)}function B(P){if(P===null){M(t.exit("chunkFlow"),!0),v(0),t.consume(P);return}return it(P)?(t.consume(P),M(t.exit("chunkFlow")),i=0,e.interrupt=void 0,s):(t.consume(P),B)}function M(P,G){const K=e.sliceStream(P);if(G&&K.push(null),P.previous=o,o&&(o.next=P),o=P,r.defineSkip(P.start),r.write(K),e.parser.lazy[P.start.line]){let E=r.events.length;for(;E--;)if(r.events[E][1].start.offset<a&&(!r.events[E][1].end||r.events[E][1].end.offset>a))return;const $=e.events.length;let rt=$,at,dt;for(;rt--;)if(e.events[rt][0]==="exit"&&e.events[rt][1].type==="chunkFlow"){if(at){dt=e.events[rt][1].end;break}at=!0}for(v(i),E=$;E<e.events.length;)e.events[E][1].end=Object.assign({},dt),E++;hn(e.events,rt+1,0,e.events.slice($)),e.events.length=E}}function v(P){let G=n.length;for(;G-- >P;){const K=n[G];e.containerState=K[1],K[0].exit.call(e,t)}n.length=P}function F(){r.write([null]),o=void 0,r=void 0,e.containerState._closeFlow=void 0}}function YB(t,e,n){return bt(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function zm(t){if(t===null||De(t)||qB(t))return 1;if(HB(t))return 2}function bf(t,e,n){const i=[];let r=-1;for(;++r<t.length;){const o=t[r].resolveAll;o&&!i.includes(o)&&(e=o(e,n),i.push(o))}return e}const Nh={name:"attention",tokenize:QB,resolveAll:XB};function XB(t,e){let n=-1,i,r,o,a,s,l,c,u;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const h=Object.assign({},t[i][1].end),g=Object.assign({},t[n][1].start);Rm(h,-l),Rm(g,l),a={type:l>1?"strongSequence":"emphasisSequence",start:h,end:Object.assign({},t[i][1].end)},s={type:l>1?"strongSequence":"emphasisSequence",start:Object.assign({},t[n][1].start),end:g},o={type:l>1?"strongText":"emphasisText",start:Object.assign({},t[i][1].end),end:Object.assign({},t[n][1].start)},r={type:l>1?"strong":"emphasis",start:Object.assign({},a.start),end:Object.assign({},s.end)},t[i][1].end=Object.assign({},a.start),t[n][1].start=Object.assign({},s.end),c=[],t[i][1].end.offset-t[i][1].start.offset&&(c=Me(c,[["enter",t[i][1],e],["exit",t[i][1],e]])),c=Me(c,[["enter",r,e],["enter",a,e],["exit",a,e],["enter",o,e]]),c=Me(c,bf(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),c=Me(c,[["exit",o,e],["enter",s,e],["exit",s,e],["exit",r,e]]),t[n][1].end.offset-t[n][1].start.offset?(u=2,c=Me(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):u=0,hn(t,i-1,n-i+3,c),n=i+c.length-u-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function QB(t,e){const n=this.parser.constructs.attentionMarkers.null,i=this.previous,r=zm(i);let o;return a;function a(l){return t.enter("attentionSequence"),o=l,s(l)}function s(l){if(l===o)return t.consume(l),s;const c=t.exit("attentionSequence"),u=zm(l),h=!u||u===2&&r||n.includes(l),g=!r||r===2&&u||n.includes(i);return c._open=!!(o===42?h:h&&(r||!g)),c._close=!!(o===42?g:g&&(u||!h)),e(l)}}function Rm(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const KB={name:"autolink",tokenize:JB};function JB(t,e,n){let i=1;return r;function r(b){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),o}function o(b){return ln(b)?(t.consume(b),a):Nm(b)?c(b):n(b)}function a(b){return b===43||b===45||b===46||ve(b)?s(b):c(b)}function s(b){return b===58?(t.consume(b),l):(b===43||b===45||b===46||ve(b))&&i++<32?(t.consume(b),s):c(b)}function l(b){return b===62?(t.exit("autolinkProtocol"),m(b)):b===null||b===32||b===60||Dh(b)?n(b):(t.consume(b),l)}function c(b){return b===64?(t.consume(b),i=0,u):Nm(b)?(t.consume(b),c):n(b)}function u(b){return ve(b)?h(b):n(b)}function h(b){return b===46?(t.consume(b),i=0,u):b===62?(t.exit("autolinkProtocol").type="autolinkEmail",m(b)):g(b)}function g(b){return(b===45||ve(b))&&i++<63?(t.consume(b),b===45?g:h):n(b)}function m(b){return t.enter("autolinkMarker"),t.consume(b),t.exit("autolinkMarker"),t.exit("autolink"),e}}const _l={tokenize:ZB,partial:!0};function ZB(t,e,n){return bt(t,i,"linePrefix");function i(r){return r===null||it(r)?e(r):n(r)}}const P0={name:"blockQuote",tokenize:tL,continuation:{tokenize:eL},exit:nL};function tL(t,e,n){const i=this;return r;function r(a){if(a===62){const s=i.containerState;return s.open||(t.enter("blockQuote",{_container:!0}),s.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),o}return n(a)}function o(a){return Pt(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function eL(t,e,n){return bt(t,t.attempt(P0,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function nL(t){t.exit("blockQuote")}const z0={name:"characterEscape",tokenize:iL};function iL(t,e,n){return i;function i(o){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(o),t.exit("escapeMarker"),r}function r(o){return jB(o)?(t.enter("characterEscapeValue"),t.consume(o),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(o)}}const $m=document.createElement("i");function xf(t){const e="&"+t+";";$m.innerHTML=e;const n=$m.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}const R0={name:"characterReference",tokenize:rL};function rL(t,e,n){const i=this;let r=0,o,a;return s;function s(h){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),l}function l(h){return h===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(h),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),o=31,a=ve,u(h))}function c(h){return h===88||h===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(h),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),o=6,a=$B,u):(t.enter("characterReferenceValue"),o=7,a=Mh,u(h))}function u(h){let g;return h===59&&r?(g=t.exit("characterReferenceValue"),a===ve&&!xf(i.sliceSerialize(g))?n(h):(t.enter("characterReferenceMarker"),t.consume(h),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)):a(h)&&r++<o?(t.consume(h),u):n(h)}}const jm={name:"codeFenced",tokenize:oL,concrete:!0};function oL(t,e,n){const i=this,r={tokenize:K,partial:!0},o={tokenize:G,partial:!0},a=this.events[this.events.length-1],s=a&&a[1].type==="linePrefix"?a[2].sliceSerialize(a[1],!0).length:0;let l=0,c;return u;function u(E){return t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c=E,h(E)}function h(E){return E===c?(t.consume(E),l++,h):(t.exit("codeFencedFenceSequence"),l<3?n(E):bt(t,g,"whitespace")(E))}function g(E){return E===null||it(E)?M(E):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),m(E))}function m(E){return E===null||De(E)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),bt(t,b,"whitespace")(E)):E===96&&E===c?n(E):(t.consume(E),m)}function b(E){return E===null||it(E)?M(E):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),B(E))}function B(E){return E===null||it(E)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),M(E)):E===96&&E===c?n(E):(t.consume(E),B)}function M(E){return t.exit("codeFencedFence"),i.interrupt?e(E):v(E)}function v(E){return E===null?P(E):it(E)?t.attempt(o,t.attempt(r,P,s?bt(t,v,"linePrefix",s+1):v),P)(E):(t.enter("codeFlowValue"),F(E))}function F(E){return E===null||it(E)?(t.exit("codeFlowValue"),v(E)):(t.consume(E),F)}function P(E){return t.exit("codeFenced"),e(E)}function G(E,$,rt){const at=this;return dt;function dt(X){return E.enter("lineEnding"),E.consume(X),E.exit("lineEnding"),j}function j(X){return at.parser.lazy[at.now().line]?rt(X):$(X)}}function K(E,$,rt){let at=0;return bt(E,dt,"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function dt(tt){return E.enter("codeFencedFence"),E.enter("codeFencedFenceSequence"),j(tt)}function j(tt){return tt===c?(E.consume(tt),at++,j):at<l?rt(tt):(E.exit("codeFencedFenceSequence"),bt(E,X,"whitespace")(tt))}function X(tt){return tt===null||it(tt)?(E.exit("codeFencedFence"),$(tt)):rt(tt)}}}const oh={name:"codeIndented",tokenize:sL},aL={tokenize:lL,partial:!0};function sL(t,e,n){const i=this;return r;function r(c){return t.enter("codeIndented"),bt(t,o,"linePrefix",4+1)(c)}function o(c){const u=i.events[i.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?l(c):it(c)?t.attempt(aL,a,l)(c):(t.enter("codeFlowValue"),s(c))}function s(c){return c===null||it(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),s)}function l(c){return t.exit("codeIndented"),e(c)}}function lL(t,e,n){const i=this;return r;function r(a){return i.parser.lazy[i.now().line]?n(a):it(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),r):bt(t,o,"linePrefix",4+1)(a)}function o(a){const s=i.events[i.events.length-1];return s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):it(a)?r(a):n(a)}}const cL={name:"codeText",tokenize:fL,resolve:uL,previous:hL};function uL(t){let e=t.length-4,n=3,i,r;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)r===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(r=i):(i===e||t[i][1].type==="lineEnding")&&(t[r][1].type="codeTextData",i!==r+2&&(t[r][1].end=t[i-1][1].end,t.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return t}function hL(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function fL(t,e,n){let i=0,r,o;return a;function a(h){return t.enter("codeText"),t.enter("codeTextSequence"),s(h)}function s(h){return h===96?(t.consume(h),i++,s):(t.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===96?(o=t.enter("codeTextSequence"),r=0,u(h)):h===32?(t.enter("space"),t.consume(h),t.exit("space"),l):it(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),l):(t.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||it(h)?(t.exit("codeTextData"),l(h)):(t.consume(h),c)}function u(h){return h===96?(t.consume(h),r++,u):r===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(o.type="codeTextData",c(h))}}function $0(t){const e={};let n=-1,i,r,o,a,s,l,c;for(;++n<t.length;){for(;n in e;)n=e[n];if(i=t[n],n&&i[1].type==="chunkFlow"&&t[n-1][1].type==="listItemPrefix"&&(l=i[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,pL(t,n)),n=e[n],c=!0);else if(i[1]._container){for(o=n,r=void 0;o--&&(a=t[o],a[1].type==="lineEnding"||a[1].type==="lineEndingBlank");)a[0]==="enter"&&(r&&(t[r][1].type="lineEndingBlank"),a[1].type="lineEnding",r=o);r&&(i[1].end=Object.assign({},t[r][1].start),s=t.slice(r,n),s.unshift(i),hn(t,r,n-r+1,s))}}return!c}function pL(t,e){const n=t[e][1],i=t[e][2];let r=e-1;const o=[],a=n._tokenizer||i.parser[n.contentType](n.start),s=a.events,l=[],c={};let u,h,g=-1,m=n,b=0,B=0;const M=[B];for(;m;){for(;t[++r][1]!==m;);o.push(r),m._tokenizer||(u=i.sliceStream(m),m.next||u.push(null),h&&a.defineSkip(m.start),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(u),m._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++g<s.length;)s[g][0]==="exit"&&s[g-1][0]==="enter"&&s[g][1].type===s[g-1][1].type&&s[g][1].start.line!==s[g][1].end.line&&(B=g+1,M.push(B),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(a.events=[],m?(m._tokenizer=void 0,m.previous=void 0):M.pop(),g=M.length;g--;){const v=s.slice(M[g],M[g+1]),F=o.pop();l.unshift([F,F+v.length-1]),hn(t,F,2,v)}for(g=-1;++g<l.length;)c[b+l[g][0]]=b+l[g][1],b+=l[g][1]-l[g][0]-1;return c}const dL={tokenize:yL,resolve:gL},mL={tokenize:_L,partial:!0};function gL(t){return $0(t),t}function yL(t,e){let n;return i;function i(s){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),r(s)}function r(s){return s===null?o(s):it(s)?t.check(mL,a,o)(s):(t.consume(s),r)}function o(s){return t.exit("chunkContent"),t.exit("content"),e(s)}function a(s){return t.consume(s),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,r}}function _L(t,e,n){const i=this;return r;function r(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),bt(t,o,"linePrefix")}function o(a){if(a===null||it(a))return n(a);const s=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&s&&s[1].type==="linePrefix"&&s[2].sliceSerialize(s[1],!0).length>=4?e(a):t.interrupt(i.parser.constructs.flow,n,e)(a)}}function j0(t,e,n,i,r,o,a,s,l){const c=l||Number.POSITIVE_INFINITY;let u=0;return h;function h(v){return v===60?(t.enter(i),t.enter(r),t.enter(o),t.consume(v),t.exit(o),g):v===null||v===41||Dh(v)?n(v):(t.enter(i),t.enter(a),t.enter(s),t.enter("chunkString",{contentType:"string"}),B(v))}function g(v){return v===62?(t.enter(o),t.consume(v),t.exit(o),t.exit(r),t.exit(i),e):(t.enter(s),t.enter("chunkString",{contentType:"string"}),m(v))}function m(v){return v===62?(t.exit("chunkString"),t.exit(s),g(v)):v===null||v===60||it(v)?n(v):(t.consume(v),v===92?b:m)}function b(v){return v===60||v===62||v===92?(t.consume(v),m):m(v)}function B(v){return v===40?++u>c?n(v):(t.consume(v),B):v===41?u--?(t.consume(v),B):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(i),e(v)):v===null||De(v)?u?n(v):(t.exit("chunkString"),t.exit(s),t.exit(a),t.exit(i),e(v)):Dh(v)?n(v):(t.consume(v),v===92?M:B)}function M(v){return v===40||v===41||v===92?(t.consume(v),B):B(v)}}function q0(t,e,n,i,r,o){const a=this;let s=0,l;return c;function c(m){return t.enter(i),t.enter(r),t.consume(m),t.exit(r),t.enter(o),u}function u(m){return m===null||m===91||m===93&&!l||m===94&&!s&&"_hiddenFootnoteSupport"in a.parser.constructs||s>999?n(m):m===93?(t.exit(o),t.enter(r),t.consume(m),t.exit(r),t.exit(i),e):it(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),u):(t.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||it(m)||s++>999?(t.exit("chunkString"),u(m)):(t.consume(m),l=l||!Pt(m),m===92?g:h)}function g(m){return m===91||m===92||m===93?(t.consume(m),s++,h):h(m)}}function H0(t,e,n,i,r,o){let a;return s;function s(g){return t.enter(i),t.enter(r),t.consume(g),t.exit(r),a=g===40?41:g,l}function l(g){return g===a?(t.enter(r),t.consume(g),t.exit(r),t.exit(i),e):(t.enter(o),c(g))}function c(g){return g===a?(t.exit(o),l(a)):g===null?n(g):it(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),bt(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),u(g))}function u(g){return g===a||g===null||it(g)?(t.exit("chunkString"),c(g)):(t.consume(g),g===92?h:u)}function h(g){return g===a||g===92?(t.consume(g),u):u(g)}}function $o(t,e){let n;return i;function i(r){return it(r)?(t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),n=!0,i):Pt(r)?bt(t,i,n?"linePrefix":"lineSuffix")(r):e(r)}}function yr(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const bL={name:"definition",tokenize:kL},xL={tokenize:CL,partial:!0};function kL(t,e,n){const i=this;let r;return o;function o(l){return t.enter("definition"),q0.call(i,t,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(l)}function a(l){return r=yr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),l===58?(t.enter("definitionMarker"),t.consume(l),t.exit("definitionMarker"),$o(t,j0(t,t.attempt(xL,bt(t,s,"whitespace"),bt(t,s,"whitespace")),n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString"))):n(l)}function s(l){return l===null||it(l)?(t.exit("definition"),i.parser.defined.includes(r)||i.parser.defined.push(r),e(l)):n(l)}}function CL(t,e,n){return i;function i(a){return De(a)?$o(t,r)(a):n(a)}function r(a){return a===34||a===39||a===40?H0(t,bt(t,o,"whitespace"),n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a):n(a)}function o(a){return a===null||it(a)?e(a):n(a)}}const wL={name:"hardBreakEscape",tokenize:vL};function vL(t,e,n){return i;function i(o){return t.enter("hardBreakEscape"),t.enter("escapeMarker"),t.consume(o),r}function r(o){return it(o)?(t.exit("escapeMarker"),t.exit("hardBreakEscape"),e(o)):n(o)}}const SL={name:"headingAtx",tokenize:EL,resolve:TL};function TL(t,e){let n=t.length-2,i=3,r,o;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(r={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},o={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},hn(t,i,n-i+1,[["enter",r,e],["enter",o,e],["exit",o,e],["exit",r,e]])),t}function EL(t,e,n){const i=this;let r=0;return o;function o(u){return t.enter("atxHeading"),t.enter("atxHeadingSequence"),a(u)}function a(u){return u===35&&r++<6?(t.consume(u),a):u===null||De(u)?(t.exit("atxHeadingSequence"),i.interrupt?e(u):s(u)):n(u)}function s(u){return u===35?(t.enter("atxHeadingSequence"),l(u)):u===null||it(u)?(t.exit("atxHeading"),e(u)):Pt(u)?bt(t,s,"whitespace")(u):(t.enter("atxHeadingText"),c(u))}function l(u){return u===35?(t.consume(u),l):(t.exit("atxHeadingSequence"),s(u))}function c(u){return u===null||u===35||De(u)?(t.exit("atxHeadingText"),s(u)):(t.consume(u),c)}}const AL=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],qm=["pre","script","style","textarea"],BL={name:"htmlFlow",tokenize:OL,resolveTo:FL,concrete:!0},LL={tokenize:IL,partial:!0};function FL(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function OL(t,e,n){const i=this;let r,o,a,s,l;return c;function c(y){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(y),u}function u(y){return y===33?(t.consume(y),h):y===47?(t.consume(y),b):y===63?(t.consume(y),r=3,i.interrupt?e:Ot):ln(y)?(t.consume(y),a=String.fromCharCode(y),o=!0,B):n(y)}function h(y){return y===45?(t.consume(y),r=2,g):y===91?(t.consume(y),r=5,a="CDATA[",s=0,m):ln(y)?(t.consume(y),r=4,i.interrupt?e:Ot):n(y)}function g(y){return y===45?(t.consume(y),i.interrupt?e:Ot):n(y)}function m(y){return y===a.charCodeAt(s++)?(t.consume(y),s===a.length?i.interrupt?e:j:m):n(y)}function b(y){return ln(y)?(t.consume(y),a=String.fromCharCode(y),B):n(y)}function B(y){return y===null||y===47||y===62||De(y)?y!==47&&o&&qm.includes(a.toLowerCase())?(r=1,i.interrupt?e(y):j(y)):AL.includes(a.toLowerCase())?(r=6,y===47?(t.consume(y),M):i.interrupt?e(y):j(y)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(y):o?F(y):v(y)):y===45||ve(y)?(t.consume(y),a+=String.fromCharCode(y),B):n(y)}function M(y){return y===62?(t.consume(y),i.interrupt?e:j):n(y)}function v(y){return Pt(y)?(t.consume(y),v):at(y)}function F(y){return y===47?(t.consume(y),at):y===58||y===95||ln(y)?(t.consume(y),P):Pt(y)?(t.consume(y),F):at(y)}function P(y){return y===45||y===46||y===58||y===95||ve(y)?(t.consume(y),P):G(y)}function G(y){return y===61?(t.consume(y),K):Pt(y)?(t.consume(y),G):F(y)}function K(y){return y===null||y===60||y===61||y===62||y===96?n(y):y===34||y===39?(t.consume(y),l=y,E):Pt(y)?(t.consume(y),K):(l=null,$(y))}function E(y){return y===null||it(y)?n(y):y===l?(t.consume(y),rt):(t.consume(y),E)}function $(y){return y===null||y===34||y===39||y===60||y===61||y===62||y===96||De(y)?G(y):(t.consume(y),$)}function rt(y){return y===47||y===62||Pt(y)?F(y):n(y)}function at(y){return y===62?(t.consume(y),dt):n(y)}function dt(y){return Pt(y)?(t.consume(y),dt):y===null||it(y)?j(y):n(y)}function j(y){return y===45&&r===2?(t.consume(y),Bt):y===60&&r===1?(t.consume(y),Ct):y===62&&r===4?(t.consume(y),gt):y===63&&r===3?(t.consume(y),Ot):y===93&&r===5?(t.consume(y),wt):it(y)&&(r===6||r===7)?t.check(LL,gt,X)(y):y===null||it(y)?X(y):(t.consume(y),j)}function X(y){return t.exit("htmlFlowData"),tt(y)}function tt(y){return y===null?_(y):it(y)?t.attempt({tokenize:ft,partial:!0},tt,_)(y):(t.enter("htmlFlowData"),j(y))}function ft(y,be,yt){return Jt;function Jt(vt){return y.enter("lineEnding"),y.consume(vt),y.exit("lineEnding"),et}function et(vt){return i.parser.lazy[i.now().line]?yt(vt):be(vt)}}function Bt(y){return y===45?(t.consume(y),Ot):j(y)}function Ct(y){return y===47?(t.consume(y),a="",pt):j(y)}function pt(y){return y===62&&qm.includes(a.toLowerCase())?(t.consume(y),gt):ln(y)&&a.length<8?(t.consume(y),a+=String.fromCharCode(y),pt):j(y)}function wt(y){return y===93?(t.consume(y),Ot):j(y)}function Ot(y){return y===62?(t.consume(y),gt):y===45&&r===2?(t.consume(y),Ot):j(y)}function gt(y){return y===null||it(y)?(t.exit("htmlFlowData"),_(y)):(t.consume(y),gt)}function _(y){return t.exit("htmlFlow"),e(y)}}function IL(t,e,n){return i;function i(r){return t.exit("htmlFlowData"),t.enter("lineEndingBlank"),t.consume(r),t.exit("lineEndingBlank"),t.attempt(_l,e,n)}}const ML={name:"htmlText",tokenize:DL};function DL(t,e,n){const i=this;let r,o,a,s;return l;function l(_){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(_),c}function c(_){return _===33?(t.consume(_),u):_===47?(t.consume(_),$):_===63?(t.consume(_),K):ln(_)?(t.consume(_),dt):n(_)}function u(_){return _===45?(t.consume(_),h):_===91?(t.consume(_),o="CDATA[",a=0,M):ln(_)?(t.consume(_),G):n(_)}function h(_){return _===45?(t.consume(_),g):n(_)}function g(_){return _===null||_===62?n(_):_===45?(t.consume(_),m):b(_)}function m(_){return _===null||_===62?n(_):b(_)}function b(_){return _===null?n(_):_===45?(t.consume(_),B):it(_)?(s=b,wt(_)):(t.consume(_),b)}function B(_){return _===45?(t.consume(_),gt):b(_)}function M(_){return _===o.charCodeAt(a++)?(t.consume(_),a===o.length?v:M):n(_)}function v(_){return _===null?n(_):_===93?(t.consume(_),F):it(_)?(s=v,wt(_)):(t.consume(_),v)}function F(_){return _===93?(t.consume(_),P):v(_)}function P(_){return _===62?gt(_):_===93?(t.consume(_),P):v(_)}function G(_){return _===null||_===62?gt(_):it(_)?(s=G,wt(_)):(t.consume(_),G)}function K(_){return _===null?n(_):_===63?(t.consume(_),E):it(_)?(s=K,wt(_)):(t.consume(_),K)}function E(_){return _===62?gt(_):K(_)}function $(_){return ln(_)?(t.consume(_),rt):n(_)}function rt(_){return _===45||ve(_)?(t.consume(_),rt):at(_)}function at(_){return it(_)?(s=at,wt(_)):Pt(_)?(t.consume(_),at):gt(_)}function dt(_){return _===45||ve(_)?(t.consume(_),dt):_===47||_===62||De(_)?j(_):n(_)}function j(_){return _===47?(t.consume(_),gt):_===58||_===95||ln(_)?(t.consume(_),X):it(_)?(s=j,wt(_)):Pt(_)?(t.consume(_),j):gt(_)}function X(_){return _===45||_===46||_===58||_===95||ve(_)?(t.consume(_),X):tt(_)}function tt(_){return _===61?(t.consume(_),ft):it(_)?(s=tt,wt(_)):Pt(_)?(t.consume(_),tt):j(_)}function ft(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(t.consume(_),r=_,Bt):it(_)?(s=ft,wt(_)):Pt(_)?(t.consume(_),ft):(t.consume(_),r=void 0,pt)}function Bt(_){return _===r?(t.consume(_),Ct):_===null?n(_):it(_)?(s=Bt,wt(_)):(t.consume(_),Bt)}function Ct(_){return _===62||_===47||De(_)?j(_):n(_)}function pt(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===62||De(_)?j(_):(t.consume(_),pt)}function wt(_){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(_),t.exit("lineEnding"),bt(t,Ot,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Ot(_){return t.enter("htmlTextData"),s(_)}function gt(_){return _===62?(t.consume(_),t.exit("htmlTextData"),t.exit("htmlText"),e):n(_)}}const kf={name:"labelEnd",tokenize:jL,resolveTo:$L,resolveAll:RL},NL={tokenize:qL},PL={tokenize:HL},zL={tokenize:WL};function RL(t){let e=-1,n;for(;++e<t.length;)n=t[e][1],(n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd")&&(t.splice(e+1,n.type==="labelImage"?4:2),n.type="data",e++);return t}function $L(t,e){let n=t.length,i=0,r,o,a,s;for(;n--;)if(r=t[n][1],o){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;t[n][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(o=n,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(a=n);const l={type:t[o][1].type==="labelLink"?"link":"image",start:Object.assign({},t[o][1].start),end:Object.assign({},t[t.length-1][1].end)},c={type:"label",start:Object.assign({},t[o][1].start),end:Object.assign({},t[a][1].end)},u={type:"labelText",start:Object.assign({},t[o+i+2][1].end),end:Object.assign({},t[a-2][1].start)};return s=[["enter",l,e],["enter",c,e]],s=Me(s,t.slice(o+1,o+i+3)),s=Me(s,[["enter",u,e]]),s=Me(s,bf(e.parser.constructs.insideSpan.null,t.slice(o+i+4,a-3),e)),s=Me(s,[["exit",u,e],t[a-2],t[a-1],["exit",c,e]]),s=Me(s,t.slice(a+1)),s=Me(s,[["exit",l,e]]),hn(t,o,t.length,s),t}function jL(t,e,n){const i=this;let r=i.events.length,o,a;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){o=i.events[r][1];break}return s;function s(u){return o?o._inactive?c(u):(a=i.parser.defined.includes(yr(i.sliceSerialize({start:o.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelEnd"),l):n(u)}function l(u){return u===40?t.attempt(NL,e,a?e:c)(u):u===91?t.attempt(PL,e,a?t.attempt(zL,e,c):c)(u):a?e(u):c(u)}function c(u){return o._balanced=!0,n(u)}}function qL(t,e,n){return i;function i(l){return t.enter("resource"),t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),$o(t,r)}function r(l){return l===41?s(l):j0(t,o,n,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(l)}function o(l){return De(l)?$o(t,a)(l):s(l)}function a(l){return l===34||l===39||l===40?H0(t,$o(t,s),n,"resourceTitle","resourceTitleMarker","resourceTitleString")(l):s(l)}function s(l){return l===41?(t.enter("resourceMarker"),t.consume(l),t.exit("resourceMarker"),t.exit("resource"),e):n(l)}}function HL(t,e,n){const i=this;return r;function r(a){return q0.call(i,t,o,n,"reference","referenceMarker","referenceString")(a)}function o(a){return i.parser.defined.includes(yr(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(a):n(a)}}function WL(t,e,n){return i;function i(o){return t.enter("reference"),t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),r}function r(o){return o===93?(t.enter("referenceMarker"),t.consume(o),t.exit("referenceMarker"),t.exit("reference"),e):n(o)}}const UL={name:"labelStartImage",tokenize:VL,resolveAll:kf.resolveAll};function VL(t,e,n){const i=this;return r;function r(s){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(s),t.exit("labelImageMarker"),o}function o(s){return s===91?(t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelImage"),a):n(s)}function a(s){return s===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(s):e(s)}}const GL={name:"labelStartLink",tokenize:YL,resolveAll:kf.resolveAll};function YL(t,e,n){const i=this;return r;function r(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),o}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(a):e(a)}}const ah={name:"lineEnding",tokenize:XL};function XL(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),bt(t,e,"linePrefix")}}const Fs={name:"thematicBreak",tokenize:QL};function QL(t,e,n){let i=0,r;return o;function o(l){return t.enter("thematicBreak"),r=l,a(l)}function a(l){return l===r?(t.enter("thematicBreakSequence"),s(l)):Pt(l)?bt(t,a,"whitespace")(l):i<3||l!==null&&!it(l)?n(l):(t.exit("thematicBreak"),e(l))}function s(l){return l===r?(t.consume(l),i++,s):(t.exit("thematicBreakSequence"),a(l))}}const me={name:"list",tokenize:ZL,continuation:{tokenize:t3},exit:n3},KL={tokenize:i3,partial:!0},JL={tokenize:e3,partial:!0};function ZL(t,e,n){const i=this,r=i.events[i.events.length-1];let o=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,a=0;return s;function s(m){const b=i.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(b==="listUnordered"?!i.containerState.marker||m===i.containerState.marker:Mh(m)){if(i.containerState.type||(i.containerState.type=b,t.enter(b,{_container:!0})),b==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Fs,n,c)(m):c(m);if(!i.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return Mh(m)&&++a<10?(t.consume(m),l):(!i.interrupt||a<2)&&(i.containerState.marker?m===i.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),c(m)):n(m)}function c(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||m,t.check(_l,i.interrupt?n:u,t.attempt(KL,g,h))}function u(m){return i.containerState.initialBlankLine=!0,o++,g(m)}function h(m){return Pt(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),g):n(m)}function g(m){return i.containerState.size=o+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function t3(t,e,n){const i=this;return i.containerState._closeFlow=void 0,t.check(_l,r,o);function r(s){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,bt(t,e,"listItemIndent",i.containerState.size+1)(s)}function o(s){return i.containerState.furtherBlankLines||!Pt(s)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,a(s)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(JL,e,a)(s))}function a(s){return i.containerState._closeFlow=!0,i.interrupt=void 0,bt(t,t.attempt(me,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s)}}function e3(t,e,n){const i=this;return bt(t,r,"listItemIndent",i.containerState.size+1);function r(o){const a=i.events[i.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===i.containerState.size?e(o):n(o)}}function n3(t){t.exit(this.containerState.type)}function i3(t,e,n){const i=this;return bt(t,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4+1);function r(o){const a=i.events[i.events.length-1];return!Pt(o)&&a&&a[1].type==="listItemPrefixWhitespace"?e(o):n(o)}}const Hm={name:"setextUnderline",tokenize:o3,resolveTo:r3};function r3(t,e){let n=t.length,i,r,o;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(r=n)}else t[n][1].type==="content"&&t.splice(n,1),!o&&t[n][1].type==="definition"&&(o=n);const a={type:"setextHeading",start:Object.assign({},t[r][1].start),end:Object.assign({},t[t.length-1][1].end)};return t[r][1].type="setextHeadingText",o?(t.splice(r,0,["enter",a,e]),t.splice(o+1,0,["exit",t[i][1],e]),t[i][1].end=Object.assign({},t[o][1].end)):t[i][1]=a,t.push(["exit",a,e]),t}function o3(t,e,n){const i=this;let r=i.events.length,o,a;for(;r--;)if(i.events[r][1].type!=="lineEnding"&&i.events[r][1].type!=="linePrefix"&&i.events[r][1].type!=="content"){a=i.events[r][1].type==="paragraph";break}return s;function s(u){return!i.parser.lazy[i.now().line]&&(i.interrupt||a)?(t.enter("setextHeadingLine"),t.enter("setextHeadingLineSequence"),o=u,l(u)):n(u)}function l(u){return u===o?(t.consume(u),l):(t.exit("setextHeadingLineSequence"),bt(t,c,"lineSuffix")(u))}function c(u){return u===null||it(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const a3={tokenize:s3};function s3(t){const e=this,n=t.attempt(_l,i,t.attempt(this.parser.constructs.flowInitial,r,bt(t,t.attempt(this.parser.constructs.flow,r,t.attempt(dL,r)),"linePrefix")));return n;function i(o){if(o===null){t.consume(o);return}return t.enter("lineEndingBlank"),t.consume(o),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const l3={resolveAll:U0()},c3=W0("string"),u3=W0("text");function W0(t){return{tokenize:e,resolveAll:U0(t==="text"?h3:void 0)};function e(n){const i=this,r=this.parser.constructs[t],o=n.attempt(r,a,s);return a;function a(u){return c(u)?o(u):s(u)}function s(u){if(u===null){n.consume(u);return}return n.enter("data"),n.consume(u),l}function l(u){return c(u)?(n.exit("data"),o(u)):(n.consume(u),l)}function c(u){if(u===null)return!0;const h=r[u];let g=-1;if(h)for(;++g<h.length;){const m=h[g];if(!m.previous||m.previous.call(i,i.previous))return!0}return!1}}}function U0(t){return e;function e(n,i){let r=-1,o;for(;++r<=n.length;)o===void 0?n[r]&&n[r][1].type==="data"&&(o=r,r++):(!n[r]||n[r][1].type!=="data")&&(r!==o+2&&(n[o][1].end=n[r-1][1].end,n.splice(o+2,r-o-2),r=o+2),o=void 0);return t?t(n,i):n}}function h3(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const i=t[n-1][1],r=e.sliceStream(i);let o=r.length,a=-1,s=0,l;for(;o--;){const c=r[o];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)s++,a--;if(a)break;a=-1}else if(c===-2)l=!0,s++;else if(c!==-1){o++;break}}if(s){const c={type:n===t.length||l||s<2?"lineSuffix":"hardBreakTrailing",start:{line:i.end.line,column:i.end.column-s,offset:i.end.offset-s,_index:i.start._index+o,_bufferIndex:o?a:i.start._bufferIndex+a},end:Object.assign({},i.end)};i.end=Object.assign({},c.start),i.start.offset===i.end.offset?Object.assign(i,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}function f3(t,e,n){let i=Object.assign(n?Object.assign({},n):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const r={},o=[];let a=[],s=[];const l={consume:F,enter:P,exit:G,attempt:$(K),check:$(E),interrupt:$(E,{interrupt:!0})},c={previous:null,code:null,containerState:{},events:[],parser:t,sliceStream:m,sliceSerialize:g,now:b,defineSkip:B,write:h};let u=e.tokenize.call(c,l);return e.resolveAll&&o.push(e),c;function h(j){return a=Me(a,j),M(),a[a.length-1]!==null?[]:(rt(e,0),c.events=bf(o,c.events,c),c.events)}function g(j,X){return d3(m(j),X)}function m(j){return p3(a,j)}function b(){return Object.assign({},i)}function B(j){r[j.line]=j.column,dt()}function M(){let j;for(;i._index<a.length;){const X=a[i._index];if(typeof X=="string")for(j=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===j&&i._bufferIndex<X.length;)v(X.charCodeAt(i._bufferIndex));else v(X)}}function v(j){u=u(j)}function F(j){it(j)?(i.line++,i.column=1,i.offset+=j===-3?2:1,dt()):j!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===a[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=j}function P(j,X){const tt=X||{};return tt.type=j,tt.start=b(),c.events.push(["enter",tt,c]),s.push(tt),tt}function G(j){const X=s.pop();return X.end=b(),c.events.push(["exit",X,c]),X}function K(j,X){rt(j,X.from)}function E(j,X){X.restore()}function $(j,X){return tt;function tt(ft,Bt,Ct){let pt,wt,Ot,gt;return Array.isArray(ft)?y(ft):"tokenize"in ft?y([ft]):_(ft);function _(et){return vt;function vt(Wt){const se=Wt!==null&&et[Wt],It=Wt!==null&&et.null,Ke=[...Array.isArray(se)?se:se?[se]:[],...Array.isArray(It)?It:It?[It]:[]];return y(Ke)(Wt)}}function y(et){return pt=et,wt=0,et.length===0?Ct:be(et[wt])}function be(et){return vt;function vt(Wt){return gt=at(),Ot=et,et.partial||(c.currentConstruct=et),et.name&&c.parser.constructs.disable.null.includes(et.name)?Jt():et.tokenize.call(X?Object.assign(Object.create(c),X):c,l,yt,Jt)(Wt)}}function yt(et){return j(Ot,gt),Bt}function Jt(et){return gt.restore(),++wt<pt.length?be(pt[wt]):Ct}}}function rt(j,X){j.resolveAll&&!o.includes(j)&&o.push(j),j.resolve&&hn(c.events,X,c.events.length-X,j.resolve(c.events.slice(X),c)),j.resolveTo&&(c.events=j.resolveTo(c.events,c))}function at(){const j=b(),X=c.previous,tt=c.currentConstruct,ft=c.events.length,Bt=Array.from(s);return{restore:Ct,from:ft};function Ct(){i=j,c.previous=X,c.currentConstruct=tt,c.events.length=ft,s=Bt,dt()}}function dt(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function p3(t,e){const n=e.start._index,i=e.start._bufferIndex,r=e.end._index,o=e.end._bufferIndex;let a;return n===r?a=[t[n].slice(i,o)]:(a=t.slice(n,r),i>-1&&(a[0]=a[0].slice(i)),o>0&&a.push(t[r].slice(0,o))),a}function d3(t,e){let n=-1;const i=[];let r;for(;++n<t.length;){const o=t[n];let a;if(typeof o=="string")a=o;else switch(o){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&r)continue;a=" ";break}default:a=String.fromCharCode(o)}r=o===-2,i.push(a)}return i.join("")}const m3={[42]:me,[43]:me,[45]:me,[48]:me,[49]:me,[50]:me,[51]:me,[52]:me,[53]:me,[54]:me,[55]:me,[56]:me,[57]:me,[62]:P0},g3={[91]:bL},y3={[-2]:oh,[-1]:oh,[32]:oh},_3={[35]:SL,[42]:Fs,[45]:[Hm,Fs],[60]:BL,[61]:Hm,[95]:Fs,[96]:jm,[126]:jm},b3={[38]:R0,[92]:z0},x3={[-5]:ah,[-4]:ah,[-3]:ah,[33]:UL,[38]:R0,[42]:Nh,[60]:[KB,ML],[91]:GL,[92]:[wL,z0],[93]:kf,[95]:Nh,[96]:cL},k3={null:[Nh,l3]},C3={null:[42,95]},w3={null:[]},v3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:C3,contentInitial:g3,disable:w3,document:m3,flow:_3,flowInitial:y3,insideSpan:k3,string:b3,text:x3},Symbol.toStringTag,{value:"Module"}));function S3(t={}){const e=NB([v3].concat(t.extensions||[])),n={defined:[],lazy:{},constructs:e,content:i(WB),document:i(VB),flow:i(a3),string:i(c3),text:i(u3)};return n;function i(r){return o;function o(a){return f3(n,r,a)}}}const Wm=/[\0\t\n\r]/g;function T3(){let t=1,e="",n=!0,i;return r;function r(o,a,s){const l=[];let c,u,h,g,m;for(o=e+o.toString(a),h=0,e="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(Wm.lastIndex=h,c=Wm.exec(o),g=c&&c.index!==void 0?c.index:o.length,m=o.charCodeAt(g),!c){e=o.slice(h);break}if(m===10&&h===g&&i)l.push(-3),i=void 0;else switch(i&&(l.push(-5),i=void 0),h<g&&(l.push(o.slice(h,g)),t+=g-h),m){case 0:{l.push(65533),t++;break}case 9:{for(u=Math.ceil(t/4)*4,l.push(-2);t++<u;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:i=!0,t=1}h=g+1}return s&&(i&&l.push(-5),e&&l.push(e),l.push(null)),l}}function E3(t){for(;!$0(t););return t}function V0(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"�":String.fromCharCode(n)}const A3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function B3(t){return t.replace(A3,L3)}function L3(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const r=n.charCodeAt(1),o=r===120||r===88;return V0(n.slice(o?2:1),o?16:10)}return xf(n)||t}const G0={}.hasOwnProperty,F3=function(t,e,n){return typeof e!="string"&&(n=e,e=void 0),O3(n)(E3(S3(n).document().write(T3()(t,e,!0))))};function O3(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Te),autolinkProtocol:j,autolinkEmail:j,atxHeading:s(je),blockQuote:s(Ke),characterEscape:j,characterReference:j,codeFenced:s(le),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:s(le,l),codeText:s(Zt,l),codeTextData:j,data:j,codeFlowValue:j,definition:s(ce),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:s(ue),hardBreakEscape:s(Ut),hardBreakTrailing:s(Ut),htmlFlow:s(qe,l),htmlFlowData:j,htmlText:s(qe,l),htmlTextData:j,image:s(He),label:l,link:s(Te),listItem:s(pn),listItemValue:b,listOrdered:s(Ee,m),listUnordered:s(Ee),paragraph:s(dn),reference:Jt,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:s(je),strong:s(We),thematicBreak:s(te)},exit:{atxHeading:u(),atxHeadingSequence:$,autolink:u(),autolinkEmail:It,autolinkProtocol:se,blockQuote:u(),characterEscapeValue:X,characterReferenceMarkerHexadecimal:vt,characterReferenceMarkerNumeric:vt,characterReferenceValue:Wt,codeFenced:u(F),codeFencedFence:v,codeFencedFenceInfo:B,codeFencedFenceMeta:M,codeFlowValue:X,codeIndented:u(P),codeText:u(pt),codeTextData:X,data:X,definition:u(),definitionDestinationString:E,definitionLabelString:G,definitionTitleString:K,emphasis:u(),hardBreakEscape:u(ft),hardBreakTrailing:u(ft),htmlFlow:u(Bt),htmlFlowData:X,htmlText:u(Ct),htmlTextData:X,image:u(Ot),label:_,labelText:gt,lineEnding:tt,link:u(wt),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:et,resourceDestinationString:y,resourceTitleString:be,resource:yt,setextHeading:u(dt),setextHeadingLineSequence:at,setextHeadingText:rt,strong:u(),thematicBreak:u()}};Y0(e,(t||{}).mdastExtensions||[]);const n={};return i;function i(L){let R={type:"root",children:[]};const Y={stack:[R],tokenStack:[],config:e,enter:c,exit:h,buffer:l,resume:g,setData:o,getData:a},st=[];let ht=-1;for(;++ht<L.length;)if(L[ht][1].type==="listOrdered"||L[ht][1].type==="listUnordered")if(L[ht][0]==="enter")st.push(ht);else{const St=st.pop();ht=r(L,St,ht)}for(ht=-1;++ht<L.length;){const St=e[L[ht][0]];G0.call(St,L[ht][1].type)&&St[L[ht][1].type].call(Object.assign({sliceSerialize:L[ht][2].sliceSerialize},Y),L[ht][1])}if(Y.tokenStack.length>0){const St=Y.tokenStack[Y.tokenStack.length-1];(St[1]||Um).call(Y,void 0,St[0])}for(R.position={start:Zn(L.length>0?L[0][1].start:{line:1,column:1,offset:0}),end:Zn(L.length>0?L[L.length-2][1].end:{line:1,column:1,offset:0})},ht=-1;++ht<e.transforms.length;)R=e.transforms[ht](R)||R;return R}function r(L,R,Y){let st=R-1,ht=-1,St=!1,qt,Et,Vt,Ht;for(;++st<=Y;){const mt=L[st];if(mt[1].type==="listUnordered"||mt[1].type==="listOrdered"||mt[1].type==="blockQuote"?(mt[0]==="enter"?ht++:ht--,Ht=void 0):mt[1].type==="lineEndingBlank"?mt[0]==="enter"&&(qt&&!Ht&&!ht&&!Vt&&(Vt=st),Ht=void 0):mt[1].type==="linePrefix"||mt[1].type==="listItemValue"||mt[1].type==="listItemMarker"||mt[1].type==="listItemPrefix"||mt[1].type==="listItemPrefixWhitespace"||(Ht=void 0),!ht&&mt[0]==="enter"&&mt[1].type==="listItemPrefix"||ht===-1&&mt[0]==="exit"&&(mt[1].type==="listUnordered"||mt[1].type==="listOrdered")){if(qt){let ke=st;for(Et=void 0;ke--;){const Lt=L[ke];if(Lt[1].type==="lineEnding"||Lt[1].type==="lineEndingBlank"){if(Lt[0]==="exit")continue;Et&&(L[Et][1].type="lineEndingBlank",St=!0),Lt[1].type="lineEnding",Et=ke}else if(!(Lt[1].type==="linePrefix"||Lt[1].type==="blockQuotePrefix"||Lt[1].type==="blockQuotePrefixWhitespace"||Lt[1].type==="blockQuoteMarker"||Lt[1].type==="listItemIndent"))break}Vt&&(!Et||Vt<Et)&&(qt._spread=!0),qt.end=Object.assign({},Et?L[Et][1].start:mt[1].end),L.splice(Et||st,0,["exit",qt,mt[2]]),st++,Y++}mt[1].type==="listItemPrefix"&&(qt={type:"listItem",_spread:!1,start:Object.assign({},mt[1].start)},L.splice(st,0,["enter",qt,mt[2]]),st++,Y++,Vt=void 0,Ht=!0)}}return L[R][1]._spread=St,Y}function o(L,R){n[L]=R}function a(L){return n[L]}function s(L,R){return Y;function Y(st){c.call(this,L(st),st),R&&R.call(this,st)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(L,R,Y){return this.stack[this.stack.length-1].children.push(L),this.stack.push(L),this.tokenStack.push([R,Y]),L.position={start:Zn(R.start)},L}function u(L){return R;function R(Y){L&&L.call(this,Y),h.call(this,Y)}}function h(L,R){const Y=this.stack.pop(),st=this.tokenStack.pop();if(st)st[0].type!==L.type&&(R?R.call(this,L,st[0]):(st[1]||Um).call(this,L,st[0]));else throw new Error("Cannot close `"+L.type+"` ("+Ro({start:L.start,end:L.end})+"): it’s not open");return Y.position.end=Zn(L.end),Y}function g(){return MB(this.stack.pop())}function m(){o("expectingFirstListItemValue",!0)}function b(L){if(a("expectingFirstListItemValue")){const R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(L),10),o("expectingFirstListItemValue")}}function B(){const L=this.resume(),R=this.stack[this.stack.length-1];R.lang=L}function M(){const L=this.resume(),R=this.stack[this.stack.length-1];R.meta=L}function v(){a("flowCodeInside")||(this.buffer(),o("flowCodeInside",!0))}function F(){const L=this.resume(),R=this.stack[this.stack.length-1];R.value=L.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),o("flowCodeInside")}function P(){const L=this.resume(),R=this.stack[this.stack.length-1];R.value=L.replace(/(\r?\n|\r)$/g,"")}function G(L){const R=this.resume(),Y=this.stack[this.stack.length-1];Y.label=R,Y.identifier=yr(this.sliceSerialize(L)).toLowerCase()}function K(){const L=this.resume(),R=this.stack[this.stack.length-1];R.title=L}function E(){const L=this.resume(),R=this.stack[this.stack.length-1];R.url=L}function $(L){const R=this.stack[this.stack.length-1];if(!R.depth){const Y=this.sliceSerialize(L).length;R.depth=Y}}function rt(){o("setextHeadingSlurpLineEnding",!0)}function at(L){const R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(L).charCodeAt(0)===61?1:2}function dt(){o("setextHeadingSlurpLineEnding")}function j(L){const R=this.stack[this.stack.length-1];let Y=R.children[R.children.length-1];(!Y||Y.type!=="text")&&(Y=xe(),Y.position={start:Zn(L.start)},R.children.push(Y)),this.stack.push(Y)}function X(L){const R=this.stack.pop();R.value+=this.sliceSerialize(L),R.position.end=Zn(L.end)}function tt(L){const R=this.stack[this.stack.length-1];if(a("atHardBreak")){const Y=R.children[R.children.length-1];Y.position.end=Zn(L.end),o("atHardBreak");return}!a("setextHeadingSlurpLineEnding")&&e.canContainEols.includes(R.type)&&(j.call(this,L),X.call(this,L))}function ft(){o("atHardBreak",!0)}function Bt(){const L=this.resume(),R=this.stack[this.stack.length-1];R.value=L}function Ct(){const L=this.resume(),R=this.stack[this.stack.length-1];R.value=L}function pt(){const L=this.resume(),R=this.stack[this.stack.length-1];R.value=L}function wt(){const L=this.stack[this.stack.length-1];if(a("inReference")){const R=a("referenceType")||"shortcut";L.type+="Reference",L.referenceType=R,delete L.url,delete L.title}else delete L.identifier,delete L.label;o("referenceType")}function Ot(){const L=this.stack[this.stack.length-1];if(a("inReference")){const R=a("referenceType")||"shortcut";L.type+="Reference",L.referenceType=R,delete L.url,delete L.title}else delete L.identifier,delete L.label;o("referenceType")}function gt(L){const R=this.sliceSerialize(L),Y=this.stack[this.stack.length-2];Y.label=B3(R),Y.identifier=yr(R).toLowerCase()}function _(){const L=this.stack[this.stack.length-1],R=this.resume(),Y=this.stack[this.stack.length-1];if(o("inReference",!0),Y.type==="link"){const st=L.children;Y.children=st}else Y.alt=R}function y(){const L=this.resume(),R=this.stack[this.stack.length-1];R.url=L}function be(){const L=this.resume(),R=this.stack[this.stack.length-1];R.title=L}function yt(){o("inReference")}function Jt(){o("referenceType","collapsed")}function et(L){const R=this.resume(),Y=this.stack[this.stack.length-1];Y.label=R,Y.identifier=yr(this.sliceSerialize(L)).toLowerCase(),o("referenceType","full")}function vt(L){o("characterReferenceType",L.type)}function Wt(L){const R=this.sliceSerialize(L),Y=a("characterReferenceType");let st;Y?(st=V0(R,Y==="characterReferenceMarkerNumeric"?10:16),o("characterReferenceType")):st=xf(R);const ht=this.stack.pop();ht.value+=st,ht.position.end=Zn(L.end)}function se(L){X.call(this,L);const R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(L)}function It(L){X.call(this,L);const R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(L)}function Ke(){return{type:"blockquote",children:[]}}function le(){return{type:"code",lang:null,meta:null,value:""}}function Zt(){return{type:"inlineCode",value:""}}function ce(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function ue(){return{type:"emphasis",children:[]}}function je(){return{type:"heading",depth:void 0,children:[]}}function Ut(){return{type:"break"}}function qe(){return{type:"html",value:""}}function He(){return{type:"image",title:null,url:"",alt:null}}function Te(){return{type:"link",title:null,url:"",children:[]}}function Ee(L){return{type:"list",ordered:L.type==="listOrdered",start:null,spread:L._spread,children:[]}}function pn(L){return{type:"listItem",spread:L._spread,checked:null,children:[]}}function dn(){return{type:"paragraph",children:[]}}function We(){return{type:"strong",children:[]}}function xe(){return{type:"text",value:""}}function te(){return{type:"thematicBreak"}}}function Zn(t){return{line:t.line,column:t.column,offset:t.offset}}function Y0(t,e){let n=-1;for(;++n<e.length;){const i=e[n];Array.isArray(i)?Y0(t,i):I3(t,i)}}function I3(t,e){let n;for(n in e)if(G0.call(e,n)){if(n==="canContainEols"){const i=e[n];i&&t[n].push(...i)}else if(n==="transforms"){const i=e[n];i&&t[n].push(...i)}else if(n==="enter"||n==="exit"){const i=e[n];i&&Object.assign(t[n],i)}}}function Um(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ro({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ro({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ro({start:e.start,end:e.end})+") is still open")}function M3(t){Object.assign(this,{Parser:n=>{const i=this.data("settings");return F3(n,Object.assign({},i,t,{extensions:this.data("micromarkExtensions")||[],mdastExtensions:this.data("fromMarkdownExtensions")||[]}))}})}class na{constructor(e,n,i){this.property=e,this.normal=n,i&&(this.space=i)}}na.prototype.property={};na.prototype.normal={};na.prototype.space=null;function X0(t,e){const n={},i={};let r=-1;for(;++r<t.length;)Object.assign(n,t[r].property),Object.assign(i,t[r].normal);return new na(n,i,e)}function Ph(t){return t.toLowerCase()}class $e{constructor(e,n){this.property=e,this.attribute=n}}$e.prototype.space=null;$e.prototype.boolean=!1;$e.prototype.booleanish=!1;$e.prototype.overloadedBoolean=!1;$e.prototype.number=!1;$e.prototype.commaSeparated=!1;$e.prototype.spaceSeparated=!1;$e.prototype.commaOrSpaceSeparated=!1;$e.prototype.mustUseProperty=!1;$e.prototype.defined=!1;let D3=0;const ut=Ri(),Dt=Ri(),Q0=Ri(),z=Ri(),kt=Ri(),_r=Ri(),we=Ri();function Ri(){return 2**++D3}const zh=Object.freeze(Object.defineProperty({__proto__:null,boolean:ut,booleanish:Dt,commaOrSpaceSeparated:we,commaSeparated:_r,number:z,overloadedBoolean:Q0,spaceSeparated:kt},Symbol.toStringTag,{value:"Module"})),sh=Object.keys(zh);class Cf extends $e{constructor(e,n,i,r){let o=-1;if(super(e,n),Vm(this,"space",r),typeof i=="number")for(;++o<sh.length;){const a=sh[o];Vm(this,sh[o],(i&zh[a])===zh[a])}}}Cf.prototype.defined=!0;function Vm(t,e,n){n&&(t[e]=n)}const N3={}.hasOwnProperty;function Lr(t){const e={},n={};let i;for(i in t.properties)if(N3.call(t.properties,i)){const r=t.properties[i],o=new Cf(i,t.transform(t.attributes||{},i),r,t.space);t.mustUseProperty&&t.mustUseProperty.includes(i)&&(o.mustUseProperty=!0),e[i]=o,n[Ph(i)]=i,n[Ph(o.attribute)]=i}return new na(e,n,t.space)}const K0=Lr({space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),J0=Lr({space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function Z0(t,e){return e in t?t[e]:e}function t_(t,e){return Z0(t,e.toLowerCase())}const e_=Lr({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:t_,properties:{xmlns:null,xmlnsXLink:null}}),n_=Lr({transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:Dt,ariaAutoComplete:null,ariaBusy:Dt,ariaChecked:Dt,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:kt,ariaCurrent:null,ariaDescribedBy:kt,ariaDetails:null,ariaDisabled:Dt,ariaDropEffect:kt,ariaErrorMessage:null,ariaExpanded:Dt,ariaFlowTo:kt,ariaGrabbed:Dt,ariaHasPopup:null,ariaHidden:Dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:kt,ariaLevel:z,ariaLive:null,ariaModal:Dt,ariaMultiLine:Dt,ariaMultiSelectable:Dt,ariaOrientation:null,ariaOwns:kt,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:Dt,ariaReadOnly:Dt,ariaRelevant:null,ariaRequired:Dt,ariaRoleDescription:kt,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:Dt,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null}}),P3=Lr({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:t_,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:_r,acceptCharset:kt,accessKey:kt,action:null,allow:null,allowFullScreen:ut,allowPaymentRequest:ut,allowUserMedia:ut,alt:null,as:null,async:ut,autoCapitalize:null,autoComplete:kt,autoFocus:ut,autoPlay:ut,capture:ut,charSet:null,checked:ut,cite:null,className:kt,cols:z,colSpan:null,content:null,contentEditable:Dt,controls:ut,controlsList:kt,coords:z|_r,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ut,defer:ut,dir:null,dirName:null,disabled:ut,download:Q0,draggable:Dt,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ut,formTarget:null,headers:kt,height:z,hidden:ut,high:z,href:null,hrefLang:null,htmlFor:kt,httpEquiv:kt,id:null,imageSizes:null,imageSrcSet:null,inputMode:null,integrity:null,is:null,isMap:ut,itemId:null,itemProp:kt,itemRef:kt,itemScope:ut,itemType:kt,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ut,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ut,muted:ut,name:null,nonce:null,noModule:ut,noValidate:ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ut,optimum:z,pattern:null,ping:kt,placeholder:null,playsInline:ut,poster:null,preload:null,readOnly:ut,referrerPolicy:null,rel:kt,required:ut,reversed:ut,rows:z,rowSpan:z,sandbox:kt,scope:null,scoped:ut,seamless:ut,selected:ut,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:Dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ut,useMap:null,value:Dt,width:z,wrap:null,align:null,aLink:null,archive:kt,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ut,declare:ut,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ut,noHref:ut,noShade:ut,noWrap:ut,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:Dt,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ut,disableRemotePlayback:ut,prefix:null,property:null,results:z,security:null,unselectable:null}}),z3=Lr({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:Z0,properties:{about:we,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:kt,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:_r,g2:_r,glyphName:_r,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:we,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:kt,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:we,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:we,rev:we,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:we,requiredFeatures:we,requiredFonts:we,requiredFormats:we,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:we,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:we,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:we,to:null,transform:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),R3=/^data[-\w.:]+$/i,Gm=/-[a-z]/g,$3=/[A-Z]/g;function j3(t,e){const n=Ph(e);let i=e,r=$e;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&R3.test(e)){if(e.charAt(4)==="-"){const o=e.slice(5).replace(Gm,H3);i="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=e.slice(4);if(!Gm.test(o)){let a=o.replace($3,q3);a.charAt(0)!=="-"&&(a="-"+a),e="data"+a}}r=Cf}return new r(i,e)}function q3(t){return"-"+t.toLowerCase()}function H3(t){return t.charAt(1).toUpperCase()}const W3=X0([J0,K0,e_,n_,P3],"html"),i_=X0([J0,K0,e_,n_,z3],"svg"),U3=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"],Ym={}.hasOwnProperty;function V3(t,e){const n=e||{};function i(r,...o){let a=i.invalid;const s=i.handlers;if(r&&Ym.call(r,t)){const l=String(r[t]);a=Ym.call(s,l)?s[l]:i.unknown}if(a)return a.call(this,r,...o)}return i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}function G3(t,e){if(t=t.replace(e.subset?Y3(e.subset):/["&'<>`]/g,i),e.subset||e.escapeOnly)return t;return t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,n).replace(/[\x01-\t\v\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,i);function n(r,o,a){return e.format((r.charCodeAt(0)-55296)*1024+r.charCodeAt(1)-56320+65536,a.charCodeAt(o+2),e)}function i(r,o,a){return e.format(r.charCodeAt(0),a.charCodeAt(o+1),e)}}function Y3(t){const e=[];let n=-1;for(;++n<t.length;)e.push(t[n].replace(/[|\\{}()[\]^$+*?.]/g,"\\$&"));return new RegExp("(?:"+e.join("|")+")","g")}function X3(t,e,n){const i="&#x"+t.toString(16).toUpperCase();return n&&e&&!/[\dA-Fa-f]/.test(String.fromCharCode(e))?i:i+";"}function Q3(t,e,n){const i="&#"+String(t);return n&&e&&!/\d/.test(String.fromCharCode(e))?i:i+";"}const K3=["AElig","AMP","Aacute","Acirc","Agrave","Aring","Atilde","Auml","COPY","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","GT","Iacute","Icirc","Igrave","Iuml","LT","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","QUOT","REG","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","acute","aelig","agrave","amp","aring","atilde","auml","brvbar","ccedil","cedil","cent","copy","curren","deg","divide","eacute","ecirc","egrave","eth","euml","frac12","frac14","frac34","gt","iacute","icirc","iexcl","igrave","iquest","iuml","laquo","lt","macr","micro","middot","nbsp","not","ntilde","oacute","ocirc","ograve","ordf","ordm","oslash","otilde","ouml","para","plusmn","pound","quot","raquo","reg","sect","shy","sup1","sup2","sup3","szlig","thorn","times","uacute","ucirc","ugrave","uml","uuml","yacute","yen","yuml"],lh={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"},J3=["cent","copy","divide","gt","lt","not","para","times"],r_={}.hasOwnProperty,Rh={};let fs;for(fs in lh)r_.call(lh,fs)&&(Rh[lh[fs]]=fs);function Z3(t,e,n,i){const r=String.fromCharCode(t);if(r_.call(Rh,r)){const o=Rh[r],a="&"+o;return n&&K3.includes(o)&&!J3.includes(o)&&(!i||e&&e!==61&&/[^\da-z]/i.test(String.fromCharCode(e)))?a:a+";"}return""}function tF(t,e,n){let i=X3(t,e,n.omitOptionalSemicolons),r;if((n.useNamedReferences||n.useShortestReferences)&&(r=Z3(t,e,n.omitOptionalSemicolons,n.attribute)),(n.useShortestReferences||!r)&&n.useShortestReferences){const o=Q3(t,e,n.omitOptionalSemicolons);o.length<i.length&&(i=o)}return r&&(!n.useShortestReferences||r.length<i.length)?r:i}function br(t,e){return G3(t,Object.assign({format:tF},e))}function eF(t,e,n,i){return i.settings.bogusComments?"<?"+br(t.value,Object.assign({},i.settings.characterReferences,{subset:[">"]}))+">":"<!--"+t.value.replace(/^>|^->|<!--|-->|--!>|<!-$/g,r)+"-->";function r(o){return br(o,Object.assign({},i.settings.characterReferences,{subset:["<",">"]}))}}function nF(t,e,n,i){return"<!"+(i.settings.upperDoctype?"DOCTYPE":"doctype")+(i.settings.tightDoctype?"":" ")+"html>"}function Xm(t,e){const n=String(t);if(typeof e!="string")throw new TypeError("Expected character");let i=0,r=n.indexOf(e);for(;r!==-1;)i++,r=n.indexOf(e,r+e.length);return i}function iF(t,e){const n=e||{};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}function rF(t){return t.join(" ").trim()}function wf(t){const e=t&&typeof t=="object"&&t.type==="text"?t.value||"":t;return typeof e=="string"&&e.replace(/[ \t\n\f\r]/g,"")===""}const Rt=a_(1),o_=a_(-1);function a_(t){return e;function e(n,i,r){const o=n?n.children:[];let a=(i||0)+t,s=o&&o[a];if(!r)for(;s&&wf(s);)a+=t,s=o[a];return s}}const oF={}.hasOwnProperty;function s_(t){return e;function e(n,i,r){return oF.call(t,n.tagName)&&t[n.tagName](n,i,r)}}const vf=s_({html:aF,head:ch,body:sF,p:lF,li:cF,dt:uF,dd:hF,rt:Qm,rp:Qm,optgroup:fF,option:pF,menuitem:dF,colgroup:ch,caption:ch,thead:mF,tbody:gF,tfoot:yF,tr:_F,td:Km,th:Km});function ch(t,e,n){const i=Rt(n,e,!0);return!i||i.type!=="comment"&&!(i.type==="text"&&wf(i.value.charAt(0)))}function aF(t,e,n){const i=Rt(n,e);return!i||i.type!=="comment"}function sF(t,e,n){const i=Rt(n,e);return!i||i.type!=="comment"}function lF(t,e,n){const i=Rt(n,e);return i?i.type==="element"&&(i.tagName==="address"||i.tagName==="article"||i.tagName==="aside"||i.tagName==="blockquote"||i.tagName==="details"||i.tagName==="div"||i.tagName==="dl"||i.tagName==="fieldset"||i.tagName==="figcaption"||i.tagName==="figure"||i.tagName==="footer"||i.tagName==="form"||i.tagName==="h1"||i.tagName==="h2"||i.tagName==="h3"||i.tagName==="h4"||i.tagName==="h5"||i.tagName==="h6"||i.tagName==="header"||i.tagName==="hgroup"||i.tagName==="hr"||i.tagName==="main"||i.tagName==="menu"||i.tagName==="nav"||i.tagName==="ol"||i.tagName==="p"||i.tagName==="pre"||i.tagName==="section"||i.tagName==="table"||i.tagName==="ul"):!n||!(n.type==="element"&&(n.tagName==="a"||n.tagName==="audio"||n.tagName==="del"||n.tagName==="ins"||n.tagName==="map"||n.tagName==="noscript"||n.tagName==="video"))}function cF(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&i.tagName==="li"}function uF(t,e,n){const i=Rt(n,e);return i&&i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function hF(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&(i.tagName==="dt"||i.tagName==="dd")}function Qm(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&(i.tagName==="rp"||i.tagName==="rt")}function fF(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&i.tagName==="optgroup"}function pF(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&(i.tagName==="option"||i.tagName==="optgroup")}function dF(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&(i.tagName==="menuitem"||i.tagName==="hr"||i.tagName==="menu")}function mF(t,e,n){const i=Rt(n,e);return i&&i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function gF(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&(i.tagName==="tbody"||i.tagName==="tfoot")}function yF(t,e,n){return!Rt(n,e)}function _F(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&i.tagName==="tr"}function Km(t,e,n){const i=Rt(n,e);return!i||i.type==="element"&&(i.tagName==="td"||i.tagName==="th")}const bF=s_({html:xF,head:kF,body:CF,colgroup:wF,tbody:vF});function xF(t){const e=Rt(t,-1);return!e||e.type!=="comment"}function kF(t){const e=t.children,n=[];let i=-1;for(;++i<e.length;){const r=e[i];if(r.type==="element"&&(r.tagName==="title"||r.tagName==="base")){if(n.includes(r.tagName))return!1;n.push(r.tagName)}}return e.length>0}function CF(t){const e=Rt(t,-1,!0);return!e||e.type!=="comment"&&!(e.type==="text"&&wf(e.value.charAt(0)))&&!(e.type==="element"&&(e.tagName==="meta"||e.tagName==="link"||e.tagName==="script"||e.tagName==="style"||e.tagName==="template"))}function wF(t,e,n){const i=o_(n,e),r=Rt(t,-1,!0);return n&&i&&i.type==="element"&&i.tagName==="colgroup"&&vf(i,n.children.indexOf(i),n)?!1:r&&r.type==="element"&&r.tagName==="col"}function vF(t,e,n){const i=o_(n,e),r=Rt(t,-1);return n&&i&&i.type==="element"&&(i.tagName==="thead"||i.tagName==="tbody")&&vf(i,n.children.indexOf(i),n)?!1:r&&r.type==="element"&&r.tagName==="tr"}const ps={name:[[`	
\f\r &/=>`.split(""),`	
\f\r "&'/=>\``.split("")],[`\0	
\f\r "&'/<=>`.split(""),`\0	
\f\r "&'/<=>\``.split("")]],unquoted:[[`	
\f\r &>`.split(""),`\0	
\f\r "&'<=>\``.split("")],[`\0	
\f\r "&'<=>\``.split(""),`\0	
\f\r "&'<=>\``.split("")]],single:[["&'".split(""),"\"&'`".split("")],["\0&'".split(""),"\0\"&'`".split("")]],double:[['"&'.split(""),"\"&'`".split("")],['\0"&'.split(""),"\0\"&'`".split("")]]};function SF(t,e,n,i){const r=i.schema,o=r.space==="svg"?!1:i.settings.omitOptionalTags;let a=r.space==="svg"?i.settings.closeEmptyElements:i.settings.voids.includes(t.tagName.toLowerCase());const s=[];let l;r.space==="html"&&t.tagName==="svg"&&(i.schema=i_);const c=TF(i,t.properties),u=i.all(r.space==="html"&&t.tagName==="template"?t.content:t);return i.schema=r,u&&(a=!1),(c||!o||!bF(t,e,n))&&(s.push("<",t.tagName,c?" "+c:""),a&&(r.space==="svg"||i.settings.closeSelfClosing)&&(l=c.charAt(c.length-1),(!i.settings.tightSelfClosing||l==="/"||l&&l!=='"'&&l!=="'")&&s.push(" "),s.push("/")),s.push(">")),s.push(u),!a&&(!o||!vf(t,e,n))&&s.push("</"+t.tagName+">"),s.join("")}function TF(t,e){const n=[];let i=-1,r;if(e){for(r in e)if(e[r]!==void 0&&e[r]!==null){const o=EF(t,r,e[r]);o&&n.push(o)}}for(;++i<n.length;){const o=t.settings.tightAttributes?n[i].charAt(n[i].length-1):null;i!==n.length-1&&o!=='"'&&o!=="'"&&(n[i]+=" ")}return n.join("")}function EF(t,e,n){const i=j3(t.schema,e),r=t.settings.allowParseErrors&&t.schema.space==="html"?0:1,o=t.settings.allowDangerousCharacters?0:1;let a=t.quote,s;if(i.overloadedBoolean&&(n===i.attribute||n==="")?n=!0:(i.boolean||i.overloadedBoolean&&typeof n!="string")&&(n=!!n),n==null||n===!1||typeof n=="number"&&Number.isNaN(n))return"";const l=br(i.attribute,Object.assign({},t.settings.characterReferences,{subset:ps.name[r][o]}));return n===!0||(n=Array.isArray(n)?(i.commaSeparated?iF:rF)(n,{padLeft:!t.settings.tightCommaSeparatedLists}):String(n),t.settings.collapseEmptyAttributes&&!n)?l:(t.settings.preferUnquoted&&(s=br(n,Object.assign({},t.settings.characterReferences,{subset:ps.unquoted[r][o],attribute:!0}))),s!==n&&(t.settings.quoteSmart&&Xm(n,a)>Xm(n,t.alternative)&&(a=t.alternative),s=a+br(n,Object.assign({},t.settings.characterReferences,{subset:(a==="'"?ps.single:ps.double)[r][o],attribute:!0}))+a),l+(s&&"="+s))}function l_(t,e,n,i){return n&&n.type==="element"&&(n.tagName==="script"||n.tagName==="style")?t.value:br(t.value,Object.assign({},i.settings.characterReferences,{subset:["<","&"]}))}function AF(t,e,n,i){return i.settings.allowDangerousHtml?t.value:l_(t,e,n,i)}function BF(t,e,n,i){return i.all(t)}const LF=V3("type",{invalid:FF,unknown:OF,handlers:{comment:eF,doctype:nF,element:SF,raw:AF,root:BF,text:l_}});function FF(t){throw new Error("Expected node, not `"+t+"`")}function OF(t){throw new Error("Cannot compile unknown node `"+t.type+"`")}function IF(t,e){const n=e||{},i=n.quote||'"',r=i==='"'?"'":'"';if(i!=='"'&&i!=="'")throw new Error("Invalid quote `"+i+"`, expected `'` or `\"`");return{one:MF,all:DF,settings:{omitOptionalTags:n.omitOptionalTags||!1,allowParseErrors:n.allowParseErrors||!1,allowDangerousCharacters:n.allowDangerousCharacters||!1,quoteSmart:n.quoteSmart||!1,preferUnquoted:n.preferUnquoted||!1,tightAttributes:n.tightAttributes||!1,upperDoctype:n.upperDoctype||!1,tightDoctype:n.tightDoctype||!1,bogusComments:n.bogusComments||!1,tightCommaSeparatedLists:n.tightCommaSeparatedLists||!1,tightSelfClosing:n.tightSelfClosing||!1,collapseEmptyAttributes:n.collapseEmptyAttributes||!1,allowDangerousHtml:n.allowDangerousHtml||!1,voids:n.voids||U3,characterReferences:n.characterReferences||n.entities||{},closeSelfClosing:n.closeSelfClosing||!1,closeEmptyElements:n.closeEmptyElements||!1},schema:n.space==="svg"?i_:W3,quote:i,alternative:r}.one(Array.isArray(t)?{type:"root",children:t}:t,void 0,void 0)}function MF(t,e,n){return LF(t,e,n,this)}function DF(t){const e=[],n=t&&t.children||[];let i=-1;for(;++i<n.length;)e[i]=this.one(n[i],i,t);return e.join("")}const NF={strip:["script"],clobberPrefix:"user-content-",clobber:["name","id"],ancestors:{tbody:["table"],tfoot:["table"],thead:["table"],td:["table"],th:["table"],tr:["table"]},protocols:{href:["http","https","mailto","xmpp","irc","ircs"],cite:["http","https"],src:["http","https"],longDesc:["http","https"]},tagNames:["h1","h2","h3","h4","h5","h6","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details","caption","figure","figcaption","abbr","bdo","cite","dfn","mark","small","span","time","wbr","input"],attributes:{a:["href"],img:["src","longDesc"],input:[["type","checkbox"],["disabled",!0]],li:[["className","task-list-item"]],div:["itemScope","itemType"],blockquote:["cite"],del:["cite"],ins:["cite"],q:["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","ariaDescribedBy","ariaHidden","ariaLabel","ariaLabelledBy","axis","border","cellPadding","cellSpacing","char","charOff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hSpace","isMap","id","label","lang","maxLength","media","method","multiple","name","noHref","noShade","noWrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","vAlign","value","vSpace","width","itemProp"]},required:{input:{type:"checkbox",disabled:!0}}},sn={}.hasOwnProperty,uh={root:{children:Jm},doctype:zF,comment:RF,element:{tagName:u_,properties:$F,children:Jm},text:{value:HF},"*":{data:Zm,position:Zm}};function PF(t,e){let n={type:"root",children:[]};if(t&&typeof t=="object"&&t.type){const i=c_(Object.assign({},NF,e||{}),t,[]);i&&(Array.isArray(i)?i.length===1?n=i[0]:n.children=i:n=i)}return n}function c_(t,e,n){const i=e&&e.type,r={type:e.type};let o;if(sn.call(uh,i)){let a=uh[i];if(typeof a=="function"&&(a=a(t,e)),a){const s=Object.assign({},a,uh["*"]);let l;o=!0;for(l in s)if(sn.call(s,l)){const c=s[l](t,e[l],e,n);c===!1?(o=void 0,r[l]=e[l]):c!=null&&(r[l]=c)}}}return o?r:r.type==="element"&&t.strip&&!t.strip.includes(r.tagName)?r.children:void 0}function Jm(t,e,n,i){const r=[];if(Array.isArray(e)){let o=-1;for(n.type==="element"&&i.push(n.tagName);++o<e.length;){const a=c_(t,e[o],i);a&&(Array.isArray(a)?r.push(...a):r.push(a))}n.type==="element"&&i.pop()}return r}function zF(t){return t.allowDoctypes?{name:jF}:void 0}function RF(t){return t.allowComments?{value:qF}:void 0}function $F(t,e,n,i){const r=u_(t,n.tagName,n,i),o=t.attributes||{},a=t.required||{},s=e||{},l=Object.assign({},tg(o["*"]),tg(r&&sn.call(o,r)?o[r]:[])),c={};let u;for(u in s)if(sn.call(s,u)){let h=s[u],g;if(sn.call(l,u))g=l[u];else if(VF(u)&&sn.call(l,"data*"))g=l["data*"];else continue;h=Array.isArray(h)?WF(t,h,u,g):h_(t,h,u,g),h!=null&&(c[u]=h)}if(r&&sn.call(a,r))for(u in a[r])sn.call(c,u)||(c[u]=a[r][u]);return c}function jF(){return"html"}function u_(t,e,n,i){const r=typeof e=="string"?e:"";let o=-1;if(!r||r==="*"||t.tagNames&&!t.tagNames.includes(r))return!1;if(t.ancestors&&sn.call(t.ancestors,r)){for(;++o<t.ancestors[r].length;)if(i.includes(t.ancestors[r][o]))return r;return!1}return r}function qF(t,e){const n=typeof e=="string"?e:"",i=n.indexOf("-->");return i<0?n:n.slice(0,i)}function HF(t,e){return typeof e=="string"?e:""}function Zm(t,e){return e}function WF(t,e,n,i){let r=-1;const o=[];for(;++r<e.length;){const a=h_(t,e[r],n,i);a!=null&&o.push(a)}return o}function h_(t,e,n,i){if((typeof e=="boolean"||typeof e=="number"||typeof e=="string")&&UF(t,e,n)&&(i.length===0||i.some(r=>r&&typeof r=="object"&&"flags"in r?r.test(String(e)):r===e)))return t.clobberPrefix&&t.clobber&&t.clobber.includes(n)?t.clobberPrefix+e:e}function UF(t,e,n){const i=String(e),r=i.indexOf(":"),o=i.indexOf("?"),a=i.indexOf("#"),s=i.indexOf("/"),l=t.protocols&&sn.call(t.protocols,n)?t.protocols[n].concat():[];let c=-1;if(l.length===0||r<0||s>-1&&r>s||o>-1&&r>o||a>-1&&r>a)return!0;for(;++c<l.length;)if(r===l[c].length&&i.slice(0,l[c].length)===l[c])return!0;return!1}function tg(t){const e={};let n=-1;for(;++n<t.length;){const i=t[n];Array.isArray(i)?e[i[0]]=i.slice(1):e[i]=[]}return e}function VF(t){return t.length>4&&t.slice(0,4).toLowerCase()==="data"}function GF(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function YF(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function XF(t,e){const n=e.value?e.value+`
`:"",i=e.lang?e.lang.match(/^[^ \t]+(?=[ \t]|$)/):null,r={};i&&(r.className=["language-"+i]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(o.data={meta:e.meta}),t.patch(e,o),o=t.applyData(e,o),o={type:"element",tagName:"pre",properties:{},children:[o]},t.patch(e,o),o}function QF(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function KF(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function Fr(t){const e=[];let n=-1,i=0,r=0;for(;++n<t.length;){const o=t.charCodeAt(n);let a="";if(o===37&&ve(t.charCodeAt(n+1))&&ve(t.charCodeAt(n+2)))r=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(a=String.fromCharCode(o));else if(o>55295&&o<57344){const s=t.charCodeAt(n+1);o<56320&&s>56319&&s<57344?(a=String.fromCharCode(o,s),r=1):a="�"}else a=String.fromCharCode(o);a&&(e.push(t.slice(i,n),encodeURIComponent(a)),i=n+r+1,a=""),r&&(n+=r,r=0)}return e.join("")+t.slice(i)}function f_(t,e){const n=String(e.identifier).toUpperCase(),i=Fr(n.toLowerCase()),r=t.footnoteOrder.indexOf(n);let o;r===-1?(t.footnoteOrder.push(n),t.footnoteCounts[n]=1,o=t.footnoteOrder.length):(t.footnoteCounts[n]++,o=r+1);const a=t.footnoteCounts[n],s={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fn-"+i,id:t.clobberPrefix+"fnref-"+i+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};t.patch(e,s);const l={type:"element",tagName:"sup",properties:{},children:[s]};return t.patch(e,l),t.applyData(e,l)}function JF(t,e){const n=t.footnoteById;let i=1;for(;i in n;)i++;const r=String(i);return n[r]={type:"footnoteDefinition",identifier:r,children:[{type:"paragraph",children:e.children}],position:e.position},f_(t,{type:"footnoteReference",identifier:r,position:e.position})}function ZF(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function t5(t,e){if(t.dangerous){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}return null}function p_(t,e){const n=e.referenceType;let i="]";if(n==="collapsed"?i+="[]":n==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return{type:"text",value:"!["+e.alt+i};const r=t.all(e),o=r[0];o&&o.type==="text"?o.value="["+o.value:r.unshift({type:"text",value:"["});const a=r[r.length-1];return a&&a.type==="text"?a.value+=i:r.push({type:"text",value:i}),r}function e5(t,e){const n=t.definition(e.identifier);if(!n)return p_(t,e);const i={src:Fr(n.url||""),alt:e.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const r={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,r),t.applyData(e,r)}function n5(t,e){const n={src:Fr(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,i),t.applyData(e,i)}function i5(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const i={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,i),t.applyData(e,i)}function r5(t,e){const n=t.definition(e.identifier);if(!n)return p_(t,e);const i={href:Fr(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const r={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function o5(t,e){const n={href:Fr(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const i={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,i),t.applyData(e,i)}function a5(t,e,n){const i=t.all(e),r=n?s5(n):d_(e),o={},a=[];if(typeof e.checked=="boolean"){const u=i[0];let h;u&&u.type==="element"&&u.tagName==="p"?h=u:(h={type:"element",tagName:"p",properties:{},children:[]},i.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let s=-1;for(;++s<i.length;){const u=i[s];(r||s!==0||u.type!=="element"||u.tagName!=="p")&&a.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!r?a.push(...u.children):a.push(u)}const l=i[i.length-1];l&&(r||l.type!=="element"||l.tagName!=="p")&&a.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:a};return t.patch(e,c),t.applyData(e,c)}function s5(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let i=-1;for(;!e&&++i<n.length;)e=d_(n[i])}return e}function d_(t){const e=t.spread;return e??t.children.length>1}function l5(t,e){const n={},i=t.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++r<i.length;){const a=i[r];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(i,!0)};return t.patch(e,o),t.applyData(e,o)}function c5(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function u5(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function h5(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const Sf=m_("start"),Tf=m_("end");function f5(t){return{start:Sf(t),end:Tf(t)}}function m_(t){return e;function e(n){const i=n&&n.position&&n.position[t]||{};return{line:i.line||null,column:i.column||null,offset:i.offset>-1?i.offset:null}}}function p5(t,e){const n=t.all(e),i=n.shift(),r=[];if(i){const a={type:"element",tagName:"thead",properties:{},children:t.wrap([i],!0)};t.patch(e.children[0],a),r.push(a)}if(n.length>0){const a={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},s=Sf(e.children[1]),l=Tf(e.children[e.children.length-1]);s.line&&l.line&&(a.position={start:s,end:l}),r.push(a)}const o={type:"element",tagName:"table",properties:{},children:t.wrap(r,!0)};return t.patch(e,o),t.applyData(e,o)}function d5(t,e,n){const i=n?n.children:void 0,o=(i?i.indexOf(e):1)===0?"th":"td",a=n&&n.type==="table"?n.align:void 0,s=a?a.length:e.children.length;let l=-1;const c=[];for(;++l<s;){const h=e.children[l],g={},m=a?a[l]:void 0;m&&(g.align=m);let b={type:"element",tagName:o,properties:g,children:[]};h&&(b.children=t.all(h),t.patch(h,b),b=t.applyData(e,b)),c.push(b)}const u={type:"element",tagName:"tr",properties:{},children:t.wrap(c,!0)};return t.patch(e,u),t.applyData(e,u)}function m5(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const eg=9,ng=32;function g5(t){const e=String(t),n=/\r?\n|\r/g;let i=n.exec(e),r=0;const o=[];for(;i;)o.push(ig(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=n.exec(e);return o.push(ig(e.slice(r),r>0,!1)),o.join("")}function ig(t,e,n){let i=0,r=t.length;if(e){let o=t.codePointAt(i);for(;o===eg||o===ng;)i++,o=t.codePointAt(i)}if(n){let o=t.codePointAt(r-1);for(;o===eg||o===ng;)r--,o=t.codePointAt(r-1)}return r>i?t.slice(i,r):""}function y5(t,e){const n={type:"text",value:g5(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function _5(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const b5={blockquote:GF,break:YF,code:XF,delete:QF,emphasis:KF,footnoteReference:f_,footnote:JF,heading:ZF,html:t5,imageReference:e5,image:n5,inlineCode:i5,linkReference:r5,link:o5,listItem:a5,list:l5,paragraph:c5,root:u5,strong:h5,table:p5,tableCell:m5,tableRow:d5,text:y5,thematicBreak:_5,toml:ds,yaml:ds,definition:ds,footnoteDefinition:ds};function ds(){return null}const g_=function(t){if(t==null)return w5;if(typeof t=="string")return C5(t);if(typeof t=="object")return Array.isArray(t)?x5(t):k5(t);if(typeof t=="function")return bl(t);throw new Error("Expected function, string, or object as test")};function x5(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=g_(t[n]);return bl(i);function i(...r){let o=-1;for(;++o<e.length;)if(e[o].call(this,...r))return!0;return!1}}function k5(t){return bl(e);function e(n){let i;for(i in t)if(n[i]!==t[i])return!1;return!0}}function C5(t){return bl(e);function e(n){return n&&n.type===t}}function bl(t){return e;function e(n,...i){return!!(n&&typeof n=="object"&&"type"in n&&t.call(this,n,...i))}}function w5(){return!0}const v5=!0,rg=!1,S5="skip",T5=function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null);const r=g_(e),o=i?-1:1;a(t,void 0,[])();function a(s,l,c){const u=s&&typeof s=="object"?s:{};if(typeof u.type=="string"){const g=typeof u.tagName=="string"?u.tagName:typeof u.name=="string"?u.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(s.type+(g?"<"+g+">":""))+")"})}return h;function h(){let g=[],m,b,B;if((!e||r(s,l,c[c.length-1]||null))&&(g=E5(n(s,c)),g[0]===rg))return g;if(s.children&&g[0]!==S5)for(b=(i?s.children.length:-1)+o,B=c.concat(s);b>-1&&b<s.children.length;){if(m=a(s.children[b],b,B)(),m[0]===rg)return m;b=typeof m[1]=="number"?m[1]:b+o}return g}}};function E5(t){return Array.isArray(t)?t:typeof t=="number"?[v5,t]:[t]}const y_=function(t,e,n,i){typeof e=="function"&&typeof n!="function"&&(i=n,n=e,e=null),T5(t,e,r,i);function r(o,a){const s=a[a.length-1];return n(o,s?s.children.indexOf(o):null,s)}};function A5(t){return!t||!t.position||!t.position.start||!t.position.start.line||!t.position.start.column||!t.position.end||!t.position.end.line||!t.position.end.column}const og={}.hasOwnProperty;function B5(t){const e=Object.create(null);if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return y_(t,"definition",i=>{const r=ag(i.identifier);r&&!og.call(e,r)&&(e[r]=i)}),n;function n(i){const r=ag(i);return r&&og.call(e,r)?e[r]:null}}function ag(t){return String(t||"").toUpperCase()}const tl={}.hasOwnProperty;function L5(t,e){const n=e||{},i=n.allowDangerousHtml||!1,r={};return a.dangerous=i,a.clobberPrefix=n.clobberPrefix===void 0||n.clobberPrefix===null?"user-content-":n.clobberPrefix,a.footnoteLabel=n.footnoteLabel||"Footnotes",a.footnoteLabelTagName=n.footnoteLabelTagName||"h2",a.footnoteLabelProperties=n.footnoteLabelProperties||{className:["sr-only"]},a.footnoteBackLabel=n.footnoteBackLabel||"Back to content",a.unknownHandler=n.unknownHandler,a.passThrough=n.passThrough,a.handlers={...b5,...n.handlers},a.definition=B5(t),a.footnoteById=r,a.footnoteOrder=[],a.footnoteCounts={},a.patch=F5,a.applyData=O5,a.one=s,a.all=l,a.wrap=M5,a.augment=o,y_(t,"footnoteDefinition",c=>{const u=String(c.identifier).toUpperCase();tl.call(r,u)||(r[u]=c)}),a;function o(c,u){if(c&&"data"in c&&c.data){const h=c.data;h.hName&&(u.type!=="element"&&(u={type:"element",tagName:"",properties:{},children:[]}),u.tagName=h.hName),u.type==="element"&&h.hProperties&&(u.properties={...u.properties,...h.hProperties}),"children"in u&&u.children&&h.hChildren&&(u.children=h.hChildren)}if(c){const h="type"in c?c:{position:c};A5(h)||(u.position={start:Sf(h),end:Tf(h)})}return u}function a(c,u,h,g){return Array.isArray(h)&&(g=h,h={}),o(c,{type:"element",tagName:u,properties:h||{},children:g||[]})}function s(c,u){return __(a,c,u)}function l(c){return Ef(a,c)}}function F5(t,e){t.position&&(e.position=f5(t))}function O5(t,e){let n=e;if(t&&t.data){const i=t.data.hName,r=t.data.hChildren,o=t.data.hProperties;typeof i=="string"&&(n.type==="element"?n.tagName=i:n={type:"element",tagName:i,properties:{},children:[]}),n.type==="element"&&o&&(n.properties={...n.properties,...o}),"children"in n&&n.children&&r!==null&&r!==void 0&&(n.children=r)}return n}function __(t,e,n){const i=e&&e.type;if(!i)throw new Error("Expected node, got `"+e+"`");return tl.call(t.handlers,i)?t.handlers[i](t,e,n):t.passThrough&&t.passThrough.includes(i)?"children"in e?{...e,children:Ef(t,e)}:e:t.unknownHandler?t.unknownHandler(t,e,n):I5(t,e)}function Ef(t,e){const n=[];if("children"in e){const i=e.children;let r=-1;for(;++r<i.length;){const o=__(t,i[r],e);if(o){if(r&&i[r-1].type==="break"&&(!Array.isArray(o)&&o.type==="text"&&(o.value=o.value.replace(/^\s+/,"")),!Array.isArray(o)&&o.type==="element")){const a=o.children[0];a&&a.type==="text"&&(a.value=a.value.replace(/^\s+/,""))}Array.isArray(o)?n.push(...o):n.push(o)}}}return n}function I5(t,e){const n=e.data||{},i="value"in e&&!(tl.call(n,"hProperties")||tl.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:Ef(t,e)};return t.patch(e,i),t.applyData(e,i)}function M5(t,e){const n=[];let i=-1;for(e&&n.push({type:"text",value:`
`});++i<t.length;)i&&n.push({type:"text",value:`
`}),n.push(t[i]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function D5(t){const e=[];let n=-1;for(;++n<t.footnoteOrder.length;){const i=t.footnoteById[t.footnoteOrder[n]];if(!i)continue;const r=t.all(i),o=String(i.identifier).toUpperCase(),a=Fr(o.toLowerCase());let s=0;const l=[];for(;++s<=t.footnoteCounts[o];){const h={type:"element",tagName:"a",properties:{href:"#"+t.clobberPrefix+"fnref-"+a+(s>1?"-"+s:""),dataFootnoteBackref:!0,className:["data-footnote-backref"],ariaLabel:t.footnoteBackLabel},children:[{type:"text",value:"↩"}]};s>1&&h.children.push({type:"element",tagName:"sup",children:[{type:"text",value:String(s)}]}),l.length>0&&l.push({type:"text",value:" "}),l.push(h)}const c=r[r.length-1];if(c&&c.type==="element"&&c.tagName==="p"){const h=c.children[c.children.length-1];h&&h.type==="text"?h.value+=" ":c.children.push({type:"text",value:" "}),c.children.push(...l)}else r.push(...l);const u={type:"element",tagName:"li",properties:{id:t.clobberPrefix+"fn-"+a},children:t.wrap(r,!0)};t.patch(i,u),e.push(u)}if(e.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:t.footnoteLabelTagName,properties:{...JSON.parse(JSON.stringify(t.footnoteLabelProperties)),id:"footnote-label"},children:[{type:"text",value:t.footnoteLabel}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(e,!0)},{type:"text",value:`
`}]}}function N5(t,e){const n=L5(t,e),i=n.one(t,null),r=D5(n);return r&&i.children.push({type:"text",value:`
`},r),Array.isArray(i)?{type:"root",children:i}:i}function P5(t={}){const e={...t};let n;typeof e.sanitize=="boolean"&&(n=e.sanitize,e.sanitize=void 0),typeof n!="boolean"&&(n=!0),Object.assign(this,{Compiler:i});function i(r,o){const a=N5(r,{allowDangerousHtml:!n,handlers:e.handlers}),s=n?PF(a,e.sanitize):a,l=IF(s,Object.assign({},e,{allowDangerousHtml:!n}));return o.extname&&(o.extname=".html"),r&&r.type&&r.type==="root"&&l&&/[^\r\n]/.test(l.charAt(l.length-1))?l+`
`:l}}function sg(t){let e,n;return{c(){e=k("h5"),n=S(t[0])},l(i){e=C(i,"H5",{});var r=w(e);n=T(r,t[0]),r.forEach(d)},m(i,r){I(i,e,r),p(e,n)},p(i,r){r&1&&D_(n,i[0])},d(i){i&&d(e)}}}function z5(t){let e,n,i,r,o,a=t[0]&&sg(t);const s=t[4].default,l=cg(s,t,t[3],null);return{c(){e=k("div"),a&&a.c(),n=H(),i=k("span"),l&&l.c(),this.h()},l(c){e=C(c,"DIV",{class:!0});var u=w(e);a&&a.l(u),n=W(u),i=C(u,"SPAN",{});var h=w(i);l&&l.l(h),h.forEach(d),u.forEach(d),this.h()},h(){D(e,"class",r=`notification ${t[1]}`)},m(c,u){I(c,e,u),a&&a.m(e,null),p(e,n),p(e,i),l&&l.m(i,null),t[5](i),o=!0},p(c,[u]){c[0]?a?a.p(c,u):(a=sg(c),a.c(),a.m(e,n)):a&&(a.d(1),a=null),l&&l.p&&(!o||u&8)&&ug(l,s,c,c[3],o?fg(s,c[3],u,null):hg(c[3]),null),(!o||u&2&&r!==(r=`notification ${c[1]}`))&&D(e,"class",r)},i(c){o||(Io(l,c),o=!0)},o(c){Mo(l,c),o=!1},d(c){c&&d(e),a&&a.d(),l&&l.d(c),t[5](null)}}}function R5(t,e,n){let{$$slots:i={},$$scope:r}=e,{title:o=""}=e,{type:a="is-dark"}=e,s;pg(async()=>{const c=await BB().use(M3).use(P5).process(s.innerHTML);n(2,s.innerHTML=c.value,s)});function l(c){dg[c?"unshift":"push"](()=>{s=c,n(2,s)})}return t.$$set=c=>{"title"in c&&n(0,o=c.title),"type"in c&&n(1,a=c.type),"$$scope"in c&&n(3,r=c.$$scope)},[o,a,s,r,i,l]}class lg extends $h{constructor(e){super(),jh(this,e,R5,z5,qh,{title:0,type:1})}}function $5(t){let e;return{c(){e=S("Check out the [source code](https://github.com/ahopkins/personal-site/tree/main/code/background-job-worker) that accompanies this post.")},l(n){e=T(n,"Check out the [source code](https://github.com/ahopkins/personal-site/tree/main/code/background-job-worker) that accompanies this post.")},m(n,i){I(n,e,i)},d(n){n&&d(e)}}}function j5(t){let e;return{c(){e=S("You should beware that only objects that are safe for sharing with `multiprocessing.Process` should be attached to `app.shared_ctx`. For example, if you attached a regular `dict` object, it's state **will not** be shared across application workers.")},l(n){e=T(n,"You should beware that only objects that are safe for sharing with `multiprocessing.Process` should be attached to `app.shared_ctx`. For example, if you attached a regular `dict` object, it's state **will not** be shared across application workers.")},m(n,i){I(n,e,i)},d(n){n&&d(e)}}}function q5(t){let e;return{c(){e=S(`graph LR
endpoint(Endpoint)-->client[SajeClient]
client-->queue[Queue]
queue-->worker[[Worker]]
worker-->results(Results)`)},l(n){e=T(n,`graph LR
endpoint(Endpoint)-->client[SajeClient]
client-->queue[Queue]
queue-->worker[[Worker]]
worker-->results(Results)`)},m(n,i){I(n,e,i)},d(n){n&&d(e)}}}function H5(t){let e,n,i,r,o,a,s,l,c,u,h,g,m,b,B,M,v,F,P,G,K,E,$,rt,at,dt,j,X,tt,ft,Bt,Ct,pt,wt,Ot,gt,_,y,be,yt,Jt,et,vt,Wt,se,It,Ke,le,Zt,ce,ue,je,Ut,qe,He,Te,Ee,pn,dn,We,xe,te,L,R,Y,st,ht,St,qt,Et,Vt,Ht,mt,ke,Lt,Or,Ir,_t,Je,mn,$i,ui,On,ji,Mr,gn,he,Dr,ee,hi,qi,In,Nr,yn,fe,Ae,Hi,Ze,Mn,Pr,Q,x,N,q,lt,$t,Tt,Ft,Dn,At,Ce,Wi,_n,Ui,ia,bn,xl,Nn,Vi,ra,Be,kl,zr,Cl,wl,fi,Rr,vl,Sl,$r,Tl,El,oa,Pn,Al,pi,Bl,Ll,aa,pe,Fl,jr,Ol,Il,qr,Ml,Dl,Hr,Nl,Pl,Wr,zl,Rl,sa,xn,$l,zn,Gi,la,Yi,jl,ca,Xi,ql,ua,Gt,Ur,Hl,Wl,Vr,Ul,Vl,Gr,Gl,Yl,Yr,Xl,Ql,Xr,Kl,Jl,Qr,Zl,ha,Qi,tc,fa,kn,ec,Rn,Ki,pa,Mt,nc,Kr,ic,rc,Jr,oc,ac,Zr,sc,lc,to,cc,uc,eo,hc,fc,no,pc,dc,io,mc,gc,da,di,b_=`<code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Manager

<span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>main_process_start</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span><span class="token punctuation">)</span>
    app<span class="token punctuation">.</span>shared_ctx<span class="token punctuation">.</span>saje_queue <span class="token operator">=</span> manager<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span></code>`,ma,$n,ga,Le,yc,ro,_c,bc,mi,xc,kc,oo,Cc,wc,ya,gi,x_=`<code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>main_process_ready</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">ready</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>manage<span class="token punctuation">(</span>
        <span class="token string">"SajeWorker"</span><span class="token punctuation">,</span> worker<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">"saje_queue"</span><span class="token punctuation">:</span> app<span class="token punctuation">.</span>shared_ctx<span class="token punctuation">.</span>saje_queue<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span></code>`,_a,de,vc,ao,Sc,Tc,so,Ec,Ac,lo,Bc,Lc,co,Fc,Oc,ba,tn,uo,Ic,Mc,ho,Dc,Nc,fo,Pc,xa,jn,zc,po,Rc,$c,ka,Ji,jc,Ca,yi,k_=`<code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Manager
<span class="token keyword">from</span> sanic <span class="token keyword">import</span> Sanic
<span class="token keyword">from</span> saje<span class="token punctuation">.</span>worker <span class="token keyword">import</span> worker


<span class="token keyword">def</span> <span class="token function">create_saje</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>main_process_start</span>
    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">start</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span><span class="token punctuation">:</span>
        manager <span class="token operator">=</span> Manager<span class="token punctuation">(</span><span class="token punctuation">)</span>
        app<span class="token punctuation">.</span>shared_ctx<span class="token punctuation">.</span>saje_queue <span class="token operator">=</span> manager<span class="token punctuation">.</span>Queue<span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>main_process_ready</span>
    <span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">ready</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span><span class="token punctuation">:</span>
        app<span class="token punctuation">.</span>manager<span class="token punctuation">.</span>manage<span class="token punctuation">(</span>
            <span class="token string">"SajeWorker"</span><span class="token punctuation">,</span> worker<span class="token punctuation">,</span> <span class="token punctuation">&#123;</span><span class="token string">"saje_queue"</span><span class="token punctuation">:</span> app<span class="token punctuation">.</span>shared_ctx<span class="token punctuation">.</span>saje_queue<span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">)</span></code>`,wa,qn,qc,mo,Hc,Wc,va,_i,C_=`<code class="language-python"><span class="token keyword">def</span> <span class="token function">worker</span><span class="token punctuation">(</span>saje_queue<span class="token punctuation">:</span> Queue<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code>`,Sa,Zi,bi,Uc,xi,Vc,Gc,Ta,Cn,Yc,Hn,tr,Ea,Wn,Xc,go,Qc,Kc,Aa,ki,w_=`<code class="language-python"><span class="token keyword">from</span> multiprocessing <span class="token keyword">import</span> Queue
<span class="token keyword">from</span> typing <span class="token keyword">import</span> Any
<span class="token keyword">import</span> ujson


<span class="token keyword">class</span> <span class="token class-name">SajeClient</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> queue<span class="token punctuation">:</span> Queue<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>queue <span class="token operator">=</span> queue

    <span class="token keyword">def</span> <span class="token function">send</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> job_definition<span class="token punctuation">:</span> <span class="token builtin">dict</span><span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">,</span> Any<span class="token punctuation">]</span> <span class="token operator">|</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token boolean">None</span><span class="token punctuation">:</span>
        <span class="token keyword">if</span> <span class="token keyword">not</span> <span class="token builtin">isinstance</span><span class="token punctuation">(</span>job_definition<span class="token punctuation">,</span> <span class="token builtin">str</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            message <span class="token operator">=</span> ujson<span class="token punctuation">.</span>dumps<span class="token punctuation">(</span>job_definition<span class="token punctuation">)</span>
        self<span class="token punctuation">.</span>queue<span class="token punctuation">.</span>put_nowait<span class="token punctuation">(</span>message<span class="token punctuation">)</span></code>`,Ba,Un,Jc,yo,Zc,tu,La,Ci,v_=`<code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>after_server_start</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">setup_saje</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>ctx<span class="token punctuation">.</span>saje <span class="token operator">=</span> SajeClient<span class="token punctuation">(</span>app<span class="token punctuation">.</span>shared_ctx<span class="token punctuation">.</span>saje_queue<span class="token punctuation">)</span></code>`,Fa,Vn,eu,wi,nu,iu,Oa,vi,S_=`<code class="language-python"><span class="token decorator annotation punctuation">@app<span class="token punctuation">.</span>after_server_start</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">setup_saje</span><span class="token punctuation">(</span>app<span class="token punctuation">:</span> Sanic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    app<span class="token punctuation">.</span>ext<span class="token punctuation">.</span>dependency<span class="token punctuation">(</span>SajeClient<span class="token punctuation">(</span>app<span class="token punctuation">.</span>shared_ctx<span class="token punctuation">.</span>saje_queue<span class="token punctuation">)</span><span class="token punctuation">)</span></code>`,Ia,wn,ru,Gn,er,Ma,nr,ou,Da,Si,T_=`<code class="language-python"><span class="token decorator annotation punctuation">@bp<span class="token punctuation">.</span>post</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">)</span>
<span class="token keyword">async</span> <span class="token keyword">def</span> <span class="token function">start_job</span><span class="token punctuation">(</span>request<span class="token punctuation">:</span> Request<span class="token punctuation">,</span> saje<span class="token punctuation">:</span> SajeClient<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">></span> HTTPResponse<span class="token punctuation">:</span>
    uid <span class="token operator">=</span> <span class="token builtin">str</span><span class="token punctuation">(</span>uuid4<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    saje<span class="token punctuation">.</span>send<span class="token punctuation">(</span>
        <span class="token punctuation">&#123;</span>
            <span class="token string">"task"</span><span class="token punctuation">:</span> <span class="token string">"hello"</span><span class="token punctuation">,</span>
            <span class="token string">"uid"</span><span class="token punctuation">:</span> uid<span class="token punctuation">,</span>
            <span class="token string">"kwargs"</span><span class="token punctuation">:</span> <span class="token punctuation">&#123;</span><span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"Adam"</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">)</span>
    <span class="token keyword">return</span> text<span class="token punctuation">(</span>uid<span class="token punctuation">)</span></code>`,Na,ir,au,Pa,Yn,za,vn,su,Xn,rr,Ra,en,lu,_o,cu,uu,Ti,hu,fu,$a,or,pu,ja,ar,du,qa,Fe,bo,mu,gu,xo,yu,_u,ko,bu,xu,Co,ku,Ha,sr,Cu,Wa;return ue=new lg({props:{title:"Source code",$$slots:{default:[$5]},$$scope:{ctx:t}}}),$n=new lg({props:{type:"is-info",$$slots:{default:[j5]},$$scope:{ctx:t}}}),Yn=new fB({props:{$$slots:{default:[q5]},$$scope:{ctx:t}}}),{c(){e=k("h2"),n=S("Table of contents"),i=k("a"),r=k("i"),o=H(),a=k("ul"),s=k("li"),l=k("p"),c=k("a"),u=S("Introduction"),h=H(),g=k("li"),m=k("p"),b=k("a"),B=S("Overview of the concept"),M=H(),v=k("ul"),F=k("li"),P=k("a"),G=S("Background on SAJE"),K=H(),E=k("li"),$=k("a"),rt=S("Solving for this with v22.9 workers"),at=H(),dt=k("li"),j=k("p"),X=k("a"),tt=S("Adding a managed process"),ft=H(),Bt=k("li"),Ct=k("p"),pt=k("a"),wt=S("Sharing the queue to Sanic workers"),Ot=H(),gt=k("li"),_=k("p"),y=k("a"),be=S("Pushing work from an endpoint"),yt=H(),Jt=k("li"),et=k("p"),vt=k("a"),Wt=S("Wrap-up and next steps"),se=H(),It=k("h2"),Ke=S("Introduction"),le=k("a"),Zt=k("i"),ce=H(),Ou(ue.$$.fragment),je=H(),Ut=k("p"),qe=S("In the course of answering support questions for Sanic developers one of the most common questions I am asked relates to processing actions “in the background.” In the course of developing a full-featured application it is highly likely that you will run into this problem at some point."),He=H(),Te=k("blockquote"),Ee=k("p"),pn=k("strong"),dn=S("Problem"),We=S(": Some endpoint accepts input and needs to do some work on it. But, that work is slow and should not block the return of the response. What to do?"),xe=H(),te=k("p"),L=S("It has become rather axiomatic that I answer the question in one of three ways:"),R=H(),Y=k("ol"),st=k("li"),ht=S("link to the "),St=k("a"),qt=S("Background tasks"),Et=S(" section of the Sanic User Guide;"),Vt=H(),Ht=k("li"),mt=S("link to a "),ke=k("a"),Lt=S("presentation I gave"),Or=S(" at PyConIL in 2021; and/or"),Ir=H(),_t=k("li"),Je=S("if the person "),mn=k("a"),$i=S("owns a copy of my book"),ui=S(", refer them to "),On=k("code"),ji=S("Background task processing"),Mr=S(" on page 229."),gn=H(),he=k("p"),Dr=S("When writing the Sanic User Guide, I intentially included "),ee=k("code"),hi=S("Background tasks"),qi=S(" under the "),In=k("code"),Nr=S("Basics"),yn=S(" category because, well, I believe it is a fundamental and important piece of knowledge when building with Sanic. It is a powerful tool for async applications and the concept is precisely what async frameworks like Sanic are built upon."),fe=H(),Ae=k("p"),Hi=S("However, an "),Ze=k("a"),Mn=k("code"),Pr=S("asyncio.Task"),Q=S(" is not always the most appropriate solution. Indeed this is precisely what both the above linked presentation and section in my book discuss. Both attempt to find solutions to answer the question: "),x=k("em"),N=S("what do I do when I need something more powerful?"),q=H(),lt=k("p"),$t=S("In this article, I want to propose another solution using an exciting new feature of "),Tt=k("a"),Ft=S("Sanic v22.9"),Dn=S(": managed processes."),At=H(),Ce=k("h2"),Wi=S("Overview of the concept"),_n=k("a"),Ui=k("i"),ia=H(),bn=k("h3"),xl=S("Background on SAJE"),Nn=k("a"),Vi=k("i"),ra=H(),Be=k("p"),kl=S("In my 2021 talk I proposed a solution that I called: "),zr=k("strong"),Cl=S("SAJE"),wl=S(" (Sanic asynchronous job executor). The idea was to launch a background process that exposed a "),fi=k("a"),Rr=k("code"),vl=S("multiprocessing.Queue"),Sl=S(". From inside of an endpoint we would push data to the queue and let the SAJE process pick it up and assign the work. The endpoint would have return some sort of an identifier. With the results and state of the execution stored "),$r=k("em"),Tl=S("somewhere"),El=S(", we could then fetch information about that job using the identifier."),oa=H(),Pn=k("p"),Al=S("You can view the original source code of SAJE on "),pi=k("a"),Bl=S("GitHub"),Ll=S("."),aa=H(),pe=k("p"),Fl=S("The problem is that the solution proposed there has only limited capabilities. We are inherently limited to using only a single Sanic worker process because it attaches the SAJE runner in "),jr=k("code"),Ol=S("@app.main_process_start"),Il=S(". This means that only the application instance in the main process has access to that queue. In pre-22.9 this is okay "),qr=k("strong"),Ml=S("if"),Dl=S(" you are not using "),Hr=k("code"),Nl=S("auto_reload"),Pl=S(" or more than one (1) worker. This is simply an inherent limitation in how "),Wr=k("code"),zl=S("multiprocessing"),Rl=S(" was implemented in Sanic."),sa=H(),xn=k("h3"),$l=S("Solving for this with v22.9 workers"),zn=k("a"),Gi=k("i"),la=H(),Yi=k("p"),jl=S("The v22.9 update to Sanic overhauled how workers operate. One of the explicit goals was to more easily allow for passing synchronization objects between workers. Another goal was to provide a framework to allow Sanic to manage arbitrary processes. Both of these concepts are what we will rely upon to create a new and improved version of SAJE."),ca=H(),Xi=k("p"),ql=S("In this article, I want to show a pattern for creating a managed process and for interacting with it from inside a Sanic application. To keep things simple, I will largely leverage the existing SAJE code base linked above. Our requirements will be as follows:"),ua=H(),Gt=k("ul"),Ur=k("li"),Hl=S("Sanic must fully manage the startup and graceful shutdown of SAJE"),Wl=H(),Vr=k("li"),Ul=S("an endpoint must be able to submit a set of details to execute a job"),Vl=H(),Gr=k("li"),Gl=S("that endpoint must return an identifier to a specific job"),Yl=H(),Yr=k("li"),Xl=S("the job must be fully executed in a seperate worker process to not interfere with the Sanic request lifecycle"),Ql=H(),Xr=k("li"),Kl=S("details about the task execution must be persisted somewhere (for now, we will use a flat file backend)"),Jl=H(),Qr=k("li"),Zl=S("another endpoint must be able to retrieve details while the job is in progress and after its completion"),ha=H(),Qi=k("p"),tc=S("Essentially, we will be creating a miniature celery-like application inside of Sanic."),fa=H(),kn=k("h2"),ec=S("Adding a managed process"),Rn=k("a"),Ki=k("i"),pa=H(),Mt=k("p"),nc=S("To begin, we will create a "),Kr=k("code"),ic=S("Queue"),rc=S(" that will be shared across the Sanic workers and the SAJE workers. This "),Jr=k("code"),oc=S("Queue"),ac=S(" will be the tool by which Sanic and SAJE communicate with one another. Sanic allows us to share objects meant to be used in multiple processes (like a "),Zr=k("code"),sc=S("Queue"),lc=S(") by attaching them to "),to=k("code"),cc=S("app.shared_ctx"),uc=S(". The catch is that this "),eo=k("em"),hc=S("MUST"),fc=S(" happen in the "),no=k("code"),pc=S("@app.main_process_start"),dc=S(" listener. This is the only time you should ever attach anything to "),io=k("code"),mc=S("app.shared_ctx"),gc=S("."),da=H(),di=k("pre"),ma=H(),Ou($n.$$.fragment),ga=H(),Le=k("p"),yc=S("Once the "),ro=k("code"),_c=S("Queue"),bc=S(" is setup, we can tell Sanic to "),mi=k("a"),xc=S("manage a custom process"),kc=S(". This also must be done at a very specific time: the "),oo=k("code"),Cc=S("@app.main_process_ready"),wc=S(" listener."),ya=H(),gi=k("pre"),_a=H(),de=k("p"),vc=S("As you can see, we are working with "),ao=k("code"),Sc=S("app.manager"),Tc=S(". This is a special object that is only available in the main process, and only "),so=k("em"),Ec=S("after"),Ac=H(),lo=k("code"),Bc=S("main_process_start"),Lc=S(" has happened. That is why we can only attach a managed process in "),co=k("code"),Fc=S("main_process_ready"),Oc=S(". The arguments are fairly simple:"),ba=H(),tn=k("ul"),uo=k("li"),Ic=S("a name for the process,"),Mc=H(),ho=k("li"),Dc=S("a callable that will be the target function of the subprocess, and"),Nc=H(),fo=k("li"),Pc=S("keyword arguments for the subprocess."),xa=H(),jn=k("p"),zc=S("In our instance, the keyword arguments with be the shared "),po=k("code"),Rc=S("Queue"),$c=S(" that we just setup."),ka=H(),Ji=k("p"),jc=S("Let’s see it all together:"),Ca=H(),yi=k("pre"),wa=H(),qn=k("p"),qc=S("For now, don’t worry too much about what "),mo=k("code"),Hc=S("worker"),Wc=S(" is. All you need to care about right now is that it is a function that roughly lookes like this:"),va=H(),_i=k("pre"),Sa=H(),Zi=k("p"),bi=k("em"),Uc=S("Feel free to jump to the "),xi=k("a"),Vc=S("source code"),Gc=S(" to see it in full."),Ta=H(),Cn=k("h2"),Yc=S("Sharing the queue to Sanic workers"),Hn=k("a"),tr=k("i"),Ea=H(),Wn=k("p"),Xc=S("Since the "),go=k("code"),Qc=S("Queue"),Kc=S(" will be the main conduit for triggering work, we need some sort of client that will be available to the Sanic workers."),Aa=H(),ki=k("pre"),Ba=H(),Un=k("p"),Jc=S("The client has one job: pushing a request to execute a job to the "),yo=k("code"),Zc=S("Queue"),tu=S(". Now all we need to do is instantiate it."),La=H(),Ci=k("pre"),Fa=H(),Vn=k("p"),eu=S("We could leave it like that of course, but let’s use some "),wi=k("a"),nu=S("dependency injection"),iu=S(" to make the experience smoother down the road."),Oa=H(),vi=k("pre"),Ia=H(),wn=k("h2"),ru=S("Pushing work from an endpoint"),Gn=k("a"),er=k("i"),Ma=H(),nr=k("p"),ou=S("We should be ready now to start an actual job from an endpoint. Because we used dependency injection in the previous step, our endpoint can request for the client as seen here:"),Da=H(),Si=k("pre"),Na=H(),ir=k("p"),au=S("That’s it. Now when we hit that endpoint and the flow will look something like this:"),Pa=H(),Ou(Yn.$$.fragment),za=H(),vn=k("h2"),su=S("Wrap-up and next steps"),Xn=k("a"),rr=k("i"),Ra=H(),en=k("p"),lu=S("There obviously are a lot of steps here that I glossed over. The "),_o=k("code"),cu=S("worker"),uu=S(" function mentioned above for example. I suggest you take a look at the content in the "),Ti=k("a"),hu=S("source code"),fu=S(" to see how that works."),$a=H(),or=k("p"),pu=S("Our goal here was to examine how to use the new worker manager feature in Sanic to coordinate the sharing of data from worker processes to a custom background process. Obviously, a secondary hope was to show how you could build out a robust platform to handle your own background processing needs entirely within Sanic."),ja=H(),ar=k("p"),du=S("If I were to try to make this production ready, the things you would want to focus upon are:"),qa=H(),Fe=k("ul"),bo=k("li"),mu=S("ensuring a more robust data store"),gu=H(),xo=k("li"),yu=S("scaling out the job workers (a new API for this is coming in v22.12, but you can do it in v22.9)"),_u=H(),ko=k("li"),bu=S("fault tolerance"),xu=H(),Co=k("li"),ku=S("abstracting tools for making single and multi-stage task operations"),Ha=H(),sr=k("p"),Cu=S("Armed with this information, I hope you are now excited for what could be possible."),this.h()},l(f){e=C(f,"H2",{class:!0,id:!0});var O=w(e);n=T(O,"Table of contents"),i=C(O,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var wo=w(i);r=C(wo,"I",{class:!0,"aria-hidden":!0}),w(r).forEach(d),wo.forEach(d),O.forEach(d),o=W(f),a=C(f,"UL",{});var ne=w(a);s=C(ne,"LI",{});var vo=w(s);l=C(vo,"P",{});var Af=w(l);c=C(Af,"A",{href:!0});var Bf=w(c);u=T(Bf,"Introduction"),Bf.forEach(d),Af.forEach(d),vo.forEach(d),h=W(ne),g=C(ne,"LI",{});var Ua=w(g);m=C(Ua,"P",{});var Lf=w(m);b=C(Lf,"A",{href:!0});var Ff=w(b);B=T(Ff,"Overview of the concept"),Ff.forEach(d),Lf.forEach(d),M=W(Ua),v=C(Ua,"UL",{});var Va=w(v);F=C(Va,"LI",{});var Of=w(F);P=C(Of,"A",{href:!0});var If=w(P);G=T(If,"Background on SAJE"),If.forEach(d),Of.forEach(d),K=W(Va),E=C(Va,"LI",{});var Mf=w(E);$=C(Mf,"A",{href:!0});var Df=w($);rt=T(Df,"Solving for this with v22.9 workers"),Df.forEach(d),Mf.forEach(d),Va.forEach(d),Ua.forEach(d),at=W(ne),dt=C(ne,"LI",{});var Nf=w(dt);j=C(Nf,"P",{});var Pf=w(j);X=C(Pf,"A",{href:!0});var zf=w(X);tt=T(zf,"Adding a managed process"),zf.forEach(d),Pf.forEach(d),Nf.forEach(d),ft=W(ne),Bt=C(ne,"LI",{});var Rf=w(Bt);Ct=C(Rf,"P",{});var $f=w(Ct);pt=C($f,"A",{href:!0});var jf=w(pt);wt=T(jf,"Sharing the queue to Sanic workers"),jf.forEach(d),$f.forEach(d),Rf.forEach(d),Ot=W(ne),gt=C(ne,"LI",{});var qf=w(gt);_=C(qf,"P",{});var Hf=w(_);y=C(Hf,"A",{href:!0});var Wf=w(y);be=T(Wf,"Pushing work from an endpoint"),Wf.forEach(d),Hf.forEach(d),qf.forEach(d),yt=W(ne),Jt=C(ne,"LI",{});var Uf=w(Jt);et=C(Uf,"P",{});var Vf=w(et);vt=C(Vf,"A",{href:!0});var Gf=w(vt);Wt=T(Gf,"Wrap-up and next steps"),Gf.forEach(d),Vf.forEach(d),Uf.forEach(d),ne.forEach(d),se=W(f),It=C(f,"H2",{class:!0,id:!0});var wu=w(It);Ke=T(wu,"Introduction"),le=C(wu,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Yf=w(le);Zt=C(Yf,"I",{class:!0,"aria-hidden":!0}),w(Zt).forEach(d),Yf.forEach(d),wu.forEach(d),ce=W(f),Iu(ue.$$.fragment,f),je=W(f),Ut=C(f,"P",{});var Xf=w(Ut);qe=T(Xf,"In the course of answering support questions for Sanic developers one of the most common questions I am asked relates to processing actions “in the background.” In the course of developing a full-featured application it is highly likely that you will run into this problem at some point."),Xf.forEach(d),He=W(f),Te=C(f,"BLOCKQUOTE",{});var Qf=w(Te);Ee=C(Qf,"P",{});var vu=w(Ee);pn=C(vu,"STRONG",{});var Kf=w(pn);dn=T(Kf,"Problem"),Kf.forEach(d),We=T(vu,": Some endpoint accepts input and needs to do some work on it. But, that work is slow and should not block the return of the response. What to do?"),vu.forEach(d),Qf.forEach(d),xe=W(f),te=C(f,"P",{});var Jf=w(te);L=T(Jf,"It has become rather axiomatic that I answer the question in one of three ways:"),Jf.forEach(d),R=W(f),Y=C(f,"OL",{});var lr=w(Y);st=C(lr,"LI",{});var Ga=w(st);ht=T(Ga,"link to the "),St=C(Ga,"A",{href:!0,rel:!0});var Zf=w(St);qt=T(Zf,"Background tasks"),Zf.forEach(d),Et=T(Ga," section of the Sanic User Guide;"),Ga.forEach(d),Vt=W(lr),Ht=C(lr,"LI",{});var Ya=w(Ht);mt=T(Ya,"link to a "),ke=C(Ya,"A",{href:!0,rel:!0});var tp=w(ke);Lt=T(tp,"presentation I gave"),tp.forEach(d),Or=T(Ya," at PyConIL in 2021; and/or"),Ya.forEach(d),Ir=W(lr),_t=C(lr,"LI",{});var cr=w(_t);Je=T(cr,"if the person "),mn=C(cr,"A",{href:!0,rel:!0});var ep=w(mn);$i=T(ep,"owns a copy of my book"),ep.forEach(d),ui=T(cr,", refer them to "),On=C(cr,"CODE",{});var np=w(On);ji=T(np,"Background task processing"),np.forEach(d),Mr=T(cr," on page 229."),cr.forEach(d),lr.forEach(d),gn=W(f),he=C(f,"P",{});var ur=w(he);Dr=T(ur,"When writing the Sanic User Guide, I intentially included "),ee=C(ur,"CODE",{});var ip=w(ee);hi=T(ip,"Background tasks"),ip.forEach(d),qi=T(ur," under the "),In=C(ur,"CODE",{});var rp=w(In);Nr=T(rp,"Basics"),rp.forEach(d),yn=T(ur," category because, well, I believe it is a fundamental and important piece of knowledge when building with Sanic. It is a powerful tool for async applications and the concept is precisely what async frameworks like Sanic are built upon."),ur.forEach(d),fe=W(f),Ae=C(f,"P",{});var So=w(Ae);Hi=T(So,"However, an "),Ze=C(So,"A",{href:!0,rel:!0});var op=w(Ze);Mn=C(op,"CODE",{});var ap=w(Mn);Pr=T(ap,"asyncio.Task"),ap.forEach(d),op.forEach(d),Q=T(So," is not always the most appropriate solution. Indeed this is precisely what both the above linked presentation and section in my book discuss. Both attempt to find solutions to answer the question: "),x=C(So,"EM",{});var sp=w(x);N=T(sp,"what do I do when I need something more powerful?"),sp.forEach(d),So.forEach(d),q=W(f),lt=C(f,"P",{});var Xa=w(lt);$t=T(Xa,"In this article, I want to propose another solution using an exciting new feature of "),Tt=C(Xa,"A",{href:!0,rel:!0});var lp=w(Tt);Ft=T(lp,"Sanic v22.9"),lp.forEach(d),Dn=T(Xa,": managed processes."),Xa.forEach(d),At=W(f),Ce=C(f,"H2",{class:!0,id:!0});var Su=w(Ce);Wi=T(Su,"Overview of the concept"),_n=C(Su,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var cp=w(_n);Ui=C(cp,"I",{class:!0,"aria-hidden":!0}),w(Ui).forEach(d),cp.forEach(d),Su.forEach(d),ia=W(f),bn=C(f,"H3",{class:!0,id:!0});var Tu=w(bn);xl=T(Tu,"Background on SAJE"),Nn=C(Tu,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var up=w(Nn);Vi=C(up,"I",{class:!0,"aria-hidden":!0}),w(Vi).forEach(d),up.forEach(d),Tu.forEach(d),ra=W(f),Be=C(f,"P",{});var Qn=w(Be);kl=T(Qn,"In my 2021 talk I proposed a solution that I called: "),zr=C(Qn,"STRONG",{});var hp=w(zr);Cl=T(hp,"SAJE"),hp.forEach(d),wl=T(Qn," (Sanic asynchronous job executor). The idea was to launch a background process that exposed a "),fi=C(Qn,"A",{href:!0,rel:!0});var fp=w(fi);Rr=C(fp,"CODE",{});var pp=w(Rr);vl=T(pp,"multiprocessing.Queue"),pp.forEach(d),fp.forEach(d),Sl=T(Qn,". From inside of an endpoint we would push data to the queue and let the SAJE process pick it up and assign the work. The endpoint would have return some sort of an identifier. With the results and state of the execution stored "),$r=C(Qn,"EM",{});var dp=w($r);Tl=T(dp,"somewhere"),dp.forEach(d),El=T(Qn,", we could then fetch information about that job using the identifier."),Qn.forEach(d),oa=W(f),Pn=C(f,"P",{});var Qa=w(Pn);Al=T(Qa,"You can view the original source code of SAJE on "),pi=C(Qa,"A",{href:!0,rel:!0});var mp=w(pi);Bl=T(mp,"GitHub"),mp.forEach(d),Ll=T(Qa,"."),Qa.forEach(d),aa=W(f),pe=C(f,"P",{});var nn=w(pe);Fl=T(nn,"The problem is that the solution proposed there has only limited capabilities. We are inherently limited to using only a single Sanic worker process because it attaches the SAJE runner in "),jr=C(nn,"CODE",{});var gp=w(jr);Ol=T(gp,"@app.main_process_start"),gp.forEach(d),Il=T(nn,". This means that only the application instance in the main process has access to that queue. In pre-22.9 this is okay "),qr=C(nn,"STRONG",{});var yp=w(qr);Ml=T(yp,"if"),yp.forEach(d),Dl=T(nn," you are not using "),Hr=C(nn,"CODE",{});var _p=w(Hr);Nl=T(_p,"auto_reload"),_p.forEach(d),Pl=T(nn," or more than one (1) worker. This is simply an inherent limitation in how "),Wr=C(nn,"CODE",{});var bp=w(Wr);zl=T(bp,"multiprocessing"),bp.forEach(d),Rl=T(nn," was implemented in Sanic."),nn.forEach(d),sa=W(f),xn=C(f,"H3",{class:!0,id:!0});var Eu=w(xn);$l=T(Eu,"Solving for this with v22.9 workers"),zn=C(Eu,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var xp=w(zn);Gi=C(xp,"I",{class:!0,"aria-hidden":!0}),w(Gi).forEach(d),xp.forEach(d),Eu.forEach(d),la=W(f),Yi=C(f,"P",{});var kp=w(Yi);jl=T(kp,"The v22.9 update to Sanic overhauled how workers operate. One of the explicit goals was to more easily allow for passing synchronization objects between workers. Another goal was to provide a framework to allow Sanic to manage arbitrary processes. Both of these concepts are what we will rely upon to create a new and improved version of SAJE."),kp.forEach(d),ca=W(f),Xi=C(f,"P",{});var Cp=w(Xi);ql=T(Cp,"In this article, I want to show a pattern for creating a managed process and for interacting with it from inside a Sanic application. To keep things simple, I will largely leverage the existing SAJE code base linked above. Our requirements will be as follows:"),Cp.forEach(d),ua=W(f),Gt=C(f,"UL",{});var Oe=w(Gt);Ur=C(Oe,"LI",{});var wp=w(Ur);Hl=T(wp,"Sanic must fully manage the startup and graceful shutdown of SAJE"),wp.forEach(d),Wl=W(Oe),Vr=C(Oe,"LI",{});var vp=w(Vr);Ul=T(vp,"an endpoint must be able to submit a set of details to execute a job"),vp.forEach(d),Vl=W(Oe),Gr=C(Oe,"LI",{});var Sp=w(Gr);Gl=T(Sp,"that endpoint must return an identifier to a specific job"),Sp.forEach(d),Yl=W(Oe),Yr=C(Oe,"LI",{});var Tp=w(Yr);Xl=T(Tp,"the job must be fully executed in a seperate worker process to not interfere with the Sanic request lifecycle"),Tp.forEach(d),Ql=W(Oe),Xr=C(Oe,"LI",{});var Ep=w(Xr);Kl=T(Ep,"details about the task execution must be persisted somewhere (for now, we will use a flat file backend)"),Ep.forEach(d),Jl=W(Oe),Qr=C(Oe,"LI",{});var Ap=w(Qr);Zl=T(Ap,"another endpoint must be able to retrieve details while the job is in progress and after its completion"),Ap.forEach(d),Oe.forEach(d),ha=W(f),Qi=C(f,"P",{});var Bp=w(Qi);tc=T(Bp,"Essentially, we will be creating a miniature celery-like application inside of Sanic."),Bp.forEach(d),fa=W(f),kn=C(f,"H2",{class:!0,id:!0});var Au=w(kn);ec=T(Au,"Adding a managed process"),Rn=C(Au,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Lp=w(Rn);Ki=C(Lp,"I",{class:!0,"aria-hidden":!0}),w(Ki).forEach(d),Lp.forEach(d),Au.forEach(d),pa=W(f),Mt=C(f,"P",{});var Yt=w(Mt);nc=T(Yt,"To begin, we will create a "),Kr=C(Yt,"CODE",{});var Fp=w(Kr);ic=T(Fp,"Queue"),Fp.forEach(d),rc=T(Yt," that will be shared across the Sanic workers and the SAJE workers. This "),Jr=C(Yt,"CODE",{});var Op=w(Jr);oc=T(Op,"Queue"),Op.forEach(d),ac=T(Yt," will be the tool by which Sanic and SAJE communicate with one another. Sanic allows us to share objects meant to be used in multiple processes (like a "),Zr=C(Yt,"CODE",{});var Ip=w(Zr);sc=T(Ip,"Queue"),Ip.forEach(d),lc=T(Yt,") by attaching them to "),to=C(Yt,"CODE",{});var Mp=w(to);cc=T(Mp,"app.shared_ctx"),Mp.forEach(d),uc=T(Yt,". The catch is that this "),eo=C(Yt,"EM",{});var Dp=w(eo);hc=T(Dp,"MUST"),Dp.forEach(d),fc=T(Yt," happen in the "),no=C(Yt,"CODE",{});var Np=w(no);pc=T(Np,"@app.main_process_start"),Np.forEach(d),dc=T(Yt," listener. This is the only time you should ever attach anything to "),io=C(Yt,"CODE",{});var Pp=w(io);mc=T(Pp,"app.shared_ctx"),Pp.forEach(d),gc=T(Yt,"."),Yt.forEach(d),da=W(f),di=C(f,"PRE",{class:!0});var E_=w(di);E_.forEach(d),ma=W(f),Iu($n.$$.fragment,f),ga=W(f),Le=C(f,"P",{});var Kn=w(Le);yc=T(Kn,"Once the "),ro=C(Kn,"CODE",{});var zp=w(ro);_c=T(zp,"Queue"),zp.forEach(d),bc=T(Kn," is setup, we can tell Sanic to "),mi=C(Kn,"A",{href:!0,rel:!0});var Rp=w(mi);xc=T(Rp,"manage a custom process"),Rp.forEach(d),kc=T(Kn,". This also must be done at a very specific time: the "),oo=C(Kn,"CODE",{});var $p=w(oo);Cc=T($p,"@app.main_process_ready"),$p.forEach(d),wc=T(Kn," listener."),Kn.forEach(d),ya=W(f),gi=C(f,"PRE",{class:!0});var A_=w(gi);A_.forEach(d),_a=W(f),de=C(f,"P",{});var rn=w(de);vc=T(rn,"As you can see, we are working with "),ao=C(rn,"CODE",{});var jp=w(ao);Sc=T(jp,"app.manager"),jp.forEach(d),Tc=T(rn,". This is a special object that is only available in the main process, and only "),so=C(rn,"EM",{});var qp=w(so);Ec=T(qp,"after"),qp.forEach(d),Ac=W(rn),lo=C(rn,"CODE",{});var Hp=w(lo);Bc=T(Hp,"main_process_start"),Hp.forEach(d),Lc=T(rn," has happened. That is why we can only attach a managed process in "),co=C(rn,"CODE",{});var Wp=w(co);Fc=T(Wp,"main_process_ready"),Wp.forEach(d),Oc=T(rn,". The arguments are fairly simple:"),rn.forEach(d),ba=W(f),tn=C(f,"UL",{});var hr=w(tn);uo=C(hr,"LI",{});var Up=w(uo);Ic=T(Up,"a name for the process,"),Up.forEach(d),Mc=W(hr),ho=C(hr,"LI",{});var Vp=w(ho);Dc=T(Vp,"a callable that will be the target function of the subprocess, and"),Vp.forEach(d),Nc=W(hr),fo=C(hr,"LI",{});var Gp=w(fo);Pc=T(Gp,"keyword arguments for the subprocess."),Gp.forEach(d),hr.forEach(d),xa=W(f),jn=C(f,"P",{});var Ka=w(jn);zc=T(Ka,"In our instance, the keyword arguments with be the shared "),po=C(Ka,"CODE",{});var Yp=w(po);Rc=T(Yp,"Queue"),Yp.forEach(d),$c=T(Ka," that we just setup."),Ka.forEach(d),ka=W(f),Ji=C(f,"P",{});var Xp=w(Ji);jc=T(Xp,"Let’s see it all together:"),Xp.forEach(d),Ca=W(f),yi=C(f,"PRE",{class:!0});var B_=w(yi);B_.forEach(d),wa=W(f),qn=C(f,"P",{});var Ja=w(qn);qc=T(Ja,"For now, don’t worry too much about what "),mo=C(Ja,"CODE",{});var Qp=w(mo);Hc=T(Qp,"worker"),Qp.forEach(d),Wc=T(Ja," is. All you need to care about right now is that it is a function that roughly lookes like this:"),Ja.forEach(d),va=W(f),_i=C(f,"PRE",{class:!0});var L_=w(_i);L_.forEach(d),Sa=W(f),Zi=C(f,"P",{});var Kp=w(Zi);bi=C(Kp,"EM",{});var Za=w(bi);Uc=T(Za,"Feel free to jump to the "),xi=C(Za,"A",{href:!0,rel:!0});var Jp=w(xi);Vc=T(Jp,"source code"),Jp.forEach(d),Gc=T(Za," to see it in full."),Za.forEach(d),Kp.forEach(d),Ta=W(f),Cn=C(f,"H2",{class:!0,id:!0});var Bu=w(Cn);Yc=T(Bu,"Sharing the queue to Sanic workers"),Hn=C(Bu,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var Zp=w(Hn);tr=C(Zp,"I",{class:!0,"aria-hidden":!0}),w(tr).forEach(d),Zp.forEach(d),Bu.forEach(d),Ea=W(f),Wn=C(f,"P",{});var ts=w(Wn);Xc=T(ts,"Since the "),go=C(ts,"CODE",{});var td=w(go);Qc=T(td,"Queue"),td.forEach(d),Kc=T(ts," will be the main conduit for triggering work, we need some sort of client that will be available to the Sanic workers."),ts.forEach(d),Aa=W(f),ki=C(f,"PRE",{class:!0});var F_=w(ki);F_.forEach(d),Ba=W(f),Un=C(f,"P",{});var es=w(Un);Jc=T(es,"The client has one job: pushing a request to execute a job to the "),yo=C(es,"CODE",{});var ed=w(yo);Zc=T(ed,"Queue"),ed.forEach(d),tu=T(es,". Now all we need to do is instantiate it."),es.forEach(d),La=W(f),Ci=C(f,"PRE",{class:!0});var O_=w(Ci);O_.forEach(d),Fa=W(f),Vn=C(f,"P",{});var ns=w(Vn);eu=T(ns,"We could leave it like that of course, but let’s use some "),wi=C(ns,"A",{href:!0,rel:!0});var nd=w(wi);nu=T(nd,"dependency injection"),nd.forEach(d),iu=T(ns," to make the experience smoother down the road."),ns.forEach(d),Oa=W(f),vi=C(f,"PRE",{class:!0});var I_=w(vi);I_.forEach(d),Ia=W(f),wn=C(f,"H2",{class:!0,id:!0});var Lu=w(wn);ru=T(Lu,"Pushing work from an endpoint"),Gn=C(Lu,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var id=w(Gn);er=C(id,"I",{class:!0,"aria-hidden":!0}),w(er).forEach(d),id.forEach(d),Lu.forEach(d),Ma=W(f),nr=C(f,"P",{});var rd=w(nr);ou=T(rd,"We should be ready now to start an actual job from an endpoint. Because we used dependency injection in the previous step, our endpoint can request for the client as seen here:"),rd.forEach(d),Da=W(f),Si=C(f,"PRE",{class:!0});var M_=w(Si);M_.forEach(d),Na=W(f),ir=C(f,"P",{});var od=w(ir);au=T(od,"That’s it. Now when we hit that endpoint and the flow will look something like this:"),od.forEach(d),Pa=W(f),Iu(Yn.$$.fragment,f),za=W(f),vn=C(f,"H2",{class:!0,id:!0});var Fu=w(vn);su=T(Fu,"Wrap-up and next steps"),Xn=C(Fu,"A",{"aria-hidden":!0,tabindex:!0,href:!0});var ad=w(Xn);rr=C(ad,"I",{class:!0,"aria-hidden":!0}),w(rr).forEach(d),ad.forEach(d),Fu.forEach(d),Ra=W(f),en=C(f,"P",{});var fr=w(en);lu=T(fr,"There obviously are a lot of steps here that I glossed over. The "),_o=C(fr,"CODE",{});var sd=w(_o);cu=T(sd,"worker"),sd.forEach(d),uu=T(fr," function mentioned above for example. I suggest you take a look at the content in the "),Ti=C(fr,"A",{href:!0,rel:!0});var ld=w(Ti);hu=T(ld,"source code"),ld.forEach(d),fu=T(fr," to see how that works."),fr.forEach(d),$a=W(f),or=C(f,"P",{});var cd=w(or);pu=T(cd,"Our goal here was to examine how to use the new worker manager feature in Sanic to coordinate the sharing of data from worker processes to a custom background process. Obviously, a secondary hope was to show how you could build out a robust platform to handle your own background processing needs entirely within Sanic."),cd.forEach(d),ja=W(f),ar=C(f,"P",{});var ud=w(ar);du=T(ud,"If I were to try to make this production ready, the things you would want to focus upon are:"),ud.forEach(d),qa=W(f),Fe=C(f,"UL",{});var Jn=w(Fe);bo=C(Jn,"LI",{});var hd=w(bo);mu=T(hd,"ensuring a more robust data store"),hd.forEach(d),gu=W(Jn),xo=C(Jn,"LI",{});var fd=w(xo);yu=T(fd,"scaling out the job workers (a new API for this is coming in v22.12, but you can do it in v22.9)"),fd.forEach(d),_u=W(Jn),ko=C(Jn,"LI",{});var pd=w(ko);bu=T(pd,"fault tolerance"),pd.forEach(d),xu=W(Jn),Co=C(Jn,"LI",{});var dd=w(Co);ku=T(dd,"abstracting tools for making single and multi-stage task operations"),dd.forEach(d),Jn.forEach(d),Ha=W(f),sr=C(f,"P",{});var md=w(sr);Cu=T(md,"Armed with this information, I hope you are now excited for what could be possible."),md.forEach(d),this.h()},h(){D(r,"class","las la-link"),D(r,"aria-hidden","true"),D(i,"aria-hidden","true"),D(i,"tabindex","-1"),D(i,"href","#table-of-contents"),D(e,"class","is-size-2"),D(e,"id","table-of-contents"),D(c,"href","#introduction"),D(b,"href","#overview-of-the-concept"),D(P,"href","#background-on-saje"),D($,"href","#solving-for-this-with-v229-workers"),D(X,"href","#adding-a-managed-process"),D(pt,"href","#sharing-the-queue-to-sanic-workers"),D(y,"href","#pushing-work-from-an-endpoint"),D(vt,"href","#wrap-up-and-next-steps"),D(Zt,"class","las la-link"),D(Zt,"aria-hidden","true"),D(le,"aria-hidden","true"),D(le,"tabindex","-1"),D(le,"href","#introduction"),D(It,"class","is-size-2"),D(It,"id","introduction"),D(St,"href","https://sanic.dev/en/guide/basics/tasks.html"),D(St,"rel","nofollow"),D(ke,"href","https://github.com/ahopkins/pyconil2021-liberate-your-api"),D(ke,"rel","nofollow"),D(mn,"href","https://sanicbook.com/"),D(mn,"rel","nofollow"),D(Ze,"href","https://docs.python.org/3/library/asyncio-task.html#asyncio.Task"),D(Ze,"rel","nofollow"),D(Tt,"href","https://sanic.dev/en/guide/release-notes/v22.9.html"),D(Tt,"rel","nofollow"),D(Ui,"class","las la-link"),D(Ui,"aria-hidden","true"),D(_n,"aria-hidden","true"),D(_n,"tabindex","-1"),D(_n,"href","#overview-of-the-concept"),D(Ce,"class","is-size-2"),D(Ce,"id","overview-of-the-concept"),D(Vi,"class","las la-link"),D(Vi,"aria-hidden","true"),D(Nn,"aria-hidden","true"),D(Nn,"tabindex","-1"),D(Nn,"href","#background-on-saje"),D(bn,"class","is-size-3"),D(bn,"id","background-on-saje"),D(fi,"href","https://docs.python.org/3/library/multiprocessing.html#multiprocessing.Queue"),D(fi,"rel","nofollow"),D(pi,"href","https://github.com/ahopkins/pyconil2021-liberate-your-api/tree/main/saje_project/breakpoints/bp3/saje_project/src"),D(pi,"rel","nofollow"),D(Gi,"class","las la-link"),D(Gi,"aria-hidden","true"),D(zn,"aria-hidden","true"),D(zn,"tabindex","-1"),D(zn,"href","#solving-for-this-with-v229-workers"),D(xn,"class","is-size-3"),D(xn,"id","solving-for-this-with-v229-workers"),D(Ki,"class","las la-link"),D(Ki,"aria-hidden","true"),D(Rn,"aria-hidden","true"),D(Rn,"tabindex","-1"),D(Rn,"href","#adding-a-managed-process"),D(kn,"class","is-size-2"),D(kn,"id","adding-a-managed-process"),D(di,"class","language-python"),D(mi,"href","https://sanic.dev/en/guide/deployment/manager.html#running-custom-processes"),D(mi,"rel","nofollow"),D(gi,"class","language-python"),D(yi,"class","language-python"),D(_i,"class","language-python"),D(xi,"href","https://github.com/ahopkins/personal-site/tree/main/code/background-job-worker"),D(xi,"rel","nofollow"),D(tr,"class","las la-link"),D(tr,"aria-hidden","true"),D(Hn,"aria-hidden","true"),D(Hn,"tabindex","-1"),D(Hn,"href","#sharing-the-queue-to-sanic-workers"),D(Cn,"class","is-size-2"),D(Cn,"id","sharing-the-queue-to-sanic-workers"),D(ki,"class","language-python"),D(Ci,"class","language-python"),D(wi,"href","https://sanic.dev/en/plugins/sanic-ext/injection.html#injecting-services"),D(wi,"rel","nofollow"),D(vi,"class","language-python"),D(er,"class","las la-link"),D(er,"aria-hidden","true"),D(Gn,"aria-hidden","true"),D(Gn,"tabindex","-1"),D(Gn,"href","#pushing-work-from-an-endpoint"),D(wn,"class","is-size-2"),D(wn,"id","pushing-work-from-an-endpoint"),D(Si,"class","language-python"),D(rr,"class","las la-link"),D(rr,"aria-hidden","true"),D(Xn,"aria-hidden","true"),D(Xn,"tabindex","-1"),D(Xn,"href","#wrap-up-and-next-steps"),D(vn,"class","is-size-2"),D(vn,"id","wrap-up-and-next-steps"),D(Ti,"href","https://github.com/ahopkins/personal-site/tree/main/code/background-job-worker"),D(Ti,"rel","nofollow")},m(f,O){I(f,e,O),p(e,n),p(e,i),p(i,r),I(f,o,O),I(f,a,O),p(a,s),p(s,l),p(l,c),p(c,u),p(a,h),p(a,g),p(g,m),p(m,b),p(b,B),p(g,M),p(g,v),p(v,F),p(F,P),p(P,G),p(v,K),p(v,E),p(E,$),p($,rt),p(a,at),p(a,dt),p(dt,j),p(j,X),p(X,tt),p(a,ft),p(a,Bt),p(Bt,Ct),p(Ct,pt),p(pt,wt),p(a,Ot),p(a,gt),p(gt,_),p(_,y),p(y,be),p(a,yt),p(a,Jt),p(Jt,et),p(et,vt),p(vt,Wt),I(f,se,O),I(f,It,O),p(It,Ke),p(It,le),p(le,Zt),I(f,ce,O),Mu(ue,f,O),I(f,je,O),I(f,Ut,O),p(Ut,qe),I(f,He,O),I(f,Te,O),p(Te,Ee),p(Ee,pn),p(pn,dn),p(Ee,We),I(f,xe,O),I(f,te,O),p(te,L),I(f,R,O),I(f,Y,O),p(Y,st),p(st,ht),p(st,St),p(St,qt),p(st,Et),p(Y,Vt),p(Y,Ht),p(Ht,mt),p(Ht,ke),p(ke,Lt),p(Ht,Or),p(Y,Ir),p(Y,_t),p(_t,Je),p(_t,mn),p(mn,$i),p(_t,ui),p(_t,On),p(On,ji),p(_t,Mr),I(f,gn,O),I(f,he,O),p(he,Dr),p(he,ee),p(ee,hi),p(he,qi),p(he,In),p(In,Nr),p(he,yn),I(f,fe,O),I(f,Ae,O),p(Ae,Hi),p(Ae,Ze),p(Ze,Mn),p(Mn,Pr),p(Ae,Q),p(Ae,x),p(x,N),I(f,q,O),I(f,lt,O),p(lt,$t),p(lt,Tt),p(Tt,Ft),p(lt,Dn),I(f,At,O),I(f,Ce,O),p(Ce,Wi),p(Ce,_n),p(_n,Ui),I(f,ia,O),I(f,bn,O),p(bn,xl),p(bn,Nn),p(Nn,Vi),I(f,ra,O),I(f,Be,O),p(Be,kl),p(Be,zr),p(zr,Cl),p(Be,wl),p(Be,fi),p(fi,Rr),p(Rr,vl),p(Be,Sl),p(Be,$r),p($r,Tl),p(Be,El),I(f,oa,O),I(f,Pn,O),p(Pn,Al),p(Pn,pi),p(pi,Bl),p(Pn,Ll),I(f,aa,O),I(f,pe,O),p(pe,Fl),p(pe,jr),p(jr,Ol),p(pe,Il),p(pe,qr),p(qr,Ml),p(pe,Dl),p(pe,Hr),p(Hr,Nl),p(pe,Pl),p(pe,Wr),p(Wr,zl),p(pe,Rl),I(f,sa,O),I(f,xn,O),p(xn,$l),p(xn,zn),p(zn,Gi),I(f,la,O),I(f,Yi,O),p(Yi,jl),I(f,ca,O),I(f,Xi,O),p(Xi,ql),I(f,ua,O),I(f,Gt,O),p(Gt,Ur),p(Ur,Hl),p(Gt,Wl),p(Gt,Vr),p(Vr,Ul),p(Gt,Vl),p(Gt,Gr),p(Gr,Gl),p(Gt,Yl),p(Gt,Yr),p(Yr,Xl),p(Gt,Ql),p(Gt,Xr),p(Xr,Kl),p(Gt,Jl),p(Gt,Qr),p(Qr,Zl),I(f,ha,O),I(f,Qi,O),p(Qi,tc),I(f,fa,O),I(f,kn,O),p(kn,ec),p(kn,Rn),p(Rn,Ki),I(f,pa,O),I(f,Mt,O),p(Mt,nc),p(Mt,Kr),p(Kr,ic),p(Mt,rc),p(Mt,Jr),p(Jr,oc),p(Mt,ac),p(Mt,Zr),p(Zr,sc),p(Mt,lc),p(Mt,to),p(to,cc),p(Mt,uc),p(Mt,eo),p(eo,hc),p(Mt,fc),p(Mt,no),p(no,pc),p(Mt,dc),p(Mt,io),p(io,mc),p(Mt,gc),I(f,da,O),I(f,di,O),di.innerHTML=b_,I(f,ma,O),Mu($n,f,O),I(f,ga,O),I(f,Le,O),p(Le,yc),p(Le,ro),p(ro,_c),p(Le,bc),p(Le,mi),p(mi,xc),p(Le,kc),p(Le,oo),p(oo,Cc),p(Le,wc),I(f,ya,O),I(f,gi,O),gi.innerHTML=x_,I(f,_a,O),I(f,de,O),p(de,vc),p(de,ao),p(ao,Sc),p(de,Tc),p(de,so),p(so,Ec),p(de,Ac),p(de,lo),p(lo,Bc),p(de,Lc),p(de,co),p(co,Fc),p(de,Oc),I(f,ba,O),I(f,tn,O),p(tn,uo),p(uo,Ic),p(tn,Mc),p(tn,ho),p(ho,Dc),p(tn,Nc),p(tn,fo),p(fo,Pc),I(f,xa,O),I(f,jn,O),p(jn,zc),p(jn,po),p(po,Rc),p(jn,$c),I(f,ka,O),I(f,Ji,O),p(Ji,jc),I(f,Ca,O),I(f,yi,O),yi.innerHTML=k_,I(f,wa,O),I(f,qn,O),p(qn,qc),p(qn,mo),p(mo,Hc),p(qn,Wc),I(f,va,O),I(f,_i,O),_i.innerHTML=C_,I(f,Sa,O),I(f,Zi,O),p(Zi,bi),p(bi,Uc),p(bi,xi),p(xi,Vc),p(bi,Gc),I(f,Ta,O),I(f,Cn,O),p(Cn,Yc),p(Cn,Hn),p(Hn,tr),I(f,Ea,O),I(f,Wn,O),p(Wn,Xc),p(Wn,go),p(go,Qc),p(Wn,Kc),I(f,Aa,O),I(f,ki,O),ki.innerHTML=w_,I(f,Ba,O),I(f,Un,O),p(Un,Jc),p(Un,yo),p(yo,Zc),p(Un,tu),I(f,La,O),I(f,Ci,O),Ci.innerHTML=v_,I(f,Fa,O),I(f,Vn,O),p(Vn,eu),p(Vn,wi),p(wi,nu),p(Vn,iu),I(f,Oa,O),I(f,vi,O),vi.innerHTML=S_,I(f,Ia,O),I(f,wn,O),p(wn,ru),p(wn,Gn),p(Gn,er),I(f,Ma,O),I(f,nr,O),p(nr,ou),I(f,Da,O),I(f,Si,O),Si.innerHTML=T_,I(f,Na,O),I(f,ir,O),p(ir,au),I(f,Pa,O),Mu(Yn,f,O),I(f,za,O),I(f,vn,O),p(vn,su),p(vn,Xn),p(Xn,rr),I(f,Ra,O),I(f,en,O),p(en,lu),p(en,_o),p(_o,cu),p(en,uu),p(en,Ti),p(Ti,hu),p(en,fu),I(f,$a,O),I(f,or,O),p(or,pu),I(f,ja,O),I(f,ar,O),p(ar,du),I(f,qa,O),I(f,Fe,O),p(Fe,bo),p(bo,mu),p(Fe,gu),p(Fe,xo),p(xo,yu),p(Fe,_u),p(Fe,ko),p(ko,bu),p(Fe,xu),p(Fe,Co),p(Co,ku),I(f,Ha,O),I(f,sr,O),p(sr,Cu),Wa=!0},p(f,[O]){const wo={};O&1&&(wo.$$scope={dirty:O,ctx:f}),ue.$set(wo);const ne={};O&1&&(ne.$$scope={dirty:O,ctx:f}),$n.$set(ne);const vo={};O&1&&(vo.$$scope={dirty:O,ctx:f}),Yn.$set(vo)},i(f){Wa||(Io(ue.$$.fragment,f),Io($n.$$.fragment,f),Io(Yn.$$.fragment,f),Wa=!0)},o(f){Mo(ue.$$.fragment,f),Mo($n.$$.fragment,f),Mo(Yn.$$.fragment,f),Wa=!1},d(f){f&&d(e),f&&d(o),f&&d(a),f&&d(se),f&&d(It),f&&d(ce),Du(ue,f),f&&d(je),f&&d(Ut),f&&d(He),f&&d(Te),f&&d(xe),f&&d(te),f&&d(R),f&&d(Y),f&&d(gn),f&&d(he),f&&d(fe),f&&d(Ae),f&&d(q),f&&d(lt),f&&d(At),f&&d(Ce),f&&d(ia),f&&d(bn),f&&d(ra),f&&d(Be),f&&d(oa),f&&d(Pn),f&&d(aa),f&&d(pe),f&&d(sa),f&&d(xn),f&&d(la),f&&d(Yi),f&&d(ca),f&&d(Xi),f&&d(ua),f&&d(Gt),f&&d(ha),f&&d(Qi),f&&d(fa),f&&d(kn),f&&d(pa),f&&d(Mt),f&&d(da),f&&d(di),f&&d(ma),Du($n,f),f&&d(ga),f&&d(Le),f&&d(ya),f&&d(gi),f&&d(_a),f&&d(de),f&&d(ba),f&&d(tn),f&&d(xa),f&&d(jn),f&&d(ka),f&&d(Ji),f&&d(Ca),f&&d(yi),f&&d(wa),f&&d(qn),f&&d(va),f&&d(_i),f&&d(Sa),f&&d(Zi),f&&d(Ta),f&&d(Cn),f&&d(Ea),f&&d(Wn),f&&d(Aa),f&&d(ki),f&&d(Ba),f&&d(Un),f&&d(La),f&&d(Ci),f&&d(Fa),f&&d(Vn),f&&d(Oa),f&&d(vi),f&&d(Ia),f&&d(wn),f&&d(Ma),f&&d(nr),f&&d(Da),f&&d(Si),f&&d(Na),f&&d(ir),f&&d(Pa),Du(Yn,f),f&&d(za),f&&d(vn),f&&d(Ra),f&&d(en),f&&d($a),f&&d(or),f&&d(ja),f&&d(ar),f&&d(qa),f&&d(Fe),f&&d(Ha),f&&d(sr)}}}const W5={date:"2022-10-09T00:00:00.000Z",tag:["Sanic","tutorial"],title:"Pushing work to the background of your Sanic app",description:"Get up and running with a background job worker entirely in Sanic"};class U5 extends $h{constructor(e){super(),jh(this,e,null,H5,qh,{})}}const fO=Object.freeze(Object.defineProperty({__proto__:null,default:U5,metadata:W5},Symbol.toStringTag,{value:"Module"}));export{qy as $,Jg as A,kb as B,W2 as C,cS as D,AC as E,gS as F,FC as G,yS as H,qo as I,vg as J,XA as K,R1 as L,nf as M,nO as N,oO as O,qd as P,jd as Q,sO as R,Se as S,aO as T,rO as U,tO as V,eO as W,cO as X,lO as Y,iO as Z,rb as _,Ng as a,Z as a0,nt as a1,Ey as a2,Bn as a3,ot as a4,Kh as a5,Zg as a6,ye as a7,Jo as a8,rk as a9,lT as aA,pm as aB,YT as aC,i0 as aD,Ah as aE,Bs as aF,fO as aG,Jh as aa,ei as ab,Uo as ac,Dd as ad,hk as ae,ny as af,Z5 as ag,gf as ah,Zo as ai,Ws as aj,mT as ak,Ty as al,Er as am,Nw as an,yT as ao,pT as ap,CT as aq,JT as ar,KS as as,e0 as at,ta as au,VS as av,Ar as aw,Us as ax,zi as ay,li as az,Dg as b,Fn as c,jo as d,Qt as e,Js as f,Mg as g,on as h,H2 as i,Rg as j,Wh as k,V as l,Ni as m,vS as n,eb as o,Pg as p,zg as q,Og as r,Ig as s,Hy as t,Ss as u,J2 as v,CS as w,bS as x,pf as y,hO as z};

import{S as at,i as rt,s as ot,d as it,D as T,k as st,o as B,L as X,b as j,I as Z,t as D,j as C,T as lt,E as Ie,e as ct,l as ft,m as ut,y as Ee,U as K,f as dt,n as pt,H as ht,G,v as H,w as oe,A as M,C as J,V as de}from"./chunks/index-5bfc61a1.js";import{S as tt,I as z,g as ze,f as We,a as ke,b as pe,s as Y,i as Ye,c as he,P as Xe,d as mt,e as _t,h as gt}from"./chunks/singletons-133885c5.js";import{_ as te}from"./chunks/preload-helper-41c905a7.js";function wt(a,e){return a==="/"||e==="ignore"?a:e==="never"?a.endsWith("/")?a.slice(0,-1):a:e==="always"&&!a.endsWith("/")?a+"/":a}function yt(a){return a.split("%25").map(decodeURI).join("%25")}function bt(a){for(const e in a)a[e]=decodeURIComponent(a[e]);return a}const vt=["href","pathname","search","searchParams","toString","toJSON"];function Et(a,e){const n=new URL(a);for(const r of vt){let o=n[r];Object.defineProperty(n,r,{get(){return e(),o},enumerable:!0,configurable:!0})}return kt(n),n}function kt(a){Object.defineProperty(a,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const $t="/__data.json";function St(a){return a.replace(/\/$/,"")+$t}function Rt(a){let e=5381;if(typeof a=="string"){let n=a.length;for(;n;)e=e*33^a.charCodeAt(--n)}else if(ArrayBuffer.isView(a)){const n=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);let r=n.length;for(;r;)e=e*33^n[--r]}else throw new TypeError("value must be a string or TypedArray");return(e>>>0).toString(36)}const me=window.fetch;window.fetch=(a,e)=>((a instanceof Request?a.method:(e==null?void 0:e.method)||"GET")!=="GET"&&ae.delete(Ue(a)),me(a,e));const ae=new Map;function Lt(a,e){const n=Ue(a,e),r=document.querySelector(n);if(r!=null&&r.textContent){const{body:o,...c}=JSON.parse(r.textContent),t=r.getAttribute("data-ttl");return t&&ae.set(n,{body:o,init:c,ttl:1e3*Number(t)}),Promise.resolve(new Response(o,c))}return me(a,e)}function It(a,e,n){if(ae.size>0){const r=Ue(a,n),o=ae.get(r);if(o){if(performance.now()<o.ttl&&["default","force-cache","only-if-cached",void 0].includes(n==null?void 0:n.cache))return new Response(o.body,o.init);ae.delete(r)}}return me(e,n)}function Ue(a,e){let r=`script[data-sveltekit-fetched][data-url=${JSON.stringify(a instanceof Request?a.url:a)}]`;return e!=null&&e.body&&(typeof e.body=="string"||ArrayBuffer.isView(e.body))&&(r+=`[data-hash="${Rt(e.body)}"]`),r}const At=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function Ot(a){const e=[];return{pattern:a==="/"?/^\/$/:new RegExp(`^${Ut(a).map(r=>{const o=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(r);if(o)return e.push({name:o[1],matcher:o[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const c=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(r);if(c)return e.push({name:c[1],matcher:c[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!r)return;const t=r.split(/\[(.+?)\](?!\])/);return"/"+t.map((d,p)=>{if(p%2){if(d.startsWith("x+"))return $e(String.fromCharCode(parseInt(d.slice(2),16)));if(d.startsWith("u+"))return $e(String.fromCharCode(...d.slice(2).split("-").map(P=>parseInt(P,16))));const g=At.exec(d);if(!g)throw new Error(`Invalid param: ${d}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,S,I,y,q]=g;return e.push({name:y,matcher:q,optional:!!S,rest:!!I,chained:I?p===1&&t[0]==="":!1}),I?"(.*?)":S?"([^/]*)?":"([^/]+?)"}return $e(d)}).join("")}).join("")}/?$`),params:e}}function Pt(a){return!/^\([^)]+\)$/.test(a)}function Ut(a){return a.slice(1).split("/").filter(Pt)}function Nt(a,e,n){const r={},o=a.slice(1);let c="";for(let t=0;t<e.length;t+=1){const s=e[t];let d=o[t];if(s.chained&&s.rest&&c&&(d=d?c+"/"+d:c),c="",d===void 0)s.rest&&(r[s.name]="");else{if(s.matcher&&!n[s.matcher](d)){if(s.optional&&s.chained){let p=o.indexOf(void 0,t);if(p===-1){const g=e[t+1];if(g!=null&&g.rest&&g.chained)c=d;else return}for(;p>=t;)o[p]=o[p-1],p-=1;continue}return}r[s.name]=d}}if(!c)return r}function $e(a){return a.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function Tt(a,e,n,r){const o=new Set(e);return Object.entries(n).map(([s,[d,p,g]])=>{const{pattern:S,params:I}=Ot(s),y={id:s,exec:q=>{const P=S.exec(q);if(P)return Nt(P,I,r)},errors:[1,...g||[]].map(q=>a[q]),layouts:[0,...p||[]].map(t),leaf:c(d)};return y.errors.length=y.layouts.length=Math.max(y.errors.length,y.layouts.length),y});function c(s){const d=s<0;return d&&(s=~s),[d,a[s]]}function t(s){return s===void 0?s:[o.has(s),a[s]]}}function jt(a){let e,n,r;var o=a[0][0];function c(t){return{props:{data:t[2],form:t[1]}}}return o&&(e=G(o,c(a))),{c(){e&&H(e.$$.fragment),n=T()},l(t){e&&oe(e.$$.fragment,t),n=T()},m(t,s){e&&M(e,t,s),B(t,n,s),r=!0},p(t,s){const d={};if(s&4&&(d.data=t[2]),s&2&&(d.form=t[1]),s&1&&o!==(o=t[0][0])){if(e){X();const p=e;j(p.$$.fragment,1,0,()=>{J(p,1)}),Z()}o?(e=G(o,c(t)),H(e.$$.fragment),D(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(d)},i(t){r||(e&&D(e.$$.fragment,t),r=!0)},o(t){e&&j(e.$$.fragment,t),r=!1},d(t){t&&C(n),e&&J(e,t)}}}function Dt(a){let e,n,r;var o=a[0][0];function c(t){return{props:{data:t[2],$$slots:{default:[Ft]},$$scope:{ctx:t}}}}return o&&(e=G(o,c(a))),{c(){e&&H(e.$$.fragment),n=T()},l(t){e&&oe(e.$$.fragment,t),n=T()},m(t,s){e&&M(e,t,s),B(t,n,s),r=!0},p(t,s){const d={};if(s&4&&(d.data=t[2]),s&1051&&(d.$$scope={dirty:s,ctx:t}),s&1&&o!==(o=t[0][0])){if(e){X();const p=e;j(p.$$.fragment,1,0,()=>{J(p,1)}),Z()}o?(e=G(o,c(t)),H(e.$$.fragment),D(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(d)},i(t){r||(e&&D(e.$$.fragment,t),r=!0)},o(t){e&&j(e.$$.fragment,t),r=!1},d(t){t&&C(n),e&&J(e,t)}}}function Vt(a){let e,n,r;var o=a[0][1];function c(t){return{props:{data:t[3],form:t[1]}}}return o&&(e=G(o,c(a))),{c(){e&&H(e.$$.fragment),n=T()},l(t){e&&oe(e.$$.fragment,t),n=T()},m(t,s){e&&M(e,t,s),B(t,n,s),r=!0},p(t,s){const d={};if(s&8&&(d.data=t[3]),s&2&&(d.form=t[1]),s&1&&o!==(o=t[0][1])){if(e){X();const p=e;j(p.$$.fragment,1,0,()=>{J(p,1)}),Z()}o?(e=G(o,c(t)),H(e.$$.fragment),D(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(d)},i(t){r||(e&&D(e.$$.fragment,t),r=!0)},o(t){e&&j(e.$$.fragment,t),r=!1},d(t){t&&C(n),e&&J(e,t)}}}function Ct(a){let e,n,r;var o=a[0][1];function c(t){return{props:{data:t[3],$$slots:{default:[qt]},$$scope:{ctx:t}}}}return o&&(e=G(o,c(a))),{c(){e&&H(e.$$.fragment),n=T()},l(t){e&&oe(e.$$.fragment,t),n=T()},m(t,s){e&&M(e,t,s),B(t,n,s),r=!0},p(t,s){const d={};if(s&8&&(d.data=t[3]),s&1043&&(d.$$scope={dirty:s,ctx:t}),s&1&&o!==(o=t[0][1])){if(e){X();const p=e;j(p.$$.fragment,1,0,()=>{J(p,1)}),Z()}o?(e=G(o,c(t)),H(e.$$.fragment),D(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(d)},i(t){r||(e&&D(e.$$.fragment,t),r=!0)},o(t){e&&j(e.$$.fragment,t),r=!1},d(t){t&&C(n),e&&J(e,t)}}}function qt(a){let e,n,r;var o=a[0][2];function c(t){return{props:{data:t[4],form:t[1]}}}return o&&(e=G(o,c(a))),{c(){e&&H(e.$$.fragment),n=T()},l(t){e&&oe(e.$$.fragment,t),n=T()},m(t,s){e&&M(e,t,s),B(t,n,s),r=!0},p(t,s){const d={};if(s&16&&(d.data=t[4]),s&2&&(d.form=t[1]),s&1&&o!==(o=t[0][2])){if(e){X();const p=e;j(p.$$.fragment,1,0,()=>{J(p,1)}),Z()}o?(e=G(o,c(t)),H(e.$$.fragment),D(e.$$.fragment,1),M(e,n.parentNode,n)):e=null}else o&&e.$set(d)},i(t){r||(e&&D(e.$$.fragment,t),r=!0)},o(t){e&&j(e.$$.fragment,t),r=!1},d(t){t&&C(n),e&&J(e,t)}}}function Ft(a){let e,n,r,o;const c=[Ct,Vt],t=[];function s(d,p){return d[0][2]?0:1}return e=s(a),n=t[e]=c[e](a),{c(){n.c(),r=T()},l(d){n.l(d),r=T()},m(d,p){t[e].m(d,p),B(d,r,p),o=!0},p(d,p){let g=e;e=s(d),e===g?t[e].p(d,p):(X(),j(t[g],1,1,()=>{t[g]=null}),Z(),n=t[e],n?n.p(d,p):(n=t[e]=c[e](d),n.c()),D(n,1),n.m(r.parentNode,r))},i(d){o||(D(n),o=!0)},o(d){j(n),o=!1},d(d){t[e].d(d),d&&C(r)}}}function Ze(a){let e,n=a[6]&&Qe(a);return{c(){e=ct("div"),n&&n.c(),this.h()},l(r){e=ft(r,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,style:!0});var o=ut(e);n&&n.l(o),o.forEach(C),this.h()},h(){Ee(e,"id","svelte-announcer"),Ee(e,"aria-live","assertive"),Ee(e,"aria-atomic","true"),K(e,"position","absolute"),K(e,"left","0"),K(e,"top","0"),K(e,"clip","rect(0 0 0 0)"),K(e,"clip-path","inset(50%)"),K(e,"overflow","hidden"),K(e,"white-space","nowrap"),K(e,"width","1px"),K(e,"height","1px")},m(r,o){B(r,e,o),n&&n.m(e,null)},p(r,o){r[6]?n?n.p(r,o):(n=Qe(r),n.c(),n.m(e,null)):n&&(n.d(1),n=null)},d(r){r&&C(e),n&&n.d()}}}function Qe(a){let e;return{c(){e=dt(a[7])},l(n){e=pt(n,a[7])},m(n,r){B(n,e,r)},p(n,r){r&128&&ht(e,n[7])},d(n){n&&C(e)}}}function Bt(a){let e,n,r,o,c;const t=[Dt,jt],s=[];function d(g,S){return g[0][1]?0:1}e=d(a),n=s[e]=t[e](a);let p=a[5]&&Ze(a);return{c(){n.c(),r=it(),p&&p.c(),o=T()},l(g){n.l(g),r=st(g),p&&p.l(g),o=T()},m(g,S){s[e].m(g,S),B(g,r,S),p&&p.m(g,S),B(g,o,S),c=!0},p(g,[S]){let I=e;e=d(g),e===I?s[e].p(g,S):(X(),j(s[I],1,1,()=>{s[I]=null}),Z(),n=s[e],n?n.p(g,S):(n=s[e]=t[e](g),n.c()),D(n,1),n.m(r.parentNode,r)),g[5]?p?p.p(g,S):(p=Ze(g),p.c(),p.m(o.parentNode,o)):p&&(p.d(1),p=null)},i(g){c||(D(n),c=!0)},o(g){j(n),c=!1},d(g){s[e].d(g),g&&C(r),p&&p.d(g),g&&C(o)}}}function Gt(a,e,n){let{stores:r}=e,{page:o}=e,{components:c}=e,{form:t}=e,{data_0:s=null}=e,{data_1:d=null}=e,{data_2:p=null}=e;lt(r.page.notify);let g=!1,S=!1,I=null;return Ie(()=>{const y=r.page.subscribe(()=>{g&&(n(6,S=!0),n(7,I=document.title||"untitled page"))});return n(5,g=!0),y}),a.$$set=y=>{"stores"in y&&n(8,r=y.stores),"page"in y&&n(9,o=y.page),"components"in y&&n(0,c=y.components),"form"in y&&n(1,t=y.form),"data_0"in y&&n(2,s=y.data_0),"data_1"in y&&n(3,d=y.data_1),"data_2"in y&&n(4,p=y.data_2)},a.$$.update=()=>{a.$$.dirty&768&&r.page.set(o)},[c,t,s,d,p,g,S,I,r,o]}class Ht extends at{constructor(e){super(),rt(this,e,Gt,Bt,ot,{stores:8,page:9,components:0,form:1,data_0:2,data_1:3,data_2:4})}}const Mt={},_e=[()=>te(()=>import("./chunks/0-91c915b5.js"),["./chunks/0-91c915b5.js","./chunks/_layout-da46b06b.js","./components/layout.svelte-4c7d506e.js","./chunks/index-5bfc61a1.js"],import.meta.url),()=>te(()=>import("./chunks/1-6a86a7ae.js"),["./chunks/1-6a86a7ae.js","./components/pages/_error.svelte-cebc0a41.js","./chunks/index-5bfc61a1.js","./chunks/singletons-133885c5.js"],import.meta.url),()=>te(()=>import("./chunks/2-172eb3b5.js"),["./chunks/2-172eb3b5.js","./components/pages/_slug_/_layout.svelte-a91a4df0.js","./chunks/index-5bfc61a1.js","./chunks/Footer-bdf9c16b.js","./assets/Footer-8b721cac.css","./assets/_layout-977ad0aa.css"],import.meta.url),()=>te(()=>import("./chunks/3-501da0c5.js"),["./chunks/3-501da0c5.js","./chunks/_page-6c6b358d.js","./chunks/preload-helper-41c905a7.js","./components/pages/_page.svelte-75e83e33.js","./chunks/index-5bfc61a1.js","./chunks/Footer-bdf9c16b.js","./assets/Footer-8b721cac.css","./chunks/Time-30ebc981.js","./chunks/dayjs.min-5d37bafc.js","./assets/_page-8fea477d.css"],import.meta.url),()=>te(()=>import("./chunks/4-f8e430b7.js"),["./chunks/4-f8e430b7.js","./chunks/_page-d0f1eb13.js","./chunks/preload-helper-41c905a7.js","./components/pages/_slug_/_page.svelte-53d855cb.js","./chunks/index-5bfc61a1.js","./chunks/Time-30ebc981.js","./chunks/dayjs.min-5d37bafc.js"],import.meta.url)],Jt=[],Kt={"/":[3],"/[slug]":[4,[2]]},zt={handleError:({error:a})=>{console.error(a)}};class Ae{constructor(e,n){this.status=e,typeof n=="string"?this.body={message:n}:n?this.body=n:this.body={message:`Error: ${e}`}}toString(){return JSON.stringify(this.body)}}class xe{constructor(e,n){this.status=e,this.location=n}}async function Wt(a){var e;for(const n in a)if(typeof((e=a[n])==null?void 0:e.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(a).map(async([r,o])=>[r,await o])));return a}const Yt=-1,Xt=-2,Zt=-3,Qt=-4,xt=-5,en=-6;function tn(a,e){if(typeof a=="number")return o(a,!0);if(!Array.isArray(a)||a.length===0)throw new Error("Invalid input");const n=a,r=Array(n.length);function o(c,t=!1){if(c===Yt)return;if(c===Zt)return NaN;if(c===Qt)return 1/0;if(c===xt)return-1/0;if(c===en)return-0;if(t)throw new Error("Invalid input");if(c in r)return r[c];const s=n[c];if(!s||typeof s!="object")r[c]=s;else if(Array.isArray(s))if(typeof s[0]=="string"){const d=s[0],p=e==null?void 0:e[d];if(p)return r[c]=p(o(s[1]));switch(d){case"Date":r[c]=new Date(s[1]);break;case"Set":const g=new Set;r[c]=g;for(let y=1;y<s.length;y+=1)g.add(o(s[y]));break;case"Map":const S=new Map;r[c]=S;for(let y=1;y<s.length;y+=2)S.set(o(s[y]),o(s[y+1]));break;case"RegExp":r[c]=new RegExp(s[1],s[2]);break;case"Object":r[c]=Object(s[1]);break;case"BigInt":r[c]=BigInt(s[1]);break;case"null":const I=Object.create(null);r[c]=I;for(let y=1;y<s.length;y+=2)I[s[y]]=o(s[y+1]);break;default:throw new Error(`Unknown type ${d}`)}}else{const d=new Array(s.length);r[c]=d;for(let p=0;p<s.length;p+=1){const g=s[p];g!==Xt&&(d[p]=o(g))}}else{const d={};r[c]=d;for(const p in s){const g=s[p];d[p]=o(g)}}return r[c]}return o(0)}function Ne(a){const e=new Set(a);function n(r,o){if(r){for(const c in r)if(c[0]!=="_"&&!e.has(c)){const t=a.join(", ");throw new Error(`Invalid export '${c}'${o?` in ${o}`:""} (valid exports are ${t}, or anything with a '_' prefix)`)}}}return n}Ne(["load","prerender","csr","ssr","trailingSlash"]);Ne(["load","prerender","csr","ssr","actions","trailingSlash"]);Ne(["GET","POST","PATCH","PUT","DELETE","prerender","trailingSlash"]);const Se=Tt(_e,Jt,Kt,Mt),Oe=_e[0],Pe=_e[1];Oe();Pe();let re={};try{re=JSON.parse(sessionStorage[tt])}catch{}function Re(a){re[a]=he()}function nn({target:a,base:e}){var Me;const n=document.documentElement,r=[];let o=null;const c={before_navigate:[],after_navigate:[]};let t={branch:[],error:null,url:null},s=!1,d=!1,p=!0,g=!1,S=!1,I=!1,y=!1,q,P=(Me=history.state)==null?void 0:Me[z];P||(P=Date.now(),history.replaceState({...history.state,[z]:P},"",location.href));const ge=re[P];ge&&(history.scrollRestoration="manual",scrollTo(ge.x,ge.y));let W,Te,ie;async function je(){ie=ie||Promise.resolve(),await ie,ie=null;const i=new URL(location.href),l=ce(i,!0);o=null,await Ve(l,i,[])}async function we(i,{noScroll:l=!1,replaceState:u=!1,keepFocus:f=!1,state:h={},invalidateAll:m=!1},_,v){return typeof i=="string"&&(i=new URL(i,ze(document))),fe({url:i,scroll:l?he():null,keepfocus:f,redirect_chain:_,details:{state:h,replaceState:u},nav_token:v,accepted:()=>{m&&(y=!0)},blocked:()=>{},type:"goto"})}async function De(i){const l=ce(i,!1);if(!l)throw new Error(`Attempted to preload a URL that does not belong to this app: ${i}`);return o={id:l.id,promise:Fe(l).then(u=>(u.type==="loaded"&&u.state.error&&(o=null),u))},o.promise}async function se(...i){const u=Se.filter(f=>i.some(h=>f.exec(h))).map(f=>Promise.all([...f.layouts,f.leaf].map(h=>h==null?void 0:h[1]())));await Promise.all(u)}async function Ve(i,l,u,f,h={},m){var v,b;Te=h;let _=i&&await Fe(i);if(_||(_=await He(l,{id:null},await ne(new Error(`Not found: ${l.pathname}`),{url:l,params:{},route:{id:null}}),404)),l=(i==null?void 0:i.url)||l,Te!==h)return!1;if(_.type==="redirect")if(u.length>10||u.includes(l.pathname))_=await le({status:500,error:await ne(new Error("Redirect loop"),{url:l,params:{},route:{id:null}}),url:l,route:{id:null}});else return we(new URL(_.location,l).href,{},[...u,l.pathname],h),!1;else((b=(v=_.props)==null?void 0:v.page)==null?void 0:b.status)>=400&&await Y.updated.check()&&await ue(l);if(r.length=0,y=!1,g=!0,f&&f.details){const{details:w}=f,$=w.replaceState?0:1;w.state[z]=P+=$,history[w.replaceState?"replaceState":"pushState"](w.state,"",l)}if(o=null,d?(t=_.state,_.props.page&&(_.props.page.url=l),q.$set(_.props)):Ce(_),f){const{scroll:w,keepfocus:$}=f;if($||Le(),await de(),p){const R=l.hash&&document.getElementById(l.hash.slice(1));w?scrollTo(w.x,w.y):R?R.scrollIntoView():scrollTo(0,0)}}else await de();p=!0,_.props.page&&(W=_.props.page),m&&m(),g=!1}function Ce(i){var f;t=i.state;const l=document.querySelector("style[data-sveltekit]");l&&l.remove(),W=i.props.page,q=new Ht({target:a,props:{...i.props,stores:Y},hydrate:!0});const u={from:null,to:{params:t.params,route:{id:((f=t.route)==null?void 0:f.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};c.after_navigate.forEach(h=>h(u)),d=!0}async function x({url:i,params:l,branch:u,status:f,error:h,route:m,form:_}){const v=u.filter(Boolean);let b="never";for(const L of u)(L==null?void 0:L.slash)!==void 0&&(b=L.slash);i.pathname=wt(i.pathname,b),i.search=i.search;const w={type:"loaded",state:{url:i,params:l,branch:u,error:h,route:m},props:{components:v.map(L=>L.node.component)}};_!==void 0&&(w.props.form=_);let $={},R=!W;for(let L=0;L<v.length;L+=1){const E=v[L];$={...$,...E.data},(R||!t.branch.some(N=>N===E))&&(w.props[`data_${L}`]=$,R=R||Object.keys(E.data??{}).length>0)}return R||(R=Object.keys(W.data).length!==Object.keys($).length),(!t.url||i.href!==t.url.href||t.error!==h||_!==void 0||R)&&(w.props.page={error:h,params:l,route:m,status:f,url:new URL(i),form:_??null,data:R?$:W.data}),w}async function ye({loader:i,parent:l,url:u,params:f,route:h,server_data_node:m}){var w,$,R;let _=null;const v={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},b=await i();if((w=b.universal)!=null&&w.load){let F=function(...E){for(const N of E){const{href:V}=new URL(N,u);v.dependencies.add(V)}};const L={route:{get id(){return v.route=!0,h.id}},params:new Proxy(f,{get:(E,N)=>(v.params.add(N),E[N])}),data:(m==null?void 0:m.data)??null,url:Et(u,()=>{v.url=!0}),async fetch(E,N){let V;E instanceof Request?(V=E.url,N={body:E.method==="GET"||E.method==="HEAD"?void 0:await E.blob(),cache:E.cache,credentials:E.credentials,headers:E.headers,integrity:E.integrity,keepalive:E.keepalive,method:E.method,mode:E.mode,redirect:E.redirect,referrer:E.referrer,referrerPolicy:E.referrerPolicy,signal:E.signal,...N}):V=E;const k=new URL(V,u).href;return F(k),d?It(V,k,N):Lt(V,N)},setHeaders:()=>{},depends:F,parent(){return v.parent=!0,l()}};_=await b.universal.load.call(null,L)??null,_=_?await Wt(_):null}return{node:b,loader:i,server:m,universal:($=b.universal)!=null&&$.load?{type:"data",data:_,uses:v}:null,data:_??(m==null?void 0:m.data)??null,slash:((R=b.universal)==null?void 0:R.trailingSlash)??(m==null?void 0:m.slash)}}function qe(i,l,u,f,h){if(y)return!0;if(!f)return!1;if(f.parent&&i||f.route&&l||f.url&&u)return!0;for(const m of f.params)if(h[m]!==t.params[m])return!0;for(const m of f.dependencies)if(r.some(_=>_(new URL(m))))return!0;return!1}function be(i,l){return(i==null?void 0:i.type)==="data"?{type:"data",data:i.data,uses:{dependencies:new Set(i.uses.dependencies??[]),params:new Set(i.uses.params??[]),parent:!!i.uses.parent,route:!!i.uses.route,url:!!i.uses.url},slash:i.slash}:(i==null?void 0:i.type)==="skip"?l??null:null}async function Fe({id:i,invalidating:l,url:u,params:f,route:h}){if((o==null?void 0:o.id)===i)return o.promise;const{errors:m,layouts:_,leaf:v}=h,b=[..._,v];m.forEach(k=>k==null?void 0:k().catch(()=>{})),b.forEach(k=>k==null?void 0:k[1]().catch(()=>{}));let w=null;const $=t.url?i!==t.url.pathname+t.url.search:!1,R=t.route?i!==t.route.id:!1,F=b.reduce((k,O,U)=>{var ee;const A=t.branch[U],Q=!!(O!=null&&O[0])&&((A==null?void 0:A.loader)!==O[1]||qe(k.some(Boolean),R,$,(ee=A.server)==null?void 0:ee.uses,f));return k.push(Q),k},[]);if(F.some(Boolean)){try{w=await et(u,F)}catch(k){return le({status:500,error:await ne(k,{url:u,params:f,route:{id:h.id}}),url:u,route:h})}if(w.type==="redirect")return w}const L=w==null?void 0:w.nodes;let E=!1;const N=b.map(async(k,O)=>{var ee;if(!k)return;const U=t.branch[O],A=L==null?void 0:L[O];if((!A||A.type==="skip")&&k[1]===(U==null?void 0:U.loader)&&!qe(E,R,$,(ee=U.universal)==null?void 0:ee.uses,f))return U;if(E=!0,(A==null?void 0:A.type)==="error")throw A;return ye({loader:k[1],url:u,params:f,route:h,parent:async()=>{var Ke;const Je={};for(let ve=0;ve<O;ve+=1)Object.assign(Je,(Ke=await N[ve])==null?void 0:Ke.data);return Je},server_data_node:be(A===void 0&&k[0]?{type:"skip"}:A??null,U==null?void 0:U.server)})});for(const k of N)k.catch(()=>{});const V=[];for(let k=0;k<b.length;k+=1)if(b[k])try{V.push(await N[k])}catch(O){if(O instanceof xe)return{type:"redirect",location:O.location};let U=500,A;L!=null&&L.includes(O)?(U=O.status??U,A=O.error):O instanceof Ae?(U=O.status,A=O.body):A=await ne(O,{params:f,url:u,route:{id:h.id}});const Q=await Be(k,V,m);return Q?await x({url:u,params:f,branch:V.slice(0,Q.idx).concat(Q.node),status:U,error:A,route:h}):await He(u,{id:h.id},A,U)}else V.push(void 0);return await x({url:u,params:f,branch:V,status:200,error:null,route:h,form:l?void 0:null})}async function Be(i,l,u){for(;i--;)if(u[i]){let f=i;for(;!l[f];)f-=1;try{return{idx:f+1,node:{node:await u[i](),loader:u[i],data:{},server:null,universal:null}}}catch{continue}}}async function le({status:i,error:l,url:u,route:f}){const h={},m=await Oe();let _=null;if(m.server)try{const w=await et(u,[!0]);if(w.type!=="data"||w.nodes[0]&&w.nodes[0].type!=="data")throw 0;_=w.nodes[0]??null}catch{(u.origin!==location.origin||u.pathname!==location.pathname||s)&&await ue(u)}const v=await ye({loader:Oe,url:u,params:h,route:f,parent:()=>Promise.resolve({}),server_data_node:be(_)}),b={node:await Pe(),loader:Pe,universal:null,server:null,data:null};return await x({url:u,params:h,branch:[v,b],status:i,error:l,route:null})}function ce(i,l){if(Ye(i,e))return;const u=yt(i.pathname.slice(e.length)||"/");for(const f of Se){const h=f.exec(u);if(h)return{id:i.pathname+i.search,invalidating:l,route:f,params:bt(h),url:i}}}function Ge({url:i,type:l,intent:u,delta:f}){var v,b;let h=!1;const m={from:{params:t.params,route:{id:((v=t.route)==null?void 0:v.id)??null},url:t.url},to:{params:(u==null?void 0:u.params)??null,route:{id:((b=u==null?void 0:u.route)==null?void 0:b.id)??null},url:i},willUnload:!u,type:l};f!==void 0&&(m.delta=f);const _={...m,cancel:()=>{h=!0}};return S||c.before_navigate.forEach(w=>w(_)),h?null:m}async function fe({url:i,scroll:l,keepfocus:u,redirect_chain:f,details:h,type:m,delta:_,nav_token:v,accepted:b,blocked:w}){const $=ce(i,!1),R=Ge({url:i,type:m,delta:_,intent:$});if(!R){w();return}Re(P),b(),S=!0,d&&Y.navigating.set(R),await Ve($,i,f,{scroll:l,keepfocus:u,details:h},v,()=>{S=!1,c.after_navigate.forEach(F=>F(R)),Y.navigating.set(null)})}async function He(i,l,u,f){return i.origin===location.origin&&i.pathname===location.pathname&&!s?await le({status:f,error:u,url:i,route:l}):await ue(i)}function ue(i){return location.href=i.href,new Promise(()=>{})}function nt(){let i;n.addEventListener("mousemove",m=>{const _=m.target;clearTimeout(i),i=setTimeout(()=>{f(_,2)},20)});function l(m){f(m.composedPath()[0],1)}n.addEventListener("mousedown",l),n.addEventListener("touchstart",l,{passive:!0});const u=new IntersectionObserver(m=>{for(const _ of m)_.isIntersecting&&(se(new URL(_.target.href).pathname),u.unobserve(_.target))},{threshold:0});function f(m,_){const v=We(m,n);if(!v)return;const{url:b,external:w}=ke(v,e);if(w)return;const $=pe(v);$.reload||(_<=$.preload_data?De(b):_<=$.preload_code&&se(b.pathname))}function h(){u.disconnect();for(const m of n.querySelectorAll("a")){const{url:_,external:v}=ke(m,e);if(v)continue;const b=pe(m);b.reload||(b.preload_code===Xe.viewport&&u.observe(m),b.preload_code===Xe.eager&&se(_.pathname))}}c.after_navigate.push(h),h()}return{after_navigate:i=>{Ie(()=>(c.after_navigate.push(i),()=>{const l=c.after_navigate.indexOf(i);c.after_navigate.splice(l,1)}))},before_navigate:i=>{Ie(()=>(c.before_navigate.push(i),()=>{const l=c.before_navigate.indexOf(i);c.before_navigate.splice(l,1)}))},disable_scroll_handling:()=>{(g||!d)&&(p=!1)},goto:(i,l={})=>we(i,l,[]),invalidate:i=>{if(typeof i=="function")r.push(i);else{const{href:l}=new URL(i,location.href);r.push(u=>u.href===l)}return je()},invalidateAll:()=>(y=!0,je()),preload_data:async i=>{const l=new URL(i,ze(document));await De(l)},preload_code:se,apply_action:async i=>{if(i.type==="error"){const l=new URL(location.href),{branch:u,route:f}=t;if(!f)return;const h=await Be(t.branch.length,u,f.errors);if(h){const m=await x({url:l,params:t.params,branch:u.slice(0,h.idx).concat(h.node),status:i.status??500,error:i.error,route:f});t=m.state,q.$set(m.props),de().then(Le)}}else if(i.type==="redirect")we(i.location,{invalidateAll:!0},[]);else{const l={form:i.data,page:{...W,form:i.data,status:i.status}};q.$set(l),i.type==="success"&&de().then(Le)}},_start_router:()=>{var i;history.scrollRestoration="manual",addEventListener("beforeunload",l=>{var f;let u=!1;if(!S){const h={from:{params:t.params,route:{id:((f=t.route)==null?void 0:f.id)??null},url:t.url},to:null,willUnload:!0,type:"leave",cancel:()=>u=!0};c.before_navigate.forEach(m=>m(h))}u?(l.preventDefault(),l.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{if(document.visibilityState==="hidden"){Re(P);try{sessionStorage[tt]=JSON.stringify(re)}catch{}}}),(i=navigator.connection)!=null&&i.saveData||nt(),n.addEventListener("click",l=>{if(l.button||l.which!==1||l.metaKey||l.ctrlKey||l.shiftKey||l.altKey||l.defaultPrevented)return;const u=We(l.composedPath()[0],n);if(!u)return;const{url:f,external:h,has:m}=ke(u,e),_=pe(u);if(!f||!(u instanceof SVGAElement)&&f.protocol!==location.protocol&&!(f.protocol==="https:"||f.protocol==="http:")||m.download)return;if(h||_.reload){Ge({url:f,type:"link"})||l.preventDefault(),S=!0;return}const[b,w]=f.href.split("#");if(w!==void 0&&b===location.href.split("#")[0]){I=!0,Re(P),t.url=f,Y.page.set({...W,url:f}),Y.page.notify();return}fe({url:f,scroll:_.noscroll?he():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:f.href===location.href},accepted:()=>l.preventDefault(),blocked:()=>l.preventDefault(),type:"link"})}),n.addEventListener("submit",l=>{var b;if(l.defaultPrevented)return;const u=HTMLFormElement.prototype.cloneNode.call(l.target),f=l.submitter;if(((f==null?void 0:f.formMethod)||u.method)!=="get")return;const m=new URL(((b=l.submitter)==null?void 0:b.hasAttribute("formaction"))&&(f==null?void 0:f.formAction)||u.action);if(Ye(m,e))return;const{noscroll:_,reload:v}=pe(l.target);v||(l.preventDefault(),l.stopPropagation(),m.search=new URLSearchParams(new FormData(l.target)).toString(),fe({url:m,scroll:_?he():null,keepfocus:!1,redirect_chain:[],details:{state:{},replaceState:!1},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"}))}),addEventListener("popstate",l=>{var u;if((u=l.state)!=null&&u[z]){if(l.state[z]===P)return;const f=l.state[z]-P;fe({url:new URL(location.href),scroll:re[l.state[z]],keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{P=l.state[z]},blocked:()=>{history.go(-f)},type:"popstate",delta:f})}}),addEventListener("hashchange",()=>{I&&(I=!1,history.replaceState({...history.state,[z]:++P},"",location.href))});for(const l of document.querySelectorAll("link"))l.rel==="icon"&&(l.href=l.href);addEventListener("pageshow",l=>{l.persisted&&Y.navigating.set(null)})},_hydrate:async({status:i=200,error:l,node_ids:u,params:f,route:h,data:m,form:_})=>{s=!0;const v=new URL(location.href);({params:f={},route:h={id:null}}=ce(v,!1)||{});let b;try{const w=u.map(async($,R)=>{const F=m[R];return ye({loader:_e[$],url:v,params:f,route:h,parent:async()=>{const L={};for(let E=0;E<R;E+=1)Object.assign(L,(await w[E]).data);return L},server_data_node:be(F)})});b=await x({url:v,params:f,branch:await Promise.all(w),status:i,error:l,form:_,route:Se.find(({id:$})=>$===h.id)??null})}catch(w){if(w instanceof xe){await ue(new URL(w.location,location.href));return}b=await le({status:w instanceof Ae?w.status:500,error:await ne(w,{url:v,params:f,route:h}),url:v,route:h})}Ce(b)}}}async function et(a,e){var c;const n=new URL(a);n.pathname=St(a.pathname),n.searchParams.append("x-sveltekit-invalidated",e.map(t=>t?"1":"").join("_"));const r=await me(n.href),o=await r.json();if(!r.ok)throw new Error(o);return(c=o.nodes)==null||c.forEach(t=>{(t==null?void 0:t.type)==="data"&&(t.data=tn(t.data),t.uses={dependencies:new Set(t.uses.dependencies??[]),params:new Set(t.uses.params??[]),parent:!!t.uses.parent,route:!!t.uses.route,url:!!t.uses.url})}),o}function ne(a,e){return a instanceof Ae?a.body:zt.handleError({error:a,event:e})??{message:e.route.id!=null?"Internal Error":"Not Found"}}function Le(){const a=document.querySelector("[autofocus]");if(a)a.focus();else{const e=document.body,n=e.getAttribute("tabindex");e.tabIndex=-1,e.focus({preventScroll:!0}),setTimeout(()=>{var r;(r=getSelection())==null||r.removeAllRanges()}),n!==null?e.setAttribute("tabindex",n):e.removeAttribute("tabindex")}}async function sn({env:a,hydrate:e,paths:n,target:r,version:o}){mt(n),gt(o);const c=nn({target:r,base:n.base});_t({client:c}),e?await c._hydrate(e):c.goto(location.href,{replaceState:!0}),c._start_router()}export{sn as start};
